{"version":3,"sources":["Components/hooks/auth-hook.js","Components/FormElements/Button.js","Components/util/validators.js","Components/FormElements/Input.js","Components/hooks/http-hook.js","Components/UIElements/LoadingSpinner.js","Components/UIElements/Backdrop.js","Components/UIElements/Modal.js","Components/UIElements/ErrorModal.js","Components/hooks/form-hook.js","context/auth-context.js","Components/Admin/AdminHeader.js","Components/Admin/AdminNav.js","Components/FormElements/ImageUpload.js","Components/Admin/AdminStore/AdminAddItem.js","Components/Admin/AdminStore/AdminBonusDelivery.js","Components/Admin/AdminStore/AdminBonusItems.js","Components/Admin/AdminStore/AdminBonus.js","Components/Admin/AdminStore/AdminCategory.js","Components/Admin/AdminStore/AdminDeleteItem.js","Components/Admin/AdminStore/AdminDeliveryPrice.js","Components/Admin/AdminStore/AdminDeliveryTime.js","Components/Admin/AdminStore/AdminTime.js","Components/Admin/AdminStore/AdminDelivery.js","Components/Admin/AdminStore/AdminSpecialReservation.js","Components/Admin/AdminStore/AdminUpdate.js","Components/Admin/AdminStore/AdminValue.js","Components/Admin/AdminPanel.js","Components/Header/Navigation.js","Components/Header/SideDrawer.js","images/logo.png","Components/Header/Header.js","Components/Footer/Footer.js","context/cart-reducer.js","context/cart-context.jsx","helper.js","Components/Body/ProductCard.js","Components/UIElements/Card.js","Components/hooks/date-hook.js","Components/Body/Store.js","Components/Body/Cart.js","Components/Body/Order.js","Components/Body/Success.js","images/50.jpg","Components/Body/Failed.js","Components/Body/SpecialProductCard.js","Components/Body/SpecialReservation.js","App.js","index.js"],"names":["logoutTimer","Button","props","href","className","size","inverse","danger","children","to","exact","active","isClicked","type","onClick","disabled","id","name","payment","value","VALIDATOR_TYPE_REQUIRE","VALIDATOR_TYPE_MINLENGTH","VALIDATOR_TYPE_MAXLENGTH","VALIDATOR_TYPE_EMAIL","VALIDATOR_REQUIRE","VALIDATOR_MAX","val","VALIDATOR_EMAIL","validate","validators","isValid","validator","trim","length","test","inputReducer","state","action","isTouched","Input","useReducer","initialValue","initialValid","inputState","dispatch","onInput","useEffect","changeHandler","event","target","touchHandler","element","min","max","placeholder","onChange","onBlur","options","rows","htmlFor","label","style","position","left","errorText","useHttpClient","useState","isLoading","setIsLoading","error","setError","activeHttpRequests","useRef","sendRequest","useCallback","url","a","method","body","headers","httpAbortCtrl","AbortController","current","push","fetch","signal","response","json","responseData","filter","reqCtrl","ok","Error","message","forEach","abortCtrl","abort","clearError","LoadingSpinner","asOverlay","Backdrop","ReactDOM","createPortal","document","getElementById","ModalOverlay","content","headerClass","header","onSubmit","preventDefault","contentClass","footerClass","footer","Modal","Fragment","show","onCancel","CSSTransition","in","mountOnEnter","unmountOnExit","timeout","classNames","ErrorModal","onClear","formReducer","formIsValid","inputId","inputs","useForm","initialInputs","initialFormValidity","formState","inputData","formValidity","AuthContext","createContext","isLoggedIn","userId","token","role","login","logout","AdminHeader","auth","useContext","email","password","inputHandler","authSubmitHandler","process","JSON","stringify","alert","window","location","reload","AdminNav","changeSection","ImageUpload","file","setFile","previewUrl","setPreviewUrl","setIsValid","images","setImages","imagesValue","setImagesValue","setSelectedId","filePickerRef","console","log","actualPrevievUrl","fileReader","FileReader","allImages","onload","result","readAsDataURL","deleteImage","e","newImages","newImagesValue","splice","fileIsValid","imageArea","map","i","height","width","src","alt","cursor","ref","display","accept","pickedFile","onInputImgValue","files","center","click","AdminAddItem","categories","setCategories","description","price","category","image","fetchCategories","itemSubmitHandler","formData","FormData","append","Authorization","setOptions","AdminBonusDelivery","setValue","fetchValue","bonus_delivery_price","valueSubmitHandler","parseInt","AdminBonusItems","bonus_items_price","AdminBonus","borderBottom","borderTop","AdminCategory","catId","setCatId","catSubmitHandler","deleteCategorySubmitHandler","_id","AdminDeleteItem","items","setItems","itemId","setItemId","fetchItems","deleteItemSubmitHandler","AdminDeliveryPrice","delivery_price","actualDeliveryTime","setActualDeliveryTime","deliveryTime","fetchDeliveryTime","time","deliveryTimeSubmitHandler","AdminTime","times","setTimes","setTime","timeAvailability","setTimeAvailability","startHour","startMinute","endHour","endMinute","day","dayFormState","selectHandler","fetchTimes","fetchTime","available","timeSubmitHandler","start","hour","minute","end","marginTop","for","fontWeight","marginBottom","prevAvailibility","checked","margin","AdminDelivery","AdminDeliveryTime","AdminSpecialReservation","reservation","setReservation","reservationDay","setReservationDay","availableHours","setAvailableHours","setAvailable","setMessage","showModal","setShowModal","selectDayHandler","guests","fetchSpecialReservation","reservations","days","fetchDay","hours","sortHours","sort","b","inputChange","hourId","find","newGuests","newAvailableHours","Object","values","deleteInput","submitHandler","newAvailable","submitNewHourHandler","closeModalHandler","setDaysOptions","setInputs","color","textAlign","class","padding","prevAvailable","AdminUpdateItem","item","setItem","itemAvailability","setItemAvailability","itemBonus","setItemBonus","itemSpecial","setItemSpecial","itemFormState","fetchItem","bonus","special","setItemOptions","prevBonus","prevSpecial","AdminValue","newValue","AdminPanel","section","setSection","AdminUpdate","Navigation","SideDrawer","Header","drawerIsOpen","setDrawerIsOpen","closeDrawerHandler","Logo","Footer","sumItems","cartItems","itemCount","reduce","total","prod","quantity","cartReducer","payload","newCartItems","increaseIndex","findIndex","decreaseIndex","bonusItem","CartContext","initialState","CartContextProvider","contextValues","addProduct","product","removeProduct","increase","decrease","addBonusItem","Provider","isInCart","ProductCard","history","useHistory","maxWidth","marginLeft","Card","useDate","today","setToday","dayId","setDayId","currentHour","setCurrentHour","currentMinute","setCurrentMinute","date","Date","getDay","getHours","getMinutes","Store","allItems","setAllItems","minOrderValue","setMinOrderValue","deliveryHours","setDeliveryHours","deliveryPrice","setDeliveryPrice","minBonusDeliveryPrice","setMinBonusDeliveryPrice","deliveryAvailable","setDeliveryAvailable","scrollTo","filteredItems","sortItemsByName","sortItemsByCategory","aCatValue","bCatValue","storeCategories","cat","getMinOrderValue","getDeliveryHours","currentDay","currentDayAvailibility","fetchDeliveryPrice","getBonusDeliveryPrice","filterByCategory","innerHTML","categoryValue","toLowerCase","includes","categoryList","showDeliveryHours","item_list","itemList","Cart","valid","orderValid","setOrderValid","minBonusItemsPrice","setMinBonusItemsPrice","bonusItemCheckedId","setBonusItemCheckedId","bonusItems","setBonusItems","getDeliveryPrice","getBonusItems","getBonusItemsPrice","orderValidation","changeBonusItem","showCartItems","checkProductQuantity","Geocode","setApiKey","fromAddress","then","results","geometry","lat","lng","toFixed","showBonusItems","fontSize","marginRight","Order","timepickerValue","setTimepickerValue","minTime","setMinTime","maxTime","setMaxTime","isToLateToOrder","setIsToLateToOrder","paymentOffline","setPaymentOffline","stripe","useStripe","minOrderTime","maxOrderTime","toString","street","local","apartament","zipCode","city","phoneNumber","formSubmitHandler","customer_items","line_items","price_data","currency","unit_amount","product_data","address","customer_email","deliveryHour","phone","option","sessionId","redirectToCheckout","paymentMethod","delivery_info","totalAmount","bonusItemName","customer_phoneNumber","customer_address","minHeight","format","step","minutes","prevPayment","Success","setDeliveryTime","Failed","SpecialProductCard","specialItemCheckedId","changeClickedProductId","SpecialReservation","getFullYear","getMonth","getDate","startDate","setStartDate","maxGuests","setMaxGuests","setSpecialItemCheckedId","availableGuests","h","setHourOptions","selected","dateFormat","minDate","maxDate","App","setToken","tokenExpirationDate","setTokenExpirationDate","setUserId","setRole","uid","expirationDate","getTime","localStorage","expiration","toISOString","removeItem","remainingTime","setTimeout","clearTimeout","storedData","parse","getItem","useAuth","routes","path","backgroundColor","flexDirection","stripePromise","loadStripe","render","StrictMode"],"mappings":"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","file":"static/js/main.9c710600.chunk.js","sourcesContent":["import { useState, useCallback, useEffect } from 'react';\n\nlet logoutTimer;\n\nexport const useAuth = () => {\n  const [token, setToken] = useState(false);\n  const [tokenExpirationDate, setTokenExpirationDate] = useState();\n  const [userId, setUserId] = useState(false);\n  const [role, setRole] = useState(false);\n\n  const login = useCallback((uid, token, role, expirationDate) => {\n    setToken(token);\n    setUserId(uid);\n    setRole(role);\n    const tokenExpirationDate =\n      expirationDate || new Date(new Date().getTime() + 1000 * 60 * 60);\n    setTokenExpirationDate(tokenExpirationDate);\n    localStorage.setItem(\n      'userData',\n      JSON.stringify({\n        userId: uid,\n        token: token,\n        role: role,\n        expiration: tokenExpirationDate.toISOString()\n      })\n    );\n  }, []);\n\n  const logout = useCallback(() => {\n    setToken(null);\n    setTokenExpirationDate(null);\n    setUserId(null);\n    setRole(null);\n    localStorage.removeItem('userData');\n  }, []);\n\n  useEffect(() => {\n    if (token && tokenExpirationDate) {\n      const remainingTime = tokenExpirationDate.getTime() - new Date().getTime();\n      logoutTimer = setTimeout(logout, remainingTime);\n    } else {\n      clearTimeout(logoutTimer);\n    }\n  }, [token, logout, tokenExpirationDate]);\n\n  useEffect(() => {\n    const storedData = JSON.parse(localStorage.getItem('userData'));\n    if (\n      storedData &&\n      storedData.token &&\n      new Date(storedData.expiration) > new Date()\n    ) {\n      login(storedData.userId, storedData.token, storedData.role, new Date(storedData.expiration));\n    }\n  }, [login]);\n\n  return { token, login, logout, userId, role };\n};","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport './Button.css';\n\nconst Button = props => {\n  if (props.href) {\n    return (\n      <a\n        className={`button button--${props.size || 'default'} ${props.inverse &&\n          'button--inverse'} ${props.danger && 'button--danger'}`}\n        href={props.href}\n      >\n        {props.children}\n      </a>\n    );\n  }\n  if (props.to) {\n    return (\n      <Link\n        to={props.to}\n        exact={props.exact}\n        className={`button button--${props.size || 'default'} ${props.inverse &&\n          'button--inverse'} ${props.danger && 'button--danger'}`}\n      >\n        {props.children}\n      </Link>\n    );\n  }\n  return (\n    <button\n      className={`button button--${props.size || 'default'} ${props.inverse &&\n        'button--inverse'} ${props.danger && 'button--danger'} ${props.active && 'button--active'} ${props.isClicked && \"button--active\"}`}\n      type={props.type}\n      onClick={props.onClick}\n      disabled={props.disabled}\n      id={props.id || null}\n      name={props.payment || null}\n      value={props.id}\n    >\n      {props.children}\n    </button>\n  );\n};\n\nexport default Button;\n","const VALIDATOR_TYPE_REQUIRE = 'REQUIRE';\nconst VALIDATOR_TYPE_MINLENGTH = 'MINLENGTH';\nconst VALIDATOR_TYPE_MAXLENGTH = 'MAXLENGTH';\nconst VALIDATOR_TYPE_MIN = 'MIN';\nconst VALIDATOR_TYPE_MAX = 'MAX';\nconst VALIDATOR_TYPE_EMAIL = 'EMAIL';\nconst VALIDATOR_TYPE_FILE = 'FILE';\n\nexport const VALIDATOR_REQUIRE = () => ({ type: VALIDATOR_TYPE_REQUIRE });\nexport const VALIDATOR_FILE = () => ({ type: VALIDATOR_TYPE_FILE });\nexport const VALIDATOR_MINLENGTH = val => ({\n  type: VALIDATOR_TYPE_MINLENGTH,\n  val: val\n});\nexport const VALIDATOR_MAXLENGTH = val => ({\n  type: VALIDATOR_TYPE_MAXLENGTH,\n  val: val\n});\nexport const VALIDATOR_MIN = val => ({ type: VALIDATOR_TYPE_MIN, val: val });\nexport const VALIDATOR_MAX = val => ({ type: VALIDATOR_TYPE_MAX, val: val });\nexport const VALIDATOR_EMAIL = () => ({ type: VALIDATOR_TYPE_EMAIL });\n\nexport const validate = (value, validators) => {\n  let isValid = true;\n  for (const validator of validators) {\n    if (validator.type === VALIDATOR_TYPE_REQUIRE) {\n      isValid = isValid && value.trim().length > 0;\n    }\n    if (validator.type === VALIDATOR_TYPE_MINLENGTH) {\n      isValid = isValid && value.trim().length >= validator.val;\n    }\n    if (validator.type === VALIDATOR_TYPE_MAXLENGTH) {\n      isValid = isValid && value.trim().length <= validator.val;\n    }\n    if (validator.type === VALIDATOR_TYPE_MIN) {\n      isValid = isValid && +value >= validator.val;\n    }\n    if (validator.type === VALIDATOR_TYPE_MAX) {\n      isValid = isValid && +value <= validator.val;\n    }\n    if (validator.type === VALIDATOR_TYPE_EMAIL) {\n      isValid = isValid && /^\\S+@\\S+\\.\\S+$/.test(value);\n    }\n  }\n  return isValid;\n};\n","import React, { useReducer, useEffect } from 'react';\n\nimport { validate } from '../util/validators';\nimport './Input.css';\n\nconst inputReducer = (state, action) => {\n  switch (action.type) {\n    case 'CHANGE':\n      return {\n        ...state,\n        value: action.val,\n        isValid: action.validators ? validate(action.val, action.validators) : true\n        // isValid: validate(action.val, action.validators)\n      };\n    case 'TOUCH': {\n      return {\n        ...state,\n        isTouched: true\n      };\n    }\n    default:\n      return state;\n  }\n};\n\nconst Input = props => {\n  const [inputState, dispatch] = useReducer(inputReducer, {\n    value: props.initialValue || '',\n    isTouched: false,\n    isValid: props.initialValid || false\n  });\n\n  const { id, onInput } = props;\n  const { value, isValid } = inputState;\n\n  useEffect(() => {\n    onInput(id, value, isValid);\n  }, [id, value, isValid, onInput]);\n\n  const changeHandler = event => {\n    dispatch({\n      type: 'CHANGE',\n      val: event.target.value,\n      validators: props.validators\n    });\n  };\n\n  const touchHandler = () => {\n    dispatch({\n      type: 'TOUCH'\n    });\n  };\n\n  const element =\n    props.element === 'input' ? (\n      <input\n        id={props.id}\n        type={props.type}\n        min={props.min}\n        max={props.max}\n        // checked={inputState.value}\n        placeholder={props.placeholder}\n        onChange={changeHandler}\n        onBlur={touchHandler}\n        value={inputState.value}\n      />\n    ) : props.element === 'select' ? (\n      <select\n        id={props.id}\n        name={props.name}\n        onChange={changeHandler}\n        onBlur={touchHandler}\n        value={inputState.value}\n      >\n        <option value={''}>Wybierz</option>\n        {props.options}\n        </select>\n      ) : (\n      <textarea\n        id={props.id}\n        rows={props.rows || 3}\n        onChange={changeHandler}\n        onBlur={touchHandler}\n        value={inputState.value}\n      />\n    );\n\n  return (\n    <div\n      className={`form-control ${!inputState.isValid &&\n        inputState.isTouched &&\n        'form-control--invalid'}`}\n    >\n      <label htmlFor={props.id}>{props.label}</label>\n      {element}\n      {!inputState.isValid && inputState.isTouched && <p style={(props.id === \"zipCode_start\" || props.id === \"zipCode_end\") ? {position:'absolute', left: '20%'} : {}}>{props.errorText}</p>}\n    </div>\n  );\n};\n\nexport default Input;\n","import { useState, useCallback, useRef, useEffect } from 'react';\n\nexport const useHttpClient = () => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState();\n\n  const activeHttpRequests = useRef([]);\n\n  const sendRequest = useCallback(\n    async (url, method = 'GET', body = null, headers = {}) => {\n      setIsLoading(true);\n      const httpAbortCtrl = new AbortController();\n      activeHttpRequests.current.push(httpAbortCtrl);\n\n      try {\n        const response = await fetch(url, {\n          method,\n          body,\n          headers,\n          signal: httpAbortCtrl.signal\n        });\n\n        const responseData = await response.json();\n\n        activeHttpRequests.current = activeHttpRequests.current.filter(\n          reqCtrl => reqCtrl !== httpAbortCtrl\n        );\n\n        if (!response.ok) {\n          throw new Error(responseData.message);\n        }\n\n        setIsLoading(false);\n        return responseData;\n      } catch (err) {\n        setError(err.message);\n        setIsLoading(false);\n        throw err;\n      }\n    },\n    []\n  );\n\n  const clearError = () => {\n    setError(null);\n  };\n\n  useEffect(() => {\n    return () => {\n      activeHttpRequests.current.forEach(abortCtrl => abortCtrl.abort());\n    };\n  }, []);\n\n  return { isLoading, error, sendRequest, clearError };\n};\n","import React from 'react';\n\nimport './LoadingSpinner.css';\n\nconst LoadingSpinner = props => {\n  return (\n    <div className={`${props.asOverlay && 'loading-spinner__overlay'}`}>\n      <div className=\"lds-dual-ring\"></div>\n    </div>\n  );\n};\n\nexport default LoadingSpinner;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './Backdrop.css';\n\nconst Backdrop = props => {\n  return ReactDOM.createPortal(\n    <div className=\"backdrop\" onClick={props.onClick}></div>,\n    document.getElementById('backdrop-hook')\n  );\n};\n\nexport default Backdrop;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { CSSTransition } from 'react-transition-group';\n\nimport Backdrop from './Backdrop';\nimport './Modal.css';\n\nconst ModalOverlay = props => {\n  const content = (\n    <div className={`modal ${props.className}`} style={props.style}>\n      <header className={`modal__header ${props.headerClass}`}>\n        {props.header}\n      </header>\n      <form\n        onSubmit={\n          props.onSubmit ? props.onSubmit : event => event.preventDefault()\n        }\n      >\n        <div className={`modal__content ${props.contentClass}`}>\n          {props.children}\n        </div>\n        <footer className={`modal__footer ${props.footerClass}`}>\n          {props.footer}\n        </footer>\n      </form>\n    </div>\n  );\n  return ReactDOM.createPortal(content, document.getElementById('modal-hook'));\n};\n\nconst Modal = props => {\n  return (\n    <React.Fragment>\n      {props.show && <Backdrop onClick={props.onCancel} />}\n      <CSSTransition\n        in={props.show}\n        mountOnEnter\n        unmountOnExit\n        timeout={200}\n        classNames=\"modal\"\n      >\n        <ModalOverlay {...props} />\n      </CSSTransition>\n    </React.Fragment>\n  );\n};\n\nexport default Modal;\n","import React from 'react';\n\nimport Modal from './Modal';\nimport Button from '../FormElements/Button';\n\nconst ErrorModal = props => {\n  return (\n    <Modal\n      onCancel={props.onClear}\n      header=\"An Error Occurred!\"\n      show={!!props.error}\n      footer={<Button onClick={props.onClear}>Okay</Button>}\n    >\n      <p>{props.error}</p>\n    </Modal>\n  );\n};\n\nexport default ErrorModal;\n","import { useCallback, useReducer } from 'react';\n\nconst formReducer = (state, action) => {\n  switch (action.type) {\n    case 'INPUT_CHANGE':\n      let formIsValid = true;\n      for (const inputId in state.inputs) {\n        if (!state.inputs[inputId]) {\n          continue;\n        }\n        if (inputId === action.inputId) {\n          formIsValid = formIsValid && action.isValid;\n        } else {\n          formIsValid = formIsValid && state.inputs[inputId].isValid;\n        }\n      }\n      return {\n        ...state,\n        inputs: {\n          ...state.inputs,\n          [action.inputId]: { value: action.value, isValid: action.isValid }\n        },\n        isValid: formIsValid\n      };\n    case 'SET_DATA':\n      return {\n        inputs: action.inputs,\n        isValid: action.formIsValid\n      };\n    default:\n      return state;\n  }\n};\n\nexport const useForm = (initialInputs, initialFormValidity) => {\n  const [formState, dispatch] = useReducer(formReducer, {\n    inputs: initialInputs,\n    isValid: initialFormValidity\n  });\n\n  const inputHandler = useCallback((id, value, isValid) => {\n    dispatch({\n      type: 'INPUT_CHANGE',\n      value: value,\n      isValid: isValid,\n      inputId: id\n    });\n  }, []);\n\n  const setFormData = useCallback((inputData, formValidity) => {\n    dispatch({\n      type: 'SET_DATA',\n      inputs: inputData,\n      formIsValid: formValidity\n    });\n  }, []);\n\n  return [formState, inputHandler, setFormData];\n};","import { createContext } from 'react';\n\nexport const AuthContext = createContext({\n  isLoggedIn: false,\n  userId: null,\n  token: null,\n  role: null,\n  login: () => {},\n  logout: () => {}\n});\n","import React, { useContext } from 'react';\r\nimport Button from \"../FormElements/Button\"\r\nimport Input from '../FormElements/Input';\r\n\r\nimport { useHttpClient } from '../hooks/http-hook';\r\nimport LoadingSpinner from \"../UIElements/LoadingSpinner\"\r\nimport ErrorModal from \"../UIElements/ErrorModal\"\r\nimport { useForm } from \"../hooks/form-hook\"\r\nimport \"./AdminHeader.css\";\r\nimport { Link } from 'react-router-dom';\r\nimport { AuthContext } from '../../context/auth-context';\r\n\r\nconst AdminHeader = () => {\r\n\r\n    const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n    const auth = useContext(AuthContext);\r\n\r\n    const [formState, inputHandler] = useForm(\r\n        {\r\n        email: {\r\n            value: '',\r\n            isValid: false\r\n        },\r\n        password: {\r\n            value: '',\r\n            isValid: false\r\n        }\r\n        },\r\n        false\r\n      );\r\n\r\n    const authSubmitHandler = async event => {\r\n        event.preventDefault();\r\n          try {\r\n            const responseData = await sendRequest(\r\n              `${process.env.REACT_APP_BACKEND_URL}/api/user/login`,\r\n              'POST',\r\n              JSON.stringify({\r\n                email: formState.inputs.email.value,\r\n                password: formState.inputs.password.value\r\n              }),\r\n              {\r\n                'Content-Type': 'application/json'\r\n              }\r\n            );\r\n            auth.login(responseData.userId, responseData.token, responseData.role);\r\n                alert(\"zalogowano\")\r\n                window.location.reload()\r\n          } catch (err) {}\r\n      };\r\n\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <ErrorModal error={error} onClear={clearError} />\r\n            {isLoading && <LoadingSpinner asOverlay />}\r\n        <div className=\"admin-header\">\r\n            <Link to=\"/\">Wróć na stronę główną</Link>\r\n            {!auth.isLoggedIn && <form onSubmit={authSubmitHandler}>\r\n                <Input \r\n                    id=\"email\"\r\n                    element=\"input\"\r\n                    type=\"email\"\r\n                    label=\"login:\"\r\n                    onInput={inputHandler}\r\n                />\r\n                <Input \r\n                    id=\"password\"\r\n                    element=\"input\"\r\n                    type=\"text\"\r\n                    label=\"hasło:\"\r\n                    onInput={inputHandler}\r\n                />\r\n                <Button type=\"submit\"\r\n                    disabled={!formState.isValid}>\r\n                    ZALOGUJ\r\n                </Button>\r\n            </form>}\r\n            {auth.isLoggedIn && <Button\r\n            onClick={() => auth.logout()}\r\n            >\r\n                    Wyloguj\r\n                </Button>}\r\n        </div>\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default AdminHeader\r\n","import React from 'react'\r\n\r\nconst AdminNav = ({ changeSection }) => {\r\n    return (\r\n        \r\n            <ul>\r\n                <li id=\"0\" onClick={changeSection}>Dodaj produkt</li>\r\n                <li id={1} onClick={changeSection}>Zmień produkt</li>\r\n                <li id={2} onClick={changeSection}>Usuń produkt</li>\r\n                <li id={3} onClick={changeSection}>Kategorie</li>\r\n                <li id={4} onClick={changeSection}>Min. wartość zamówienia</li>\r\n                <li id={5} onClick={changeSection}>Dowóz</li>\r\n                <li id={6} onClick={changeSection}>Min. wartości gratis</li>\r\n                <li id={7} onClick={changeSection}>Kolacje degustacyjne</li>\r\n            </ul>\r\n        \r\n    )\r\n}\r\n\r\nexport default AdminNav\r\n","import React, { useRef, useState, useEffect } from 'react';\n\nimport Button from './Button';\nimport './ImageUpload.css';\n\nconst ImageUpload = props => {\n  const [file, setFile] = useState();\n  const [previewUrl, setPreviewUrl] = useState();\n  const [isValid, setIsValid] = useState(false);\n  const [images, setImages] = useState([]);\n  const [imagesValue, setImagesValue] = useState([]);\n  const [selectedId, setSelectedId] = useState(null);\n\n  const filePickerRef = useRef();\n\n  useEffect(() => {\n    if (!file && props.previewUrl) {\n      console.log(props.previewUrl);\n      const actualPrevievUrl = process.env.REACT_APP_AWS_URL + \"/\" + props.previewUrl\n      setPreviewUrl(actualPrevievUrl)\n    } else if (!file) {\n      return;\n    } else {\n      const fileReader = new FileReader();\n      let allImages = images\n      fileReader.onload = () => {\n        if (props.id === \"images\") {\n          allImages.push(fileReader.result)\n          setImages(allImages);\n        }\n        setPreviewUrl(fileReader.result);\n      };\n      fileReader.readAsDataURL(file);\n    }\n  }, [file]);\n  \n  const pickedHandler = event => {\n    let pickedFile;\n    let newImagesValue\n    let fileIsValid = isValid;\n    setImagesValue([\n      ...imagesValue,\n      event.target.files[0]\n    ]);\n    if (event.target.files && event.target.files.length === 1) {\n      pickedFile = event.target.files[0];\n      setFile(pickedFile);\n      newImagesValue = [\n        ...imagesValue,\n        pickedFile\n      ]\n      setIsValid(true);\n      fileIsValid = true;\n    } else {\n      setIsValid(false);\n      fileIsValid = false;\n    }\n    let onInputImgValue\n    if (props.id === \"images\") {onInputImgValue = newImagesValue} \n    else {onInputImgValue = pickedFile}\n    \n    props.onInput(props.id, onInputImgValue, fileIsValid);\n  };\n\n  const pickImageHandler = () => {\n    filePickerRef.current.click();\n  };\n\n  const deleteImage = (e) => {\n    setSelectedId(e.target.id)\n    const newImages = images\n    const newImagesValue = imagesValue\n    if (newImages.length > 0) {\n    newImages.splice(e.target.id, 1);\n    newImagesValue.splice(e.target.id, 1);\n    setImages(newImages)\n    setImagesValue(newImagesValue)\n    setSelectedId(null)\n    }\n    let fileIsValid = isValid;\n    if (newImagesValue.length > 1) {\n      setIsValid(true);\n      fileIsValid = true;\n    } else {\n      setIsValid(false);\n      fileIsValid = false;\n    }\n    props.onInput(props.id, newImagesValue, fileIsValid);\n  };\n\n  const imageArea = images.map((i, id) => \n  (<div style={{height: \"100%\", width: \"100%\"}} key={id}>\n  <img src={i} alt=\"Preview\" id={id} onClick={deleteImage}\n  style={{cursor: 'pointer'}}/>\n  </div>\n  )\n  )\n\n  return (\n    <div className=\"form-control\">\n      <input\n        id={props.id}\n        ref={filePickerRef}\n        style={{ display: 'none' }}\n        type=\"file\"\n        accept=\".jpg,.png,.jpeg\"\n        onChange={pickedHandler}\n      />\n      <div className={`image-upload ${props.center && 'center'}`}>\n        <div className=\"image-upload__preview\">\n          {props.id === \"images\" && images.length > 0 && imageArea}\n          {!(props.id === \"images\") && previewUrl && <img src={previewUrl} alt=\"Preview\" />}\n          {props.id === \"images\" && !images.length > 0 && <p>Proszę wybrać zdjęcie produktu.</p>}\n          {!(props.id === \"images\") && !previewUrl && <p>Proszę wybrać zdjęcie produktu.</p>}\n          \n        </div>\n        <Button type=\"button\" onClick={pickImageHandler}>\n          PICK IMAGE\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nexport default ImageUpload;\n","import React, { useState, useEffect, useContext } from 'react';\r\n\r\nimport {\r\n    VALIDATOR_REQUIRE\r\n  } from '../../util/validators';\r\n  import { useHttpClient } from '../../hooks/http-hook';\r\n  import LoadingSpinner from \"../../UIElements/LoadingSpinner\"\r\n\r\nimport ImageUpload from \"../../FormElements/ImageUpload\"\r\nimport Button from \"../../FormElements/Button\"\r\nimport Input from '../../FormElements/Input';\r\n\r\nimport { useForm } from \"../../hooks/form-hook\"\r\nimport ErrorModal from \"../../UIElements/ErrorModal\"\r\nimport { AuthContext } from '../../../context/auth-context';\r\n\r\n\r\nconst AdminAddItem = () => {\r\n\r\n    const [categories, setCategories] = useState([]);\r\n\r\n    const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n    const auth = useContext(AuthContext);\r\n\r\n    const [formState, inputHandler] = useForm(\r\n        {\r\n          name: {\r\n            value: '',\r\n            isValid: false\r\n        },\r\n            description: {\r\n                value: '',\r\n                isValid: false\r\n        },\r\n            price: {\r\n                value: '',\r\n                isValid: false\r\n        },\r\n            category: {\r\n                value: '',\r\n                isValid: false\r\n        },\r\n          image: {\r\n            value: null,\r\n            isValid: false\r\n          }\r\n        },\r\n        false\r\n      );\r\n\r\n    useEffect(() => {\r\n        const fetchCategories = async () => {\r\n            try {\r\n              const responseData = await sendRequest(\r\n                `${process.env.REACT_APP_BACKEND_URL}/api/category`\r\n              );\r\n      \r\n              setCategories(responseData.category);\r\n        } catch (err) {}\r\n          \r\n    };\r\n    fetchCategories();\r\n      }, [sendRequest])\r\n    \r\n\r\n    const itemSubmitHandler = async event => {\r\n        event.preventDefault();\r\n          try {\r\n            const formData = new FormData();\r\n            formData.append('name', formState.inputs.name.value);\r\n            formData.append('description', formState.inputs.description.value);\r\n            formData.append('price', formState.inputs.price.value);\r\n            formData.append('category', formState.inputs.category.value);\r\n            formData.append('image', formState.inputs.image.value);\r\n            await sendRequest(\r\n              `${process.env.REACT_APP_BACKEND_URL}/api/items/`,\r\n              'POST',\r\n              formData\r\n              ,\r\n              {\r\n                Authorization: 'Bearer ' + auth.token\r\n              }\r\n            );\r\n                alert(\"Utworzono produkt\")\r\n                window.location.reload()\r\n          } catch (err) {}\r\n      };\r\n\r\n    const setOptions = categories.map(i => <option value={i.id}>{i.name}</option>)\r\n    \r\n\r\n    return (\r\n        <React.Fragment>\r\n            <ErrorModal error={error} onClear={clearError} />\r\n            {isLoading && <LoadingSpinner asOverlay />}\r\n                <h2>Dodaj danie / produkt</h2>\r\n                <form\r\n                onSubmit={itemSubmitHandler}\r\n                >\r\n                    <Input \r\n                    id=\"name\"\r\n                    element=\"input\"\r\n                    type=\"text\"\r\n                    label=\"Nazwa produktu\"\r\n                    validators={[VALIDATOR_REQUIRE()]}\r\n                    errorText=\"Wprowadź poprawną nazwę.\"\r\n                    onInput={inputHandler}\r\n                    />\r\n                    <ImageUpload\r\n                    center\r\n                    id=\"image\"\r\n                    onInput={inputHandler}\r\n                    errorText=\"Wprowadź zdjęcie produktu.\"\r\n                    />\r\n                    <Input \r\n                    id=\"description\"\r\n                    element=\"textarea\"\r\n                    type=\"text\"\r\n                    label=\"Opis produktu\"\r\n                    validators={[VALIDATOR_REQUIRE()]}\r\n                    errorText=\"Wprowadź poprawny opis.\"\r\n                    onInput={inputHandler}\r\n                    />\r\n                    <Input \r\n                    id=\"price\"\r\n                    element=\"input\"\r\n                    type=\"number\"\r\n                    label=\"Cena\"\r\n                    validators={[VALIDATOR_REQUIRE()]}\r\n                    errorText=\"Wprowadź poprawną cenę.\"\r\n                    onInput={inputHandler}\r\n                    />\r\n                    {categories.length > 0 && <Input \r\n                    id=\"category\"\r\n                    element=\"select\"\r\n                    name=\"select\"\r\n                    label=\"Kategoria\"\r\n                    validators={[VALIDATOR_REQUIRE()]}\r\n                    errorText=\"Wprowadź poprawną kategorię.\"\r\n                    onInput={inputHandler}\r\n                    options={setOptions}\r\n                    />}\r\n                    <Button type=\"submit\"\r\n                    disabled={!formState.isValid}>\r\n                    DODAJ\r\n                    </Button>\r\n                </form>\r\n                </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default AdminAddItem\r\n","import React, { useState, useEffect, useContext } from 'react';\r\n\r\nimport {\r\n    VALIDATOR_REQUIRE\r\n  } from '../../util/validators';\r\n  import { useHttpClient } from '../../hooks/http-hook';\r\n  import LoadingSpinner from \"../../UIElements/LoadingSpinner\"\r\nimport Button from \"../../FormElements/Button\"\r\nimport Input from '../../FormElements/Input';\r\n\r\nimport { useForm } from \"../../hooks/form-hook\"\r\nimport ErrorModal from \"../../UIElements/ErrorModal\"\r\nimport { AuthContext } from '../../../context/auth-context';\r\n\r\nconst AdminBonusDelivery = () => {\r\n    const [value, setValue] = useState(false); \r\n\r\n    const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n    const auth = useContext(AuthContext);\r\n\r\n    const [formState, inputHandler] = useForm(\r\n        {\r\n          value: {\r\n            value: '',\r\n            isValid: false\r\n        }\r\n        },\r\n        false\r\n      );\r\n\r\n    useEffect(() => {\r\n        const fetchValue = async () => {\r\n            try {\r\n              const responseData = await sendRequest(\r\n                `${process.env.REACT_APP_BACKEND_URL}/api/bonus-delivery/${process.env.REACT_APP_BONUS_DELIVERY_PRICE_ID}`\r\n              );\r\n              setValue(responseData.bonus_delivery_price);\r\n            \r\n        } catch (err) {}\r\n          \r\n    };\r\n    fetchValue();\r\n      }, [sendRequest])\r\n    \r\n\r\n    const valueSubmitHandler = async event => {\r\n        event.preventDefault();\r\n          try {\r\n            await sendRequest(\r\n              `${process.env.REACT_APP_BACKEND_URL}/api/bonus-delivery/${process.env.REACT_APP_BONUS_DELIVERY_PRICE_ID}`,\r\n              'PATCH',\r\n              JSON.stringify({\r\n                value: parseInt(formState.inputs.value.value)\r\n              }),\r\n              {\r\n                Authorization: 'Bearer ' + auth.token,\r\n                'Content-Type': 'application/json'\r\n              }\r\n            );\r\n                alert(\"Zaktualizowano wartość\")\r\n                window.location.reload()\r\n          } catch (err) {}\r\n      };\r\n    \r\n\r\n    return (\r\n        <React.Fragment>\r\n            <ErrorModal error={error} onClear={clearError} />\r\n            {isLoading && <LoadingSpinner asOverlay />}\r\n                <h2>Zmień minimalną wartość darmowej opłaty za dowóz</h2>\r\n                {value && <form\r\n                onSubmit={valueSubmitHandler}\r\n                >\r\n                    <Input \r\n                    id=\"value\"\r\n                    element=\"input\"\r\n                    type=\"number\"\r\n                    label=\"Minimalna wartość darmowej opłaty za dowóz (zł)\"\r\n                    validators={[VALIDATOR_REQUIRE()]}\r\n                    errorText=\"Wprowadź poprawną wartość.\"\r\n                    onInput={inputHandler}\r\n                    initialValue={value.value}\r\n                    /> \r\n                    <Button type=\"submit\"\r\n                    // disabled={!formState.isValid}\r\n                    >\r\n                    ZMIEŃ WARTOŚĆ\r\n                    </Button> \r\n                </form>}\r\n                </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default AdminBonusDelivery\r\n","import React, { useState, useEffect, useContext } from 'react';\r\n\r\nimport {\r\n    VALIDATOR_REQUIRE\r\n  } from '../../util/validators';\r\n  import { useHttpClient } from '../../hooks/http-hook';\r\n  import LoadingSpinner from \"../../UIElements/LoadingSpinner\"\r\nimport Button from \"../../FormElements/Button\"\r\nimport Input from '../../FormElements/Input';\r\n\r\nimport { useForm } from \"../../hooks/form-hook\"\r\nimport ErrorModal from \"../../UIElements/ErrorModal\"\r\nimport { AuthContext } from '../../../context/auth-context';\r\n\r\nconst AdminBonusItems = () => {\r\n    const [value, setValue] = useState(false); \r\n\r\n    const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n    const auth = useContext(AuthContext);\r\n\r\n    const [formState, inputHandler] = useForm(\r\n        {\r\n          value: {\r\n            value: '',\r\n            isValid: false\r\n        }\r\n        },\r\n        false\r\n      );\r\n\r\n    useEffect(() => {\r\n        const fetchValue = async () => {\r\n            try {\r\n              const responseData = await sendRequest(\r\n                `${process.env.REACT_APP_BACKEND_URL}/api/bonus-items/${process.env.REACT_APP_BONUS_ITEMS_PRICE_ID}`\r\n              );\r\n              setValue(responseData.bonus_items_price);\r\n            \r\n        } catch (err) {}\r\n          \r\n    };\r\n    fetchValue();\r\n      }, [sendRequest])\r\n    \r\n\r\n    const valueSubmitHandler = async event => {\r\n        event.preventDefault();\r\n          try {\r\n            await sendRequest(\r\n              `${process.env.REACT_APP_BACKEND_URL}/api/bonus-items/${process.env.REACT_APP_BONUS_ITEMS_PRICE_ID}`,\r\n              'PATCH',\r\n              JSON.stringify({\r\n                value: parseInt(formState.inputs.value.value)\r\n              }),\r\n              {\r\n                Authorization: 'Bearer ' + auth.token,\r\n                'Content-Type': 'application/json'\r\n              }\r\n            );\r\n                alert(\"Zaktualizowano wartość\")\r\n                window.location.reload()\r\n          } catch (err) {}\r\n      };\r\n    \r\n\r\n    return (\r\n        <React.Fragment>\r\n            <ErrorModal error={error} onClear={clearError} />\r\n            {isLoading && <LoadingSpinner asOverlay />}\r\n                <h2>Zmień minimalną wartość produktów gratis</h2>\r\n                {value && <form\r\n                onSubmit={valueSubmitHandler}\r\n                >\r\n                    <Input \r\n                    id=\"value\"\r\n                    element=\"input\"\r\n                    type=\"number\"\r\n                    label=\"Minimalna wartość produktów gratis (zł)\"\r\n                    validators={[VALIDATOR_REQUIRE()]}\r\n                    errorText=\"Wprowadź poprawną wartość.\"\r\n                    onInput={inputHandler}\r\n                    initialValue={value.value}\r\n                    /> \r\n                    <Button type=\"submit\"\r\n                    >\r\n                    ZMIEŃ WARTOŚĆ\r\n                    </Button> \r\n                </form>}\r\n                </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default AdminBonusItems\r\n","import React from 'react'\r\nimport AdminBonusDelivery from './AdminBonusDelivery'\r\nimport AdminBonusItems from './AdminBonusItems'\r\n\r\nconst AdminBonus = () => {\r\n    return (\r\n        <React.Fragment>\r\n            <div style={{ borderBottom: \"1px solid black\", borderTop: \"1px solid black\" }}>\r\n            <AdminBonusDelivery /> \r\n            </div>\r\n            <div style={{ borderBottom: \"1px solid black\", borderTop: \"1px solid black\" }}>\r\n            <AdminBonusItems />\r\n            </div>\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default AdminBonus\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport Button from \"../../FormElements/Button\"\r\nimport Input from '../../FormElements/Input';\r\n\r\nimport {\r\n    VALIDATOR_REQUIRE\r\n  } from '../../util/validators';\r\n\r\nimport { useHttpClient } from '../../hooks/http-hook';\r\nimport LoadingSpinner from \"../../UIElements/LoadingSpinner\"\r\nimport ErrorModal from \"../../UIElements/ErrorModal\"\r\nimport { useForm } from \"../../hooks/form-hook\"\r\nimport { AuthContext } from '../../../context/auth-context';\r\n\r\n\r\nconst AdminCategory = () => {\r\n\r\n    const [categories, setCategories] = useState([]);\r\n    const [catId, setCatId] = useState(false);\r\n\r\n    const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n    const auth = useContext(AuthContext);\r\n\r\n    const [formState, inputHandler] = useForm(\r\n        {\r\n          name: {\r\n            value: '',\r\n            isValid: false\r\n        }\r\n        },\r\n        false\r\n      );\r\n\r\n      const catSubmitHandler = async event => {\r\n        event.preventDefault();\r\n          try {\r\n            await sendRequest(\r\n              `${process.env.REACT_APP_BACKEND_URL}/api/category/`,\r\n              'POST',\r\n              JSON.stringify({\r\n                name: formState.inputs.name.value\r\n              }),\r\n              {\r\n                Authorization: 'Bearer ' + auth.token,\r\n                'Content-Type': 'application/json'\r\n              }\r\n            );\r\n                alert(\"Utworzono kategorię\")\r\n                window.location.reload()\r\n          } catch (err) {}\r\n      };\r\n\r\n    useEffect(() => {\r\n        const fetchCategories = async () => {\r\n            try {\r\n              const responseData = await sendRequest(\r\n                `${process.env.REACT_APP_BACKEND_URL}/api/category`\r\n              );\r\n      \r\n              setCategories(responseData.category);\r\n        } catch (err) {}\r\n          \r\n    };\r\n    fetchCategories();\r\n      }, [sendRequest])\r\n\r\n    const deleteCategorySubmitHandler = async event => {\r\n        event.preventDefault();\r\n            try {\r\n              await sendRequest(\r\n                `${process.env.REACT_APP_BACKEND_URL}/api/category/${catId}`,\r\n                'DELETE',\r\n                null,\r\n                {\r\n                  Authorization: 'Bearer ' + auth.token\r\n                }\r\n              );\r\n            alert(\"Usunięto Kategorię\")\r\n            \r\n            window.location.reload()\r\n            } catch (err) {}\r\n        }\r\n\r\n    const choseDeletedCatId = (e) => {\r\n        console.log(e.target.value);\r\n        \r\n        setCatId(e.target.value)\r\n              }\r\n\r\n    const setOptions = categories.map(i => <option value={i._id}>{i.name}</option>)\r\n\r\n    return (\r\n            <React.Fragment>\r\n            <ErrorModal error={error} onClear={clearError} />\r\n            {isLoading && <LoadingSpinner asOverlay />}\r\n                <h2>Dodaj kategorię</h2>\r\n                <form\r\n                onSubmit={catSubmitHandler}\r\n                >\r\n                <Input \r\n                    id=\"name\"\r\n                    element=\"input\"\r\n                    type=\"text\"\r\n                    label=\"Nazwa kategorii\"\r\n                    validators={[VALIDATOR_REQUIRE()]}\r\n                    errorText=\"Wprowadź poprawną nazwę.\"\r\n                    onInput={inputHandler}\r\n                    />\r\n                    <Button type=\"submit\"\r\n                    disabled={!formState.isValid}>\r\n                    DODAJ\r\n                    </Button>\r\n                    </form>\r\n                <h2>Usuń kategorię</h2>\r\n                {categories.length > 0 ? <select name=\"items\" id=\"items\" onChange={choseDeletedCatId} >\r\n                    <option value={''}>wybierz kategorię</option>\r\n                    {setOptions}\r\n                </select> : <p>Brak Kategorii</p>}\r\n                <Button \r\n                onClick={deleteCategorySubmitHandler}\r\n                disabled={!catId}\r\n                >USUŃ</Button>\r\n            </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default AdminCategory\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport Button from \"../../FormElements/Button\"\r\nimport { AuthContext } from '../../../context/auth-context';\r\n\r\nimport { useHttpClient } from '../../hooks/http-hook';\r\nimport LoadingSpinner from \"../../UIElements/LoadingSpinner\"\r\nimport ErrorModal from \"../../UIElements/ErrorModal\"\r\n\r\nconst AdminDeleteItem = () => {\r\n\r\n    const [items, setItems] = useState([]);\r\n    const [itemId, setItemId] = useState(false);\r\n\r\n    const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n\r\n    const auth = useContext(AuthContext);\r\n    \r\n    useEffect(() => {\r\n        const fetchItems = async () => {\r\n            try {\r\n              const responseData = await sendRequest(\r\n                `${process.env.REACT_APP_BACKEND_URL}/api/items`\r\n              );\r\n      \r\n              setItems(responseData.items);\r\n        } catch (err) {}\r\n          \r\n    };\r\n    fetchItems();\r\n      }, [sendRequest])\r\n\r\n    const deleteItemSubmitHandler = async event => {\r\n        event.preventDefault();\r\n            try {\r\n              await sendRequest(\r\n                `${process.env.REACT_APP_BACKEND_URL}/api/items/${itemId}`,\r\n                'DELETE',\r\n                null,\r\n                {\r\n                  Authorization: 'Bearer ' + auth.token\r\n                }\r\n              );\r\n            alert(\"Usunięto produkt\")\r\n            \r\n            window.location.reload()\r\n            } catch (err) {}\r\n        }\r\n\r\n    const choseDeletedItemId = (e) => {\r\n            setItemId(e.target.value)\r\n              }\r\n\r\n\r\n    const setOptions = items.map(i => <option value={i.id}>{i.name}</option>)\r\n\r\n    return (\r\n            <React.Fragment>\r\n            <ErrorModal error={error} onClear={clearError} />\r\n            {isLoading && <LoadingSpinner asOverlay />}\r\n                <h2>Usuń</h2>\r\n                {items.length > 0 ? <select name=\"items\" id=\"items\" onChange={choseDeletedItemId} >\r\n                    <option value={''}>wybierz produkt</option>\r\n                    {setOptions}\r\n                </select> : <p>Brak produktów</p>}\r\n                <Button \r\n                onClick={deleteItemSubmitHandler}\r\n                disabled={!itemId}\r\n                >USUŃ</Button>\r\n            </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default AdminDeleteItem\r\n","import React, { useState, useEffect, useContext } from 'react';\r\n\r\nimport {\r\n    VALIDATOR_REQUIRE\r\n  } from '../../util/validators';\r\n  import { useHttpClient } from '../../hooks/http-hook';\r\n  import LoadingSpinner from \"../../UIElements/LoadingSpinner\"\r\nimport Button from \"../../FormElements/Button\"\r\nimport Input from '../../FormElements/Input';\r\n\r\nimport { useForm } from \"../../hooks/form-hook\"\r\nimport ErrorModal from \"../../UIElements/ErrorModal\"\r\nimport { AuthContext } from '../../../context/auth-context';\r\n\r\nconst AdminDeliveryPrice = () => {\r\n    const [value, setValue] = useState(false); \r\n\r\n    const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n    const auth = useContext(AuthContext);\r\n\r\n    const [formState, inputHandler] = useForm(\r\n        {\r\n          value: {\r\n            value: '',\r\n            isValid: false\r\n        }\r\n        },\r\n        false\r\n      );\r\n\r\n    useEffect(() => {\r\n        const fetchValue = async () => {\r\n            try {\r\n              const responseData = await sendRequest(\r\n                `${process.env.REACT_APP_BACKEND_URL}/api/delivery/${process.env.REACT_APP_DELIVERY_PRICE_ID}`\r\n              );\r\n              setValue(responseData.delivery_price);\r\n            \r\n        } catch (err) {}\r\n          \r\n    };\r\n    fetchValue();\r\n      }, [sendRequest])\r\n    \r\n\r\n    const valueSubmitHandler = async event => {\r\n        event.preventDefault();\r\n          try {\r\n            await sendRequest(\r\n              `${process.env.REACT_APP_BACKEND_URL}/api/delivery/${process.env.REACT_APP_DELIVERY_PRICE_ID}`,\r\n              'PATCH',\r\n              JSON.stringify({\r\n                value: parseInt(formState.inputs.value.value)\r\n              }),\r\n              {\r\n                Authorization: 'Bearer ' + auth.token,\r\n                'Content-Type': 'application/json'\r\n              }\r\n            );\r\n                alert(\"Zaktualizowano wartość\")\r\n                window.location.reload()\r\n          } catch (err) {}\r\n      };\r\n    \r\n\r\n    return (\r\n        <React.Fragment>\r\n            <ErrorModal error={error} onClear={clearError} />\r\n            {isLoading && <LoadingSpinner asOverlay />}\r\n                <h2>Zmień wartość opłaty za dowóz</h2>\r\n                {value && <form\r\n                onSubmit={valueSubmitHandler}\r\n                >\r\n                    <Input \r\n                    id=\"value\"\r\n                    element=\"input\"\r\n                    type=\"number\"\r\n                    label=\"Minimalna wartość opłaty za dowóz (zł)\"\r\n                    validators={[VALIDATOR_REQUIRE()]}\r\n                    errorText=\"Wprowadź poprawną wartość.\"\r\n                    onInput={inputHandler}\r\n                    initialValue={value.value}\r\n                    /> \r\n                    <Button type=\"submit\"\r\n                    >\r\n                    ZMIEŃ WARTOŚĆ\r\n                    </Button> \r\n                </form>}\r\n                </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default AdminDeliveryPrice\r\n","import React, { useState, useEffect, useContext } from 'react';\r\n\r\nimport {\r\n    VALIDATOR_REQUIRE\r\n  } from '../../util/validators';\r\n  import { useHttpClient } from '../../hooks/http-hook';\r\n  import LoadingSpinner from \"../../UIElements/LoadingSpinner\"\r\nimport Button from \"../../FormElements/Button\"\r\nimport Input from '../../FormElements/Input';\r\n\r\nimport { useForm } from \"../../hooks/form-hook\"\r\nimport ErrorModal from \"../../UIElements/ErrorModal\"\r\nimport { AuthContext } from '../../../context/auth-context';\r\n\r\nconst AdminDeliveryPrice = () => {\r\n    const [actualDeliveryTime, setActualDeliveryTime] = useState(false); \r\n\r\n    const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n    const auth = useContext(AuthContext);\r\n\r\n    const [formState, inputHandler] = useForm(\r\n        {\r\n          deliveryTime: {\r\n            value: '',\r\n            isValid: false\r\n        }\r\n        },\r\n        false\r\n      );\r\n\r\n    useEffect(() => {\r\n        const fetchDeliveryTime = async () => {\r\n            try {\r\n              const responseData = await sendRequest(\r\n                `${process.env.REACT_APP_BACKEND_URL}/api/deliverytime/${process.env.REACT_APP_DELIVERY_TIME_ID}`\r\n              );\r\n              setActualDeliveryTime(responseData.deliveryTime.time);\r\n            \r\n        } catch (err) {}\r\n          \r\n    };\r\n    fetchDeliveryTime();\r\n      }, [sendRequest])\r\n    \r\n\r\n    const deliveryTimeSubmitHandler = async event => {\r\n        event.preventDefault();\r\n          try {\r\n            await sendRequest(\r\n              `${process.env.REACT_APP_BACKEND_URL}/api/deliverytime/${process.env.REACT_APP_DELIVERY_TIME_ID}`,\r\n              'PATCH',\r\n              JSON.stringify({\r\n                time: parseInt(formState.inputs.deliveryTime.value)\r\n              }),\r\n              {\r\n                Authorization: 'Bearer ' + auth.token,\r\n                'Content-Type': 'application/json'\r\n              }\r\n            );\r\n                alert(\"Zaktualizowano wartość\")\r\n                window.location.reload()\r\n          } catch (err) {}\r\n      };\r\n    \r\n\r\n    return (\r\n        <React.Fragment>\r\n            <ErrorModal error={error} onClear={clearError} />\r\n            {isLoading && <LoadingSpinner asOverlay />}\r\n                <h2>Zmień czas dowozu</h2>\r\n                {actualDeliveryTime && <form\r\n                onSubmit={deliveryTimeSubmitHandler}\r\n                >\r\n                    <Input \r\n                    id=\"deliveryTime\"\r\n                    element=\"input\"\r\n                    type=\"number\"\r\n                    label=\"Czas dowozu (min)\"\r\n                    validators={[VALIDATOR_REQUIRE()]}\r\n                    errorText=\"Wprowadź poprawną wartość.\"\r\n                    onInput={inputHandler}\r\n                    initialValue={actualDeliveryTime}\r\n                    /> \r\n                    <Button type=\"submit\"\r\n                    >\r\n                    ZMIEŃ CZAS\r\n                    </Button> \r\n                </form>}\r\n                </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default AdminDeliveryPrice\r\n","import React, { useState, useEffect, useContext } from 'react';\r\n\r\nimport {\r\n    VALIDATOR_REQUIRE\r\n  } from '../../util/validators';\r\n  import { useHttpClient } from '../../hooks/http-hook';\r\n  import LoadingSpinner from \"../../UIElements/LoadingSpinner\"\r\nimport Button from \"../../FormElements/Button\"\r\nimport Input from '../../FormElements/Input';\r\n\r\nimport { useForm } from \"../../hooks/form-hook\"\r\nimport ErrorModal from \"../../UIElements/ErrorModal\"\r\nimport { AuthContext } from '../../../context/auth-context';\r\n\r\nconst AdminTime = () => {\r\n    const [times, setTimes] = useState([]);\r\n    const [time, setTime] = useState(false);\r\n    const [timeAvailability, setTimeAvailability] = useState();\r\n\r\n    const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n    const auth = useContext(AuthContext);\r\n\r\n    const [formState, inputHandler] = useForm(\r\n        {\r\n          startHour: {\r\n            value: '',\r\n            isValid: false\r\n        },\r\n        startMinute: {\r\n            value: '',\r\n            isValid: false\r\n        },\r\n        endHour: {\r\n            value: '',\r\n            isValid: false\r\n        },\r\n        endMinute: {\r\n            value: '',\r\n            isValid: false\r\n        }\r\n        },\r\n        false\r\n      );\r\n\r\n      const [dayFormState, selectHandler] = useForm(\r\n        {\r\n            day: {\r\n              value: '',\r\n              isValid: false\r\n          }\r\n        },\r\n        false\r\n      );\r\n\r\n\r\n    useEffect(() => {\r\n        const fetchTimes = async () => {\r\n            try {\r\n              const responseData = await sendRequest(\r\n                `${process.env.REACT_APP_BACKEND_URL}/api/time`\r\n              );\r\n              setTimes(responseData.time);             \r\n            \r\n        } catch (err) {}\r\n          \r\n    };\r\n    fetchTimes();\r\n      }, [sendRequest])\r\n\r\n      useEffect(() => {\r\n        const fetchTime = async () => {\r\n            if(dayFormState.inputs.day.value) {\r\n            try {\r\n              const responseData = await sendRequest(\r\n                `${process.env.REACT_APP_BACKEND_URL}/api/time/${dayFormState.inputs.day.value}`\r\n              );\r\n              setTime(responseData.time);\r\n              setTimeAvailability(responseData.time.available);\r\n        } catch (err) {}      \r\n        } else return\r\n    }\r\n    fetchTime();\r\n  }, [sendRequest, dayFormState.inputs.day.value])\r\n    \r\n\r\n    const timeSubmitHandler = async event => {\r\n        event.preventDefault();\r\n          try {\r\n            await sendRequest(\r\n              `${process.env.REACT_APP_BACKEND_URL}/api/time/${dayFormState.inputs.day.value}`,\r\n              'PATCH',\r\n              JSON.stringify({\r\n                startHour: parseInt(formState.inputs.startHour.value),\r\n                startMinute: parseInt(formState.inputs.startMinute.value),\r\n                endHour: parseInt(formState.inputs.endHour.value),\r\n                endMinute: parseInt(formState.inputs.endMinute.value),\r\n                available: timeAvailability\r\n              }),\r\n              {\r\n                Authorization: 'Bearer ' + auth.token,\r\n                'Content-Type': 'application/json'\r\n              }\r\n            );\r\n                alert(\"Zaktualizowano Godziny\")\r\n                window.location.reload()\r\n          } catch (err) {}\r\n      };\r\n\r\n      const changeAvailability = () => {\r\n        setTimeAvailability(prevAvailibility => !prevAvailibility)\r\n    }\r\n\r\n    const setOptions = times.map(i => <option value={i._id}>{i.day}</option>)\r\n    \r\n\r\n    return (\r\n        <React.Fragment>\r\n            <ErrorModal error={error} onClear={clearError} />\r\n            {isLoading && <LoadingSpinner asOverlay />}\r\n                <h2>Zmień godziny dowozu</h2>\r\n                {times.length > 0 && <Input \r\n                    id=\"day\"\r\n                    element=\"select\"\r\n                    name=\"select\"\r\n                    label=\"Wybierz dzień\"\r\n                    validators={[VALIDATOR_REQUIRE()]}\r\n                    errorText=\"Wybierz poprawny dzień.\"\r\n                    onInput={selectHandler}\r\n                    options={setOptions}\r\n                    />}\r\n                \r\n                {time && <form\r\n                onSubmit={timeSubmitHandler}\r\n                >\r\n                    <div className=\"start\">\r\n                    <span>Start: </span>\r\n                    <Input \r\n                    id=\"startHour\"\r\n                    element=\"input\"\r\n                    type=\"number\"\r\n                    min={0}\r\n                    max={23}\r\n                    validators={[VALIDATOR_REQUIRE()]}\r\n                    onInput={inputHandler}\r\n                    initialValue={time.time.start.hour}\r\n                    />\r\n                    :\r\n                    <Input \r\n                    id=\"startMinute\"\r\n                    element=\"input\"\r\n                    type=\"number\"\r\n                    min={0}\r\n                    max={59}\r\n                    validators={[VALIDATOR_REQUIRE()]}\r\n                    onInput={inputHandler}\r\n                    initialValue={time.time.start.minute}\r\n                    />\r\n                    </div>\r\n                    <div className=\"end\">\r\n                        <span>Koniec: </span>\r\n                    <Input \r\n                    id=\"endHour\"\r\n                    element=\"input\"\r\n                    type=\"number\"\r\n                    min={0}\r\n                    max={23}\r\n                    validators={[VALIDATOR_REQUIRE()]}\r\n                    onInput={inputHandler}\r\n                    initialValue={time.time.end.hour}\r\n                    />\r\n                    :\r\n                    <Input \r\n                    id=\"endMinute\"\r\n                    element=\"input\"\r\n                    type=\"number\"\r\n                    min={0}\r\n                    max={59}\r\n                    validators={[VALIDATOR_REQUIRE()]}\r\n                    onInput={inputHandler}\r\n                    initialValue={time.time.end.minute}\r\n                    />\r\n                    <div className='availability' style={{marginTop: \"1em\"}}>\r\n                    <label for='availability' style={{fontWeight: 'bold', marginBottom: '0.5rem'}}>Dowóz aktywny?</label>\r\n                    <input id='availability' type='checkbox' onChange={changeAvailability} checked={timeAvailability} style={{display: 'block', margin: 'auto'}} />\r\n                    </div>\r\n                    \r\n                    </div>\r\n                    <Button type=\"submit\"\r\n                    >\r\n                    ZMIEŃ GODZINY\r\n                    </Button>\r\n                </form>}\r\n                </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default AdminTime\r\n\r\n","import React from 'react'\r\nimport AdminDeliveryPrice from './AdminDeliveryPrice'\r\nimport AdminDeliveryTime from './AdminDeliveryTime'\r\nimport AdminTime from './AdminTime'\r\n\r\nconst AdminDelivery = () => {\r\n    return (\r\n        <React.Fragment>\r\n            <div style={{ borderBottom: \"1px solid black\", borderTop: \"1px solid black\" }}>\r\n            <AdminTime /> \r\n            </div>\r\n            <div style={{ borderBottom: \"1px solid black\", borderTop: \"1px solid black\" }}>\r\n            <AdminDeliveryTime />\r\n            </div>\r\n            <div style={{ borderBottom: \"1px solid black\", borderTop: \"1px solid black\" }}>\r\n            <AdminDeliveryPrice />\r\n            </div>\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default AdminDelivery\r\n","import React, { useState, useEffect, useContext } from 'react';\r\n\r\nimport {\r\n    VALIDATOR_REQUIRE\r\n  } from '../../util/validators';\r\n  import { useHttpClient } from '../../hooks/http-hook';\r\n  import LoadingSpinner from \"../../UIElements/LoadingSpinner\"\r\n\r\nimport ImageUpload from \"../../FormElements/ImageUpload\"\r\nimport Button from \"../../FormElements/Button\"\r\nimport Input from '../../FormElements/Input';\r\n\r\nimport { useForm } from \"../../hooks/form-hook\"\r\nimport ErrorModal from \"../../UIElements/ErrorModal\"\r\nimport { AuthContext } from '../../../context/auth-context';\r\nimport Modal from '../../UIElements/Modal';\r\n\r\nconst AdminSpecialReservation = () => {\r\n\r\n    const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n    const auth = useContext(AuthContext);\r\n\r\n    const [reservation, setReservation] = useState([]);\r\n    const [reservationDay, setReservationDay] = useState(false);\r\n    const [availableHours, setAvailableHours] = useState([]);\r\n    const [available, setAvailable] = useState(false);\r\n    const [message, setMessage] = useState('');\r\n    const [showModal, setShowModal] = useState(false);\r\n\r\n    const [dayFormState, selectDayHandler] = useForm(\r\n        {\r\n            name: {\r\n              value: '',\r\n              isValid: false\r\n          }\r\n        },\r\n        false\r\n      );\r\n\r\n    const [formState, inputHandler] = useForm(\r\n        {\r\n            hour: {\r\n              value: '',\r\n              isValid: false\r\n          },\r\n          guests: {\r\n            value: '',\r\n            isValid: false\r\n        }\r\n        },\r\n        false\r\n    );\r\n\r\n    useEffect(() => {\r\n        const fetchSpecialReservation = async () => {\r\n            try {\r\n              const responseData = await sendRequest(\r\n                `${process.env.REACT_APP_BACKEND_URL}/api/reservation`\r\n              );\r\n              setAvailable(responseData.reservations[0].available.value)\r\n              setMessage(responseData.reservations[0].available.message)\r\n              setReservation(responseData.reservations[0].days);\r\n        } catch (err) {}     \r\n    };\r\n    fetchSpecialReservation();\r\n      }, [sendRequest])\r\n\r\n    useEffect(() => {\r\n        const fetchDay = async () => {\r\n            if(dayFormState.inputs.name.value) {\r\n            try {\r\n              const responseData = await sendRequest(\r\n                `${process.env.REACT_APP_BACKEND_URL}/api/reservation/${dayFormState.inputs.name.value}`\r\n              );\r\n              setReservationDay(responseData.reservation);\r\n              const hours = responseData.reservation.availableHours\r\n              const sortHours = hours.sort((a, b) => {\r\n               return a.hour - b.hour})\r\n              console.log(sortHours);\r\n              setAvailableHours(sortHours)\r\n        } catch (err) {}      \r\n        } else return\r\n    }\r\n    fetchDay();\r\n  }, [sendRequest, dayFormState.inputs.name.value])\r\n\r\n  const inputChange = (e) => {\r\n      e.preventDefault()\r\n      const hourId = availableHours.find(i => i._id === e.target.id);\r\n      const newGuests = parseInt(e.target.value)\r\n      hourId.guests = newGuests\r\n      const newAvailableHours = {\r\n        ...availableHours\r\n      }\r\n      setAvailableHours(Object.values(newAvailableHours))\r\n  }\r\n  const deleteInput = (e) => {\r\n    const hourId = availableHours.find(i => i._id === e.target.id);\r\n    const newAvailableHours = availableHours.filter(i => !(i === hourId));\r\n    setAvailableHours(Object.values(newAvailableHours))\r\n  }\r\n  const changeAvailability = () => {\r\n    setMessage('')\r\n    setAvailable(prevAvailable => !prevAvailable)\r\n  }\r\n  const messageHandler = (e) => {\r\n    setMessage(e.target.value)\r\n  }\r\n\r\n  const submitHandler = async (e) => {\r\n    e.preventDefault()\r\n    const newAvailable = {\r\n      value: available,\r\n      message\r\n    }\r\n    try {\r\n      await sendRequest(\r\n        `${process.env.REACT_APP_BACKEND_URL}/api/reservation/${reservationDay._id}`,\r\n        'PATCH',\r\n        JSON.stringify({\r\n          available: newAvailable,\r\n          availableHours\r\n        }),\r\n        {\r\n          Authorization: 'Bearer ' + auth.token,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      );\r\n          alert(\"Zaktualizowano produkt\")\r\n          window.location.reload()\r\n    } catch (err) {}\r\n  }\r\n\r\n  const submitNewHourHandler = async (e) => {\r\n    e.preventDefault()\r\n    console.log(formState.inputs.hour.value, formState.inputs.guests.value);\r\n    \r\n    try {\r\n      await sendRequest(\r\n        `${process.env.REACT_APP_BACKEND_URL}/api/reservation/${reservationDay._id}`,\r\n        'POST',\r\n        JSON.stringify({\r\n          hour: formState.inputs.hour.value,\r\n          guests: formState.inputs.guests.value\r\n        }),\r\n        {\r\n          Authorization: 'Bearer ' + auth.token,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      );\r\n          alert(\"Dodano godzinę\")\r\n          window.location.reload()\r\n    } catch (err) {}\r\n  }\r\n\r\n  const closeModalHandler = () => {\r\n    setShowModal(false)\r\n  }\r\n\r\n  const openModalHandler = () => {\r\n    setShowModal(true)\r\n  }\r\n\r\n    const setDaysOptions = reservation.map(i => <option value={i._id}>{i.name}</option>)\r\n    const setInputs = availableHours.map((i, id) => {\r\n        return (\r\n            <div key={id}>\r\n              <p>\r\n                <span style={{color: \"black\", fontWeight: \"bold\"}}>Godzina {i.hour}:00 - </span>\r\n                <span style={{color: \"black\", fontWeight: \"bold\"}}>Liczba gości:</span>\r\n              <input\r\n                style={{margin: \"0 1em\", width: \"10%\", textAlign: \"center\"}}\r\n                type=\"number\"\r\n                id={i._id}\r\n                value={availableHours[id].guests}\r\n                onChange={inputChange}\r\n                ></input>\r\n                <span \r\n                id={i._id}\r\n                class=\"fas fa-times\" \r\n                style={{cursor: 'pointer'}} \r\n                onClick={deleteInput}\r\n                ></span>\r\n              </p>\r\n            </div>\r\n        )\r\n    })\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <ErrorModal error={error} onClear={clearError} />\r\n            {isLoading && <LoadingSpinner asOverlay />}\r\n            <Modal\r\n            show={showModal}\r\n            onCancel={closeModalHandler}\r\n            header={\r\n              <h2>Nowa Godzina</h2>\r\n            }\r\n            contentClass=\"place-item__modal-content\"\r\n            footerClass=\"place-item__modal-actions\"\r\n            footer={<Button onClick={closeModalHandler}>ZAMKNIJ</Button>}\r\n            >\r\n            <React.Fragment>\r\n            <ErrorModal error={error} onClear={clearError} />\r\n            {isLoading && <LoadingSpinner asOverlay />}\r\n            <form \r\n              className=\"new-hour\"\r\n              onSubmit={submitNewHourHandler}\r\n            >\r\n                <Input\r\n                id=\"hour\"\r\n                element=\"input\"\r\n                type=\"number\"\r\n                label=\"Godzina\"\r\n                validators={[VALIDATOR_REQUIRE()]}\r\n                errorText=\"Wprowadź poprawną godzinę.\"\r\n                onInput={inputHandler}\r\n                ></Input>\r\n                <Input\r\n                id=\"guests\"\r\n                element=\"input\"\r\n                type=\"number\"\r\n                label=\"Liczba gości\"\r\n                validators={[VALIDATOR_REQUIRE()]}\r\n                errorText=\"Wprowadź poprawną liczbę gości.\"\r\n                onInput={inputHandler}\r\n                ></Input>\r\n                <Button \r\n                 type=\"submit\"\r\n                 disabled={!formState.isValid}\r\n                 onClick={submitNewHourHandler}\r\n                >DODAJ\r\n                </Button>\r\n              </form>\r\n            </React.Fragment>\r\n            </Modal>\r\n\r\n\r\n            <h2 onClick={() => console.log(availableHours)\r\n            }>Zaktualizuj liczbę gości</h2>\r\n                {reservation.length > 0 && <Input \r\n                    id=\"name\"\r\n                    element=\"select\"\r\n                    name=\"select\"\r\n                    label=\"Wybierz dzień\"\r\n                    validators={[VALIDATOR_REQUIRE()]}\r\n                    errorText=\"Wybierz dzień.\"\r\n                    onInput={selectDayHandler}\r\n                    options={setDaysOptions}\r\n                />}\r\n                {reservationDay && <div>\r\n                {setInputs}\r\n                <Button \r\n                onClick={openModalHandler}\r\n                >Dodaj godzinę</Button>\r\n                </div>\r\n                }\r\n                <form \r\n                onSubmit={submitHandler}\r\n                >\r\n                <div style={{borderTop: '1px solid', borderBottom: '1px solid', color: 'black'}}>\r\n                  <label for='available' style={{fontWeight: 'bold', padding: '0.5em', display: 'block'}}>Dostępność:</label>\r\n                  <input id='available' type='checkbox' onChange={changeAvailability} checked={available} style={{display: 'block', margin: '0.5em auto'}} />\r\n                  {!available && <p><span>Wiadomość:</span><textarea onChange={messageHandler} value={message} style={{display: 'block', margin: '0.5em auto'}}/></p>}\r\n                </div>\r\n                <Button \r\n                type=\"submit\">\r\n                  ZAKTUALIZUJ\r\n                </Button>\r\n                </form>\r\n                \r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default AdminSpecialReservation\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport ImageUpload from \"../../FormElements/ImageUpload\"\r\nimport {\r\n    VALIDATOR_REQUIRE\r\n  } from '../../util/validators';\r\n  import { useHttpClient } from '../../hooks/http-hook';\r\n  import LoadingSpinner from \"../../UIElements/LoadingSpinner\"\r\n  import { AuthContext } from '../../../context/auth-context';\r\n\r\nimport Button from \"../../FormElements/Button\"\r\nimport Input from '../../FormElements/Input';\r\n\r\nimport { useForm } from \"../../hooks/form-hook\"\r\nimport ErrorModal from \"../../UIElements/ErrorModal\"\r\n\r\n\r\nconst AdminUpdateItem = () => {\r\n\r\n    const [categories, setCategories] = useState([]);\r\n    const [items, setItems] = useState([]);\r\n    const [item, setItem] = useState(false);\r\n    const [itemAvailability, setItemAvailability] = useState();\r\n    const [itemBonus, setItemBonus] = useState();\r\n    const [itemSpecial, setItemSpecial] = useState();\r\n\r\n    const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n\r\n    const auth = useContext(AuthContext);\r\n\r\n    const [formState, inputHandler] = useForm(\r\n        {\r\n          name: {\r\n            value: '',\r\n            isValid: false\r\n        },\r\n            description: {\r\n                value: '',\r\n                isValid: false\r\n        },\r\n            price: {\r\n                value: '',\r\n                isValid: false\r\n        },\r\n            category: {\r\n                value: '',\r\n                isValid: false\r\n        },\r\n        // image: {\r\n        //   value: null,\r\n        //   isValid: false\r\n        // }\r\n        },\r\n        false\r\n      );\r\n\r\n    const [itemFormState, selectHandler] = useForm(\r\n        {\r\n            name: {\r\n              value: '',\r\n              isValid: false\r\n          }\r\n        },\r\n        false\r\n      );\r\n\r\n    useEffect(() => {\r\n        const fetchCategories = async () => {\r\n            try {\r\n              const responseData = await sendRequest(\r\n                `${process.env.REACT_APP_BACKEND_URL}/api/category`\r\n              );\r\n      \r\n              setCategories(responseData.category);\r\n        } catch (err) {}\r\n          \r\n    };\r\n    const fetchItems = async () => {\r\n        try {\r\n          const responseData = await sendRequest(\r\n            `${process.env.REACT_APP_BACKEND_URL}/api/items`\r\n          );\r\n  \r\n          setItems(responseData.items);\r\n    } catch (err) {}\r\n      \r\n};\r\n    fetchCategories();\r\n    fetchItems();\r\n      }, [sendRequest])\r\n\r\n      useEffect(() => {\r\n        \r\n            const fetchItem = async () => {\r\n                if(itemFormState.inputs.name.value) {\r\n                try {\r\n                  const responseData = await sendRequest(\r\n                    `${process.env.REACT_APP_BACKEND_URL}/api/items/${itemFormState.inputs.name.value}`\r\n                  );\r\n          \r\n                  setItem(responseData.item);\r\n                  setItemAvailability(responseData.item.available)\r\n                  setItemBonus(responseData.item.bonus)\r\n                  setItemSpecial(responseData.item.special)\r\n            } catch (err) {}      \r\n            } else return\r\n        }\r\n    fetchItem();\r\n      }, [sendRequest, itemFormState.inputs.name.value])\r\n    \r\n\r\n    const itemSubmitHandler = async event => {\r\n        event.preventDefault();\r\n          try {\r\n            await sendRequest(\r\n              `${process.env.REACT_APP_BACKEND_URL}/api/items/${item.id}`,\r\n              'PATCH',\r\n              JSON.stringify({\r\n                name: formState.inputs.name.value,\r\n                description: formState.inputs.description.value,\r\n                price: formState.inputs.price.value,\r\n                category: formState.inputs.category.value,\r\n                available: itemAvailability,\r\n                bonus: itemBonus,\r\n                special: itemSpecial\r\n              }),\r\n              {\r\n                Authorization: 'Bearer ' + auth.token,\r\n                'Content-Type': 'application/json'\r\n              }\r\n            );\r\n                alert(\"Zaktualizowano produkt\")\r\n                window.location.reload()\r\n          } catch (err) {}\r\n      };\r\n\r\n    const setOptions = categories.map(i => <option value={i.id}>{i.name}</option>)\r\n    const setItemOptions = items.map(i => <option value={i.id}>{i.name}</option>)\r\n\r\n    const changeAvailability = () => {\r\n        setItemAvailability(prevAvailibility => !prevAvailibility)\r\n    }\r\n\r\n    const changeBonus = () => {\r\n      setItemBonus(prevBonus => !prevBonus)\r\n  }\r\n\r\n  const changeSpecial = () => {\r\n    setItemSpecial(prevSpecial => !prevSpecial)\r\n}\r\n    \r\n\r\n    return (\r\n        <React.Fragment>\r\n            <ErrorModal error={error} onClear={clearError} />\r\n            {isLoading && <LoadingSpinner asOverlay />}\r\n                <h2>Zaktualizuj danie / produkt</h2>\r\n                <Input \r\n                    id=\"name\"\r\n                    element=\"select\"\r\n                    name=\"select\"\r\n                    label=\"Wybierz Produkt\"\r\n                    validators={[VALIDATOR_REQUIRE()]}\r\n                    errorText=\"Wybierz poprawny produkt.\"\r\n                    onInput={selectHandler}\r\n                    options={setItemOptions}\r\n                    />\r\n                {item && <form\r\n                onSubmit={itemSubmitHandler}\r\n                >\r\n                    <Input \r\n                    id=\"name\"\r\n                    element=\"input\"\r\n                    type=\"text\"\r\n                    label=\"Nazwa produktu\"\r\n                    validators={[VALIDATOR_REQUIRE()]}\r\n                    errorText=\"Wprowadź poprawną nazwę.\"\r\n                    onInput={inputHandler}\r\n                    initialValue={item.name}\r\n                    />\r\n                    {/* <ImageUpload\r\n                    center\r\n                    id=\"image\"\r\n                    onInput={inputHandler}\r\n                    previewUrl={item.image}\r\n                    errorText=\"Wprowadź zdjęcie produktu.\"\r\n                    /> */}\r\n                    <Input \r\n                    id=\"description\"\r\n                    element=\"textarea\"\r\n                    type=\"text\"\r\n                    label=\"Opis produktu\"\r\n                    validators={[VALIDATOR_REQUIRE()]}\r\n                    errorText=\"Wprowadź poprawny opis.\"\r\n                    onInput={inputHandler}\r\n                    initialValue={item.description}\r\n                    />\r\n                    <Input \r\n                    id=\"price\"\r\n                    element=\"input\"\r\n                    type=\"number\"\r\n                    label=\"Cena\"\r\n                    validators={[VALIDATOR_REQUIRE()]}\r\n                    errorText=\"Wprowadź poprawną cenę.\"\r\n                    onInput={inputHandler}\r\n                    initialValue={item.price}\r\n                    />\r\n                    {categories.length > 0 && <Input \r\n                    id=\"category\"\r\n                    element=\"select\"\r\n                    name=\"select\"\r\n                    label=\"Kategoria\"\r\n                    validators={[VALIDATOR_REQUIRE()]}\r\n                    errorText=\"Wprowadź poprawną kategorię.\"\r\n                    onInput={inputHandler}\r\n                    options={setOptions}\r\n                    initialValue={item.category}\r\n                    />}\r\n                    <label for='availability' style={{fontWeight: 'bold', marginBottom: '0.5rem'}}>Produkt dostępny?</label>\r\n                    <input id='availability' type='checkbox' onChange={changeAvailability} checked={itemAvailability} style={{display: 'block', margin: 'auto'}} />\r\n                    <label for='bonus' style={{fontWeight: 'bold', marginBottom: '0.5rem'}}>Produkt gratis?</label>\r\n                    <input id='bonus' type='checkbox' onChange={changeBonus} checked={itemBonus} style={{display: 'block', margin: 'auto'}} />\r\n                    <label for='special' style={{fontWeight: 'bold', marginBottom: '0.5rem'}}>Kolacje degustacyjne?</label>\r\n                    <input id='special' type='checkbox' onChange={changeSpecial} checked={itemSpecial} style={{display: 'block', margin: 'auto'}} />\r\n                    <Button \r\n                    type=\"submit\"\r\n                    // disabled={!formState.isValid}\r\n                    >\r\n                    ZMIEŃ\r\n                    </Button>\r\n                </form>}\r\n                </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default AdminUpdateItem\r\n","import React, { useState, useEffect, useContext } from 'react';\r\n\r\nimport {\r\n    VALIDATOR_REQUIRE\r\n  } from '../../util/validators';\r\n  import { useHttpClient } from '../../hooks/http-hook';\r\n  import LoadingSpinner from \"../../UIElements/LoadingSpinner\"\r\nimport Button from \"../../FormElements/Button\"\r\nimport Input from '../../FormElements/Input';\r\n\r\nimport { useForm } from \"../../hooks/form-hook\"\r\nimport ErrorModal from \"../../UIElements/ErrorModal\"\r\nimport { AuthContext } from '../../../context/auth-context';\r\n\r\nconst AdminValue = () => {\r\n    const [value, setValue] = useState(false); \r\n\r\n    const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n    const auth = useContext(AuthContext);\r\n\r\n    const [formState, inputHandler] = useForm(\r\n        {\r\n          value: {\r\n            value: '',\r\n            isValid: false\r\n        }\r\n        },\r\n        false\r\n      );\r\n\r\n    useEffect(() => {\r\n        const fetchValue = async () => {\r\n            try {\r\n              const responseData = await sendRequest(\r\n                `${process.env.REACT_APP_BACKEND_URL}/api/value/${process.env.REACT_APP_MIN_VALUE_ID}`\r\n              );\r\n              setValue(responseData.value);\r\n            \r\n        } catch (err) {}\r\n          \r\n    };\r\n    fetchValue();\r\n      }, [sendRequest])\r\n    \r\n\r\n    const valueSubmitHandler = async event => {\r\n        event.preventDefault();\r\n          try {\r\n            await sendRequest(\r\n              `${process.env.REACT_APP_BACKEND_URL}/api/value/${process.env.REACT_APP_MIN_VALUE_ID}`,\r\n              'PATCH',\r\n              JSON.stringify({\r\n                newValue: parseInt(formState.inputs.value.value)\r\n              }),\r\n              {\r\n                Authorization: 'Bearer ' + auth.token,\r\n                'Content-Type': 'application/json'\r\n              }\r\n            );\r\n                alert(\"Zaktualizowano wartość\")\r\n                window.location.reload()\r\n          } catch (err) {}\r\n      };\r\n    \r\n\r\n    return (\r\n        <React.Fragment>\r\n            <ErrorModal error={error} onClear={clearError} />\r\n            {isLoading && <LoadingSpinner asOverlay />}\r\n                <h2>Zmień minimalną wartość zamówienia</h2>\r\n                {value && <form\r\n                onSubmit={valueSubmitHandler}\r\n                >\r\n                    <Input \r\n                    id=\"value\"\r\n                    element=\"input\"\r\n                    type=\"number\"\r\n                    label=\"Minimalna wartość zamówienia (zł)\"\r\n                    validators={[VALIDATOR_REQUIRE()]}\r\n                    errorText=\"Wprowadź poprawną wartość.\"\r\n                    onInput={inputHandler}\r\n                    initialValue={value.value}\r\n                    />\r\n                    <Button type=\"submit\"\r\n                    >\r\n                    ZMIEŃ WARTOŚĆ\r\n                    </Button>\r\n                </form>}\r\n                </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default AdminValue\r\n","import React, {useState} from 'react';\r\nimport \"./Admin.css\"\r\nimport AdminNav from './AdminNav';\r\nimport AdminAddItem from './AdminStore/AdminAddItem';\r\nimport AdminBonus from './AdminStore/AdminBonus';\r\nimport AdminCategory from './AdminStore/AdminCategory';\r\nimport AdminDeleteItem from './AdminStore/AdminDeleteItem';\r\nimport AdminDelivery from './AdminStore/AdminDelivery';\r\nimport AdminSpecialReservation from './AdminStore/AdminSpecialReservation';\r\nimport AdminUpdateItem from './AdminStore/AdminUpdate';\r\nimport AdminValue from './AdminStore/AdminValue';\r\n\r\nconst AdminPanel = () => {\r\n\r\n    const [section, setSection] = useState(\"0\");\r\n\r\n    const changeSection = (e) => {\r\n        console.log(e.target.id);\r\n        \r\n        setSection(e.target.id);\r\n    }\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <div className=\"admin\">\r\n                <div className=\"admin-navigation\">\r\n                    <AdminNav changeSection={changeSection} />\r\n                </div>\r\n                <div className=\"admin-content\">\r\n                {section === \"0\" && <AdminAddItem />}\r\n                {section === \"1\" && <AdminUpdateItem />}\r\n                {section === \"2\" && <AdminDeleteItem />}\r\n                {section === \"3\" && <AdminCategory />}\r\n                {section === \"4\" && <AdminValue />}\r\n                {section === \"5\" && <AdminDelivery />}\r\n                {section === \"6\" && <AdminBonus />}\r\n                {section === \"7\" && <AdminSpecialReservation />}\r\n                </div>\r\n            </div>\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default AdminPanel\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Navigation = () => {\r\n\r\n    return (\r\n        \r\n    <ul className='nav'>\r\n        {/* <li className=\"main-navigation\">\r\n            <NavLink to='/special'exact>\r\n            Kolacje degustacyjne\r\n            </NavLink>\r\n        </li> */}\r\n        <li className=\"main-navigation\">\r\n            <NavLink to='/'exact>\r\n            Zamów\r\n            </NavLink>\r\n        </li>\r\n        <li className=\"main-navigation\">\r\n            <NavLink to='/koszyk'exact>\r\n            <span class=\"fas fa-shopping-cart\"></span>\r\n            </NavLink>\r\n        </li>\r\n    </ul>\r\n    )\r\n}\r\n\r\nexport default Navigation\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { CSSTransition } from 'react-transition-group';\n\nimport './SideDrawer.css';\n\nconst SideDrawer = props => {\n  const content = (\n    <CSSTransition\n      in={props.show}\n      timeout={200}\n      classNames=\"slide-in-left\"\n      mountOnEnter\n      unmountOnExit\n    >\n      <aside className=\"side-drawer\" onClick={props.onClick}>{props.children}</aside>\n    </CSSTransition>\n  );\n\n  return ReactDOM.createPortal(content, document.getElementById('drawer-hook'));\n};\n\nexport default SideDrawer;\n","export default __webpack_public_path__ + \"static/media/logo.f284211f.png\";","import React, {useState} from 'react';\r\nimport './Header.css';\r\nimport Navigation from './Navigation';\r\nimport { useHttpClient } from '../hooks/http-hook';\r\nimport ErrorModal from \"../UIElements/ErrorModal\"\r\nimport SideDrawer from './SideDrawer';\r\nimport Backdrop from '../UIElements/Backdrop';\r\n\r\nimport Logo from '../../images/logo.png'\r\n\r\n\r\nconst Header = () => {\r\n    const [drawerIsOpen, setDrawerIsOpen] = useState(false);\r\n    const { error, clearError } = useHttpClient();\r\n\r\n      const openDrawerHandler = () => {\r\n        setDrawerIsOpen(true);\r\n      };\r\n    \r\n      const closeDrawerHandler = () => {\r\n        setDrawerIsOpen(false);\r\n      };\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <ErrorModal error={error} onClear={clearError} />\r\n            {drawerIsOpen && <Backdrop onClick={closeDrawerHandler} />}\r\n            <SideDrawer show={drawerIsOpen} onClick={closeDrawerHandler}>\r\n              <nav className=\"main-navigation__drawer-nav\">\r\n          <Navigation />\r\n              </nav>\r\n\r\n            </SideDrawer>\r\n        <div className='header'>\r\n        <a href= \"https://niepospolita-lublin.com\" className=\"logo-link\" exact>\r\n            <div className='logo title'>\r\n              <img src={Logo} alt=\"logo\" className=\"logo\"></img>\r\n              <span>Niepospolita Restauracja</span>\r\n            </div>\r\n                </a>\r\n              <button\r\n                className=\"main-navigation__menu-btn\"\r\n                onClick={openDrawerHandler}\r\n                >\r\n                <span />\r\n                <span />\r\n                <span />\r\n              </button>\r\n            <div className='navigation'><Navigation/></div>\r\n        </div>\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default Header\r\n","import React from 'react';\r\nimport \"./Footer.css\";\r\nimport { NavLink } from 'react-router-dom';\r\n\r\n\r\nimport Logo from '../../images/logo.png'\r\n\r\n\r\nconst Footer = () => {\r\n\r\n    return (\r\n        <div className=\"footer\">\r\n            <a href= \"https://niepospolita-lublin.com\" className=\"logo-link\" exact>\r\n            <div className=\"footer-logo logo title\">\r\n              <img src={Logo} alt=\"logo\" className=\"logo\"></img>\r\n              <span className=\"footer-title\">Powrót na stronę główną</span>\r\n            </div>\r\n            </a>\r\n            <div className=\"footer-menu\">\r\n                {/* <h3>MENU</h3> */}\r\n                <ul className='nav'>\r\n                    <li className=\"main-navigation\">\r\n                    <NavLink to='/'exact>\r\n                    Zamów\r\n                    </NavLink>\r\n                    </li>\r\n                    <li className=\"main-navigation\">\r\n                    <NavLink to='/koszyk'exact>\r\n                    Koszyk\r\n                    </NavLink>\r\n                    </li>\r\n                    <li className=\"main-navigation\">\r\n                    <a href='https://niepospolita-lublin.com/regulamin/'exact>\r\n                    Regulamin\r\n                    </a>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Footer\r\n","export const sumItems = cartItems => {\r\n    return {\r\n        itemCount: cartItems.reduce((total, prod) => total + prod.quantity , 0),\r\n        total: cartItems.reduce((total, prod) => total + (prod.price * prod.quantity), 0)\r\n    }\r\n}\r\n\r\nconst cartReducer = (state, action) => {\r\n    switch(action.type) {\r\n        case 'ADD_ITEM':\r\n            if(!state.cartItems.find(item => item.id === action.payload.id)) {\r\n                state.cartItems.push({\r\n                    ...action.payload,\r\n                    quantity: 1\r\n                })\r\n            }\r\n            return {\r\n                ...state,\r\n                cartItems: [...state.cartItems],\r\n                ...sumItems(state.cartItems)\r\n            }   \r\n        case 'REMOVE_ITEM':\r\n            const newCartItems = state.cartItems.filter(item => item.id !== action.payload.id);\r\n            return {\r\n                ...state,\r\n                cartItems: [...newCartItems],\r\n                ...sumItems(newCartItems)\r\n            }\r\n        case 'INCREASE':\r\n            const increaseIndex = state.cartItems.findIndex(item => item.id === action.payload.id);\r\n            state.cartItems[increaseIndex].quantity++;\r\n            return {\r\n                ...state,\r\n                cartItems: [...state.cartItems],\r\n                ...sumItems(state.cartItems)\r\n            }\r\n        case 'DECREASE':\r\n            const decreaseIndex = state.cartItems.findIndex(item => item.id === action.payload.id);\r\n            state.cartItems[decreaseIndex].quantity--;\r\n            return {\r\n                ...state,\r\n                cartItems: [...state.cartItems],\r\n                ...sumItems(state.cartItems),\r\n            }\r\n        case 'ADD_BONUS_ITEM':\r\n            const bonusItem = {\r\n                id: action.payload._id,\r\n                item: action.payload.name,\r\n                quantity: 1,\r\n                price: 0\r\n            }\r\n        return {\r\n                ...state,\r\n                cartItems: [...state.cartItems],\r\n                ...sumItems(state.cartItems),\r\n                bonusItem\r\n            }   \r\n        default:\r\n                return state;\r\n    }\r\n}\r\nexport default cartReducer;","import React, { createContext, useReducer } from 'react';\r\nimport cartReducer from './cart-reducer';\r\n\r\nexport const CartContext = createContext();\r\n\r\nconst initialState = { cartItems: [], itemCount: 0, total: 0, bonusItem: false };\r\n\r\nconst CartContextProvider = ({ children }) => {\r\n    const [state, dispatch] = useReducer(cartReducer, initialState);\r\n    const addProduct = (product) => dispatch({ type: 'ADD_ITEM', payload: product });\r\n    const removeProduct = (product) => dispatch({ type: 'REMOVE_ITEM', payload: product });\r\n    const increase = (product) => dispatch({ type: 'INCREASE', payload: product });\r\n    const decrease = (product) => dispatch({ type: 'DECREASE', payload: product });\r\n    const addBonusItem = (product) => dispatch({ type: 'ADD_BONUS_ITEM', payload: product });\r\n\r\n    const contextValues = {\r\n        ...state,\r\n        addProduct,\r\n        removeProduct,\r\n        increase,\r\n        decrease,\r\n        addBonusItem\r\n    }\r\n    return (\r\n        <CartContext.Provider value={ contextValues }>\r\n            {children}\r\n        </CartContext.Provider>\r\n    )\r\n}\r\nexport default CartContextProvider;","export const isInCart = (product, cartItems) => {\r\n    return cartItems.find(item => item.id === product.id)\r\n}","import React, { useContext } from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Button from '../FormElements/Button';\r\nimport { CartContext } from '../../context/cart-context';\r\nimport { isInCart } from '../../helper';\r\n\r\n\r\nconst ProductCard = ({id, name, price, image, description}) => {\r\n\r\n    const product = { id, name, price, image, description };\r\n    const { addProduct, cartItems } = useContext(CartContext)\r\n    const history = useHistory()\r\n\r\n    const goToCartSection = () => {\r\n          history.push(\"/koszyk\");\r\n    }\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <div \r\n            className=\"item-card\"\r\n            >\r\n                <div className=\"item-card__image\">\r\n                <img src={`${process.env.REACT_APP_AWS_URL}/${image}`} alt={name}></img>\r\n                </div>\r\n                <div className=\"item-card__info\">\r\n                <p className=\"name price\">\r\n                    <span style={{fontWeight: \"bold\", \r\n                    maxWidth: \"70%\"\r\n                    }}>{name}</span>\r\n                    <span style={{fontWeight: \"bold\", marginLeft: \"0.7em\"}}>{price} zł</span>\r\n                </p>\r\n                <p className=\"description\">\r\n                    {description}\r\n                </p>\r\n                {\r\n                    !isInCart(product, cartItems) && <Button onClick={() => {\r\n                        addProduct(product)\r\n                    }}>Dodaj do koszyka</Button>\r\n                }\r\n                {\r\n                    isInCart(product, cartItems) && <Button active={true} onClick={() => goToCartSection()}>Przejdź do koszyka</Button>\r\n                }\r\n                </div>\r\n            </div>\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default ProductCard\r\n","import React from 'react';\n\nimport './Card.css';\n\nconst Card = props => {\n  return (\n    <div className={`card ${props.className}`} style={props.style}>\n      {props.children}\n    </div>\n  );\n};\n\nexport default Card;\n","import { useState, useCallback, useRef, useEffect } from 'react';\r\n\r\nexport const useDate = () => {\r\n\r\n    const [today, setToday] = useState(false);\r\n    const [dayId, setDayId] = useState(false);\r\n    const [currentHour, setCurrentHour] = useState(false);\r\n    const [currentMinute, setCurrentMinute] = useState(false);\r\n\r\n    useEffect(() => {\r\n    const date = new Date().getDay()\r\n    const hour = new Date().getHours()\r\n    const minute = new Date().getMinutes()\r\n    setCurrentHour(hour)\r\n    setCurrentMinute(minute)\r\n        switch (date) {\r\n            case 0: \r\n                setToday('Niedziela');\r\n                setDayId(\"616866d188b1a5c67bdb3547\")\r\n                break;\r\n            case 1: \r\n                setToday('Poniedziałek');\r\n                setDayId(\"6168665588b1a5c67bdb3539\")\r\n                break;\r\n            case 2: \r\n                setToday('Wtorek');\r\n                setDayId(\"6168666588b1a5c67bdb353b\")\r\n                break;\r\n            case 3: \r\n                setToday('Środa');\r\n                setDayId(\"6168667c88b1a5c67bdb353d\")\r\n                break;\r\n            case 4: \r\n                setToday('Czwartek');\r\n                setDayId(\"6168669588b1a5c67bdb3540\")\r\n                break;\r\n            case 5: \r\n                setToday('Piątek');\r\n                setDayId(\"616866bd88b1a5c67bdb3543\")\r\n                break;\r\n            case 6: \r\n                setToday('Sobota');\r\n                setDayId(\"616866c888b1a5c67bdb3545\")\r\n                break;\r\n            default:\r\n                setToday('Niedziela');\r\n                setDayId(\"616866d188b1a5c67bdb3547\")\r\n                break;\r\n        }\r\n    }, [])\r\n\r\n  return { today, dayId, currentHour, currentMinute };\r\n};\r\n","import React, {useState, useEffect} from 'react';\r\nimport \"./Store.css\";\r\nimport ProductCard from './ProductCard';\r\nimport Card from '../UIElements/Card'\r\n\r\nimport LoadingSpinner from \"../UIElements/LoadingSpinner\"\r\nimport { useHttpClient } from '../hooks/http-hook';\r\nimport { useDate } from '../hooks/date-hook';\r\n\r\n\r\nconst Store = () => {\r\n\r\n    const [items, setItems] = useState();\r\n    const [allItems, setAllItems] = useState();\r\n    const [categories, setCategories] = useState([]);\r\n    const [minOrderValue, setMinOrderValue] = useState();\r\n    const [deliveryHours, setDeliveryHours] = useState(false);\r\n    const [deliveryPrice, setDeliveryPrice] = useState(false);\r\n    const [minBonusDeliveryPrice, setMinBonusDeliveryPrice] = useState(false);\r\n    const [deliveryAvailable, setDeliveryAvailable] = useState(true);\r\n    const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n    const { today, dayId } = useDate();\r\n\r\n    useEffect(() => {\r\n        window.scrollTo(0, 0)\r\n        const fetchItems = async () => {\r\n                try {\r\n                    const responseData = await sendRequest(\r\n                    `${process.env.REACT_APP_BACKEND_URL}/api/items/`\r\n                  );\r\n                const filteredItems = responseData.items.filter(i => !(i.category === \"INNE\"))\r\n                const sortItemsByName = filteredItems.sort((a, b) => a.name > b.name ? 1 : -1)\r\n                const sortItemsByCategory = sortItemsByName.sort((a, b) => {\r\n                    let aCatValue\r\n                    let bCatValue\r\n                    if (a.category === \"PRZYSTAWKI\") {\r\n                        aCatValue = 0\r\n                    } else if (a.category === \"ZUPY\") {\r\n                        aCatValue = 1\r\n                    } else if (a.category === \"SAŁATY\") {\r\n                        aCatValue = 2\r\n                    } else if (a.category === \"DANIA GŁÓWNE\") {\r\n                        aCatValue = 3\r\n                    } else if (a.category === \"BURGERY I KANAPKI\") {\r\n                        aCatValue = 4\r\n                    } else if (a.category === \"DODATKI\") {\r\n                        aCatValue = 5\r\n                    } else if (a.category === \"DANIA DLA DZIECI\") {\r\n                        aCatValue = 6\r\n                    } else if (a.category === \"DESERY\") {\r\n                        aCatValue = 7\r\n                    } else aCatValue = 10\r\n\r\n                    if (b.category === \"PRZYSTAWKI\") {\r\n                        bCatValue = 0\r\n                    } else if (b.category === \"ZUPY\") {\r\n                        bCatValue = 1\r\n                    } else if (b.category === \"SAŁATY\") {\r\n                        bCatValue = 2\r\n                    } else if (b.category === \"DANIA GŁÓWNE\") {\r\n                        bCatValue = 3\r\n                    } else if (b.category === \"BURGERY I KANAPKI\") {\r\n                        bCatValue = 4\r\n                    } else if (b.category === \"DODATKI\") {\r\n                        bCatValue = 5\r\n                    } else if (b.category === \"DANIA DLA DZIECI\") {\r\n                        bCatValue = 6\r\n                    } else if (b.category === \"DESERY\") {\r\n                        bCatValue = 7\r\n                    } else bCatValue = 10\r\n                    if ( aCatValue < bCatValue ){\r\n                    return -1;\r\n                    }\r\n                    if ( aCatValue > bCatValue ){\r\n                    return 1;\r\n                    }\r\n                  return 0;})\r\n                // console.log(filteredItems);\r\n                console.log(sortItemsByCategory);\r\n                \r\n                setItems(sortItemsByCategory)\r\n                setAllItems(sortItemsByCategory)\r\n                } catch (err) {}\r\n            }\r\n            const fetchCategories = async () => {\r\n                \r\n                try {\r\n                    const responseData = await sendRequest(\r\n                    `${process.env.REACT_APP_BACKEND_URL}/api/category/`\r\n                  );\r\n                const storeCategories = responseData.category.filter(cat => !(cat.name === \"INNE\"))\r\n                setCategories(storeCategories)\r\n                } catch (err) {}\r\n            } \r\n            const getMinOrderValue = async () => {\r\n                \r\n                try {\r\n                    const responseData = await sendRequest(\r\n                    `${process.env.REACT_APP_BACKEND_URL}/api/value/${process.env.REACT_APP_MIN_VALUE_ID}`\r\n                  );\r\n                \r\n                setMinOrderValue(responseData.value)\r\n                } catch (err) {}\r\n            } \r\n            const getDeliveryHours = async () => {\r\n                \r\n                try {\r\n                    const responseData = await sendRequest(\r\n                    `${process.env.REACT_APP_BACKEND_URL}/api/time/`\r\n                  );\r\n                \r\n                  setDeliveryHours(responseData.time)\r\n                  const currentDay = responseData.time.find(time => time._id === dayId)\r\n                  const currentDayAvailibility = currentDay.available\r\n                  setDeliveryAvailable(currentDayAvailibility)\r\n                } catch (err) {}\r\n            } \r\n            const fetchDeliveryPrice = async () => {\r\n                try {\r\n                  const responseData = await sendRequest(\r\n                    `${process.env.REACT_APP_BACKEND_URL}/api/delivery/${process.env.REACT_APP_DELIVERY_PRICE_ID}`\r\n                  );\r\n                  setDeliveryPrice(responseData.delivery_price);\r\n                \r\n            } catch (err) {}\r\n              \r\n        };\r\n        const getBonusDeliveryPrice = async () => {\r\n                \r\n            try {\r\n                const responseData = await sendRequest(\r\n                    `${process.env.REACT_APP_BACKEND_URL}/api/bonus-delivery/${process.env.REACT_APP_BONUS_DELIVERY_PRICE_ID}`\r\n                  );\r\n                  setMinBonusDeliveryPrice(responseData.bonus_delivery_price.value);\r\n            } catch (err) {}\r\n        }\r\n            getBonusDeliveryPrice()\r\n            fetchDeliveryPrice();\r\n            fetchItems()\r\n            fetchCategories()\r\n            getMinOrderValue()\r\n            getDeliveryHours()\r\n    }, [sendRequest, dayId])\r\n\r\n    const itemList = () => {\r\n        let item_list\r\n        // let sortItems\r\n        let availableItems\r\n        if(items) {\r\n            availableItems = items.filter(item => item.available === true)\r\n            // sortItems = availableItems.sort((a, b) => a.name > b.name ? 1 : -1)\r\n            item_list = availableItems.map(i => {\r\n            return (<ProductCard key={i.id} id={i.id} name={i.name} price={i.price} description={i.description} image={i.image} category={i.category} available={i.available} />)\r\n    })\r\n    } return item_list\r\n    }\r\n\r\n    const filterByCategory = (e) => {\r\n        let filteredItems\r\n        if (e.target.innerHTML === \"WSZYSTKO\") {\r\n            filteredItems = allItems\r\n        } else {\r\n            const categoryValue = e.target.innerHTML.toLowerCase()\r\n            filteredItems = allItems.filter(i => \r\n                i.category.toLowerCase().includes(categoryValue))\r\n        }\r\n        setItems(filteredItems)\r\n    }\r\n\r\n    const showDeliveryHours = () => {\r\n        let message\r\n        let currentDay\r\n        if (deliveryHours && today && dayId) {\r\n            currentDay = deliveryHours.find(time => time._id === dayId)\r\n            const startHour = currentDay.time.start.hour\r\n            const startMinute = currentDay.time.start.minute\r\n            const endHour = currentDay.time.end.hour\r\n            const endMinute = currentDay.time.end.minute\r\n            message = `${startHour < 10 ? '0' + startHour : startHour}:${startMinute < 10 ? '0' + startMinute : startMinute} - ${endHour < 10 ? '0' + endHour : endHour}:${endMinute < 10 ? '0' + endMinute : endMinute}`\r\n            }\r\n        return message;\r\n    }\r\n\r\n    const categoryList = categories.map(cat => <li key={cat.id} onClick={filterByCategory}>{cat.name}</li>)\r\n\r\n    return (\r\n        <div className=\"store\"\r\n        >\r\n            <div className=\"store-info\">\r\n                <h1>Zamów online!</h1>\r\n                <p>\r\n                    {today && today} - \r\n                    {!deliveryAvailable && <b style={{color: 'red'}}>W dzisiejszym dniu nie dowozimy!</b>}\r\n                    {deliveryAvailable && <span> W dzisiejszym dniu dowozimy w godzinach <b>{deliveryHours && today && dayId && showDeliveryHours()}</b></span>}\r\n                </p>\r\n                <p>Minimalna kwota zamówienia: <b>{minOrderValue && minOrderValue.value} zł</b></p>\r\n                <p>Koszt dostawy: <b>{deliveryPrice && deliveryPrice.value} zł</b>. W przypadku dowozu poza Lublin koszt obliczany wg odległości.</p>\r\n                {minBonusDeliveryPrice && <p>Zamówienie powyżej <b>{minBonusDeliveryPrice} zł</b> <b style={{color: \"lightgreen\"}}>dostawa gratis!</b></p>}\r\n                \r\n            </div>\r\n            <Card>\r\n            <div className=\"categories\">\r\n                <h2>Wybierz kategorię</h2>\r\n                <ul style={{color: \"white\"}}>\r\n                    <li onClick={filterByCategory}>WSZYSTKO</li>\r\n                {categories.length > 0 && categoryList}\r\n                </ul>\r\n            </div>\r\n            </Card>\r\n            <div className=\"store-items\">\r\n            {isLoading && <LoadingSpinner asOverlay />}\r\n                {items && itemList()}\r\n            </div>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Store\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport \"./Cart.css\"\r\nimport Button from '../FormElements/Button'\r\nimport LoadingSpinner from \"../UIElements/LoadingSpinner\"\r\nimport { useHttpClient } from '../hooks/http-hook';\r\nimport { useDate } from '../hooks/date-hook';\r\nimport ErrorModal from \"../UIElements/ErrorModal\";\r\nimport { CartContext } from '../../context/cart-context';\r\nimport Card from '../UIElements/Card';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport Geocode from \"react-geocode\";\r\n\r\nconst Cart = () => {\r\n\r\n    const [orderValid, setOrderValid] = useState({valid: false, message: ''})\r\n    const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n    const [minOrderValue, setMinOrderValue] = useState(false);\r\n    const [deliveryHours, setDeliveryHours] = useState(false);\r\n    const [deliveryPrice, setDeliveryPrice] = useState(false);\r\n    const [minBonusDeliveryPrice, setMinBonusDeliveryPrice] = useState(false);\r\n    const [minBonusItemsPrice, setMinBonusItemsPrice] = useState(false);\r\n    const [bonusItemCheckedId, setBonusItemCheckedId] = useState(false);\r\n    const [bonusItems, setBonusItems] = useState([]);\r\n    const { cartItems, removeProduct, increase, decrease, total, addBonusItem, bonusItem } = useContext(CartContext);\r\n    const { today, dayId, currentHour, currentMinute } = useDate();\r\n\r\n    useEffect(() => {\r\n        window.scrollTo(0, 0)\r\n            const getMinOrderValue = async () => {\r\n                try {\r\n                    const responseData = await sendRequest(\r\n                    `${process.env.REACT_APP_BACKEND_URL}/api/value/${process.env.REACT_APP_MIN_VALUE_ID}`\r\n                  );\r\n                \r\n                setMinOrderValue(responseData.value)\r\n                } catch (err) {}\r\n            }\r\n            const getDeliveryHours = async () => {\r\n                \r\n                try {\r\n                    const responseData = await sendRequest(\r\n                    `${process.env.REACT_APP_BACKEND_URL}/api/time/`\r\n                  );\r\n                \r\n                  setDeliveryHours(responseData.time)\r\n                } catch (err) {}\r\n            } \r\n            const getDeliveryPrice = async () => {\r\n                \r\n                try {\r\n                    const responseData = await sendRequest(\r\n                        `${process.env.REACT_APP_BACKEND_URL}/api/delivery/${process.env.REACT_APP_DELIVERY_PRICE_ID}`\r\n                      );\r\n                      setDeliveryPrice(responseData.delivery_price.value);\r\n                } catch (err) {}\r\n            }\r\n            const getBonusItems = async () => {\r\n                \r\n                try {\r\n                    const responseData = await sendRequest(\r\n                        `${process.env.REACT_APP_BACKEND_URL}/api/bonus/`\r\n                      );\r\n                      setBonusItems(responseData.bonusItems);\r\n                } catch (err) {}\r\n            }\r\n            const getBonusItemsPrice = async () => {\r\n                \r\n                try {\r\n                    const responseData = await sendRequest(\r\n                        `${process.env.REACT_APP_BACKEND_URL}/api/bonus-items/${process.env.REACT_APP_BONUS_ITEMS_PRICE_ID}`\r\n                      );\r\n                      setMinBonusItemsPrice(responseData.bonus_items_price.value);\r\n                } catch (err) {}\r\n            }\r\n            const getBonusDeliveryPrice = async () => {\r\n                \r\n                try {\r\n                    const responseData = await sendRequest(\r\n                        `${process.env.REACT_APP_BACKEND_URL}/api/bonus-delivery/${process.env.REACT_APP_BONUS_DELIVERY_PRICE_ID}`\r\n                      );\r\n                      setMinBonusDeliveryPrice(responseData.bonus_delivery_price.value);\r\n                } catch (err) {}\r\n            }\r\n            getMinOrderValue()\r\n            getDeliveryHours()\r\n            getDeliveryPrice()\r\n            getBonusItems()\r\n            getBonusItemsPrice()\r\n            getBonusDeliveryPrice()\r\n    }, [sendRequest])\r\n\r\n    useEffect(() => {\r\n        const orderValidation = {valid: false, message: ''}\r\n        if(cartItems && deliveryHours && today && dayId && currentHour && currentMinute) {\r\n            const currentDay = deliveryHours.find(time => time._id === dayId)\r\n            // const startHour = currentDay.time.start.hour\r\n            // const startMinute = currentDay.time.start.minute\r\n            const endHour = currentDay.time.end.hour\r\n            const endMinute = currentDay.time.end.minute\r\n            \r\n                if (!currentDay.available) {\r\n                    orderValidation.valid = false\r\n                    orderValidation.message = 'W dzisiejszym dniu nie dowozimy'\r\n                } else if (total < minOrderValue.value) {\r\n                    orderValidation.valid = false\r\n                    orderValidation.message = `Minimalna kwota zamówienia to ${minOrderValue.value} zł`\r\n                } \r\n                // else if (startHour > currentHour || endHour < currentHour || (startHour === currentHour && startMinute >= currentMinute) || (endHour === currentHour && endMinute <= currentMinute)) {\r\n                // orderValidation.valid = false\r\n                // orderValidation.message = `W dzisiejszym dniu dania można zamawiać od ${startHour < 10 ? '0' + startHour : startHour }:${startMinute < 10 ? '0' + startMinute : startMinute} do ${endHour < 10 ? '0' + endHour : endHour }:${endMinute < 10 ? '0' + endMinute : endMinute}`\r\n                // }\r\n                else if (endHour < currentHour || (endHour === currentHour && endMinute <= currentMinute)) {\r\n                    orderValidation.valid = false\r\n                    orderValidation.message = `W dzisiejszym dniu już nie dowozimy. Zapraszamy ponownie.`\r\n                    }\r\n                else {\r\n                    orderValidation.valid = true\r\n                    orderValidation.message = ''\r\n            }\r\n        }\r\n        return (\r\n            setOrderValid(orderValidation)\r\n            )\r\n    }, [cartItems, deliveryHours, today, dayId, currentHour, currentMinute, total, minOrderValue])\r\n\r\n    const getCoordinates = () => {\r\n        Geocode.setApiKey('AIzaSyCC2-7o0QiPK0-IoueeS0VgFOgUbWNE_Gw')\r\n        Geocode.fromAddress(\"Eiffel Tower\").then(\r\n        (response) => {\r\n          const { lat, lng } = response.results[0].geometry.location;\r\n          console.log(lat, lng);\r\n        },\r\n        (error) => {\r\n          console.error(error);\r\n        }\r\n      );\r\n    }\r\n\r\n    const checkProductQuantity = (quantity, product) => {\r\n        if(quantity <= 0) removeProduct(product)\r\n    }\r\n\r\n    const changeBonusItem = (e) => {\r\n        setBonusItemCheckedId(e.target.id)\r\n    }\r\n\r\n    const showCartItems = cartItems.map(item => {\r\n        const product = { id: item.id, name: item.name, price: item.price, image: item.image, description: item.description };\r\n        const price = item.price * item.quantity\r\n        return (\r\n        <li className=\"item-card\" key={item.id}>\r\n            <img src={`${process.env.REACT_APP_AWS_URL}/${item.image}`} alt={item.name}></img>\r\n            <span className=\"item-name\">{item.name}</span>\r\n            <span class=\"fas fa-minus item-quantity__handler\" onClick={() => {\r\n                decrease(product)\r\n                checkProductQuantity(item.quantity, product)\r\n                }}></span>\r\n            <span class=\"item-quantity\" onClick={() => {getCoordinates()}}>{item.quantity}</span>\r\n            <span class=\"fas fa-plus item-quantity__handler\" onClick={() => {increase(product)}}></span>\r\n            <span class=\"item-price\">{price.toFixed(2)} zł</span>\r\n            <span class=\"fas fa-times item-remove\" onClick={() => {removeProduct(product)}}></span>\r\n        </li>\r\n            )\r\n    })\r\n\r\n    const showBonusItems = bonusItems.map(item => {\r\n        return <li className=\"item-card bonus-item\" key={item._id}>\r\n            <img src={`${process.env.REACT_APP_AWS_URL}/${item.image}`} alt={item.image}></img>\r\n            <div>\r\n                <span>{item.name}</span>\r\n                <input id={item._id} type='checkbox' \r\n                onChange={changeBonusItem}\r\n                onClick={() => addBonusItem(item)}\r\n                checked={item._id === (bonusItemCheckedId || (bonusItem && bonusItem.id))} \r\n                style={{display: 'block', margin: 'auto', marginTop: '1em'}} />\r\n            </div>\r\n            \r\n        </li>\r\n    })\r\n\r\n    return (\r\n        <React.Fragment>\r\n        {isLoading && <LoadingSpinner asOverlay />}\r\n        <ErrorModal error={error} onClear={clearError} />\r\n        <div className=\"cart\">\r\n                <h1 onClick={() => console.log(bonusItem)}\r\n                >Twój koszyk</h1>\r\n                {cartItems.length > 0 &&<div className=\"cart-info\">\r\n                    <p>Koszt dowozu: <b>{deliveryPrice && deliveryPrice} zł</b>, w przypadku dowozu poza Lublin koszt obliczany wg odległości.</p>\r\n                    {minBonusDeliveryPrice && <p>Zamówienie powyżej {minBonusDeliveryPrice} zł <b style={{color: \"lightgreen\"}}>dostawa gratis!</b></p>}\r\n                    {bonusItems.length > 0 && minBonusItemsPrice && <p >Zamówienie powyżej {minBonusItemsPrice} zł <b style={{color: \"lightgreen\"}}>produkt gratis!</b></p>}\r\n                </div>}\r\n                {cartItems.length > 0 && <Card>\r\n            <div className=\"cart-products\">\r\n            <li className=\"item-card titles\">\r\n                    <span className='item-name'>Produkt</span>\r\n                    <span className='item-quantity-title'>Ilość</span>\r\n                    <span className='item-price-title'>Cena</span>\r\n                    {/* <span style={{width: '10%', marginLeft: '5px'}}></span> */}\r\n            </li>\r\n                {showCartItems}\r\n            <li className=\"item-card summary \">\r\n                    <span className='item-name'></span>\r\n                    <span className='total'>SUMA:  <b style={{marginLeft: \"5px\", color: \"white\"}}>{total.toFixed(2)} zł</b> \r\n                    {total.toFixed(2) <= minBonusDeliveryPrice ? <b> + ({deliveryPrice} zł dostawa)</b> : <span style={{fontSize: \"0.7em\", color: \"lightgreen\"}}>(powyżej {minBonusDeliveryPrice} zł dostawa gratis)</span>} </span>\r\n            </li>\r\n            <li className=\"item-card__alert\">\r\n                    <span>{!orderValid.valid && minOrderValue && <p style={{marginRight: '1em'}}>{orderValid.message}</p>}</span>\r\n            </li>\r\n            {total.toFixed(2) > minBonusItemsPrice && <div>\r\n                <h3>Wybierz produkt gratis</h3>\r\n                <div className=\"bonus\">\r\n                {showBonusItems}\r\n                </div>\r\n            </div>}\r\n            </div>\r\n            \r\n            </Card>}\r\n            {!cartItems.length > 0 && <h3 style={{color: \"white\"}}>Brak produktów w koszyku</h3>}\r\n            {cartItems.length > 0 && <Link to=\"/zamowienie\"><Button disabled={!orderValid.valid}>Przejdź do zamówienia</Button></Link>}\r\n            {!cartItems.length > 0 && <Link to=\"/\"><Button>Przejdź do sklepu</Button></Link>}\r\n        </div>\r\n        </React.Fragment>\r\n        \r\n    )\r\n}\r\n\r\nexport default Cart\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport \"./Order.css\"\r\nimport Button from '../FormElements/Button'\r\nimport LoadingSpinner from \"../UIElements/LoadingSpinner\"\r\nimport { useHttpClient } from '../hooks/http-hook';\r\nimport ErrorModal from \"../UIElements/ErrorModal\";\r\nimport { CartContext } from '../../context/cart-context';\r\nimport Card from '../UIElements/Card';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { useStripe } from '@stripe/react-stripe-js'\r\nimport { TimePickerComponent } from '@syncfusion/ej2-react-calendars'\r\nimport { useDate } from '../hooks/date-hook';\r\n\r\nimport {\r\n    VALIDATOR_REQUIRE,\r\n    VALIDATOR_EMAIL\r\n  } from '../util/validators';\r\n  import Input from '../FormElements/Input';\r\n\r\nimport { useForm } from \"../hooks/form-hook\"\r\n\r\nconst Order = () => {\r\n    \r\n\r\n    const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n    \r\n    const [deliveryPrice, setDeliveryPrice] = useState(false);\r\n    const [timepickerValue, setTimepickerValue] = useState('nie określono');\r\n    const [minTime, setMinTime] = useState();\r\n    const [maxTime, setMaxTime] = useState();\r\n    const [isToLateToOrder, setIsToLateToOrder] = useState(false);\r\n    const [paymentOffline, setPaymentOffline] = useState(false);\r\n\r\n    const [deliveryHours, setDeliveryHours] = useState(false);\r\n    const stripe = useStripe();\r\n    let history = useHistory();\r\n    \r\n    const { today, dayId, currentHour, currentMinute } = useDate();\r\n    const { cartItems, total, bonusItem } = useContext(CartContext);\r\n\r\n    useEffect(() => {\r\n        window.scrollTo(0, 0)\r\n            const getDeliveryPrice = async () => {\r\n                \r\n                try {\r\n                    const responseData = await sendRequest(\r\n                        `${process.env.REACT_APP_BACKEND_URL}/api/delivery/${process.env.REACT_APP_DELIVERY_PRICE_ID}`\r\n                      );\r\n                      setDeliveryPrice(responseData.delivery_price.value);\r\n                } catch (err) {}\r\n            }\r\n            const getDeliveryHours = async () => {\r\n                \r\n                try {\r\n                    const responseData = await sendRequest(\r\n                    `${process.env.REACT_APP_BACKEND_URL}/api/time/`\r\n                  );\r\n                \r\n                  setDeliveryHours(responseData.time)\r\n                } catch (err) {}\r\n            } \r\n            getDeliveryPrice()\r\n            getDeliveryHours()\r\n    }, [sendRequest])\r\n\r\n    useEffect(() => {\r\n        let minOrderTime\r\n        let maxOrderTime\r\n        if(deliveryHours && today && dayId && currentHour && currentMinute) {\r\n            const currentDay = deliveryHours.find(time => time._id === dayId)\r\n            const startHour = currentDay.time.start.hour\r\n            let startMinute = currentDay.time.start.minute\r\n            const endHour = currentDay.time.end.hour\r\n            let endMinute = currentDay.time.end.minute\r\n\r\n            if (currentDay.time.start.minute < 10) {\r\n                startMinute = currentDay.time.start.minute + '0'\r\n            } else {\r\n                startMinute = currentDay.time.start.minute\r\n            }\r\n\r\n            if (currentDay.time.end.minute < 10) {\r\n                endMinute = currentDay.time.end.minute + '0'\r\n            } else {\r\n                endMinute = currentDay.time.end.minute\r\n            }\r\n            \r\n            maxOrderTime = (endHour + ':' + endMinute).toString()\r\n            \r\n            \r\n            if(currentHour > startHour) {\r\n                if(currentMinute > 45) {\r\n                    minOrderTime = (currentHour + 2 + ':00').toString()\r\n                } else if (currentMinute > 30) {\r\n                    minOrderTime = (currentHour + 1 + ':45').toString()\r\n                } else if (currentMinute > 15) {\r\n                    minOrderTime = (currentHour + 1 + ':30').toString()\r\n                } else {\r\n                    minOrderTime = (currentHour + 1 + ':15').toString()\r\n                }\r\n                \r\n            } else if (currentHour === startHour && currentMinute > startMinute) {\r\n                if(currentMinute > 45) {\r\n                    minOrderTime = (currentHour + 2 + ':00').toString()\r\n                } else if (currentMinute > 30) {\r\n                    minOrderTime = (currentHour + 1 + ':45').toString()\r\n                } else if (currentMinute > 15) {\r\n                    minOrderTime = (currentHour + 1 + ':30').toString()\r\n                } else {\r\n                    minOrderTime = (currentHour + 1 + ':15').toString()\r\n                }\r\n            } else minOrderTime = (startHour + 1 + ':' + startMinute).toString()\r\n\r\n            if(currentHour >= endHour || (currentHour === (endHour - 1) && (currentMinute > endMinute )) ) {\r\n                setIsToLateToOrder(true)\r\n            }\r\n        }\r\n            if(minOrderTime && maxOrderTime) {\r\n                setMinTime(new Date(`8/3/2017 ${minOrderTime}`))\r\n                setMaxTime(new Date(`8/3/2017 ${maxOrderTime}`))\r\n            }\r\n    }, [deliveryHours, today, dayId, currentHour, currentMinute])\r\n\r\n    const [formState, inputHandler] = useForm(\r\n        {\r\n        //   name: {\r\n        //     value: '',\r\n        //     isValid: false\r\n        // },\r\n            street: {\r\n                value: '',\r\n                isValid: false\r\n        },\r\n            local: {\r\n                value: '',\r\n                isValid: false\r\n        },\r\n            apartament: {\r\n                value: null,\r\n                isValid: true\r\n        },\r\n            zipCode: {\r\n                value: '',\r\n                isValid: false\r\n        },\r\n            city: {\r\n                value: '',\r\n                isValid: false\r\n        },\r\n            email: {\r\n                value: '',\r\n                isValid: false\r\n        },\r\n            phoneNumber: {\r\n                value: '',\r\n                isValid: false\r\n        },\r\n        message: {\r\n            value: null,\r\n            isValid: true\r\n        },\r\n        },\r\n        false\r\n      );\r\n\r\n    const formSubmitHandler = async event => {\r\n        event.preventDefault();\r\n        \r\n        let customer_items = cartItems.map(i => {\r\n            return {\r\n                quantity: i.quantity,\r\n                name: i.name,\r\n                price: i.price\r\n            }\r\n        })\r\n        let line_items\r\n        if (cartItems && deliveryPrice) {\r\n            line_items = cartItems.map(i => {\r\n                return {\r\n                    quantity: i.quantity,\r\n                    price_data: {\r\n                        currency: \"pln\",\r\n                        unit_amount: i.price * 100,\r\n                        product_data: {\r\n                            name: i.name,\r\n                            description: i.description\r\n                        }\r\n                    }  \r\n                }\r\n            })\r\n    \r\n            const delivery_price = {\r\n                quantity: 1,\r\n                price_data: {\r\n                    currency: \"pln\",\r\n                    unit_amount: deliveryPrice * 100,\r\n                    product_data: {\r\n                        name: 'opłata za dowóz'\r\n                    }\r\n                }  \r\n            }\r\n            \r\n            if (total >= 80 && bonusItem) {\r\n                line_items.push({\r\n                    quantity: 1,\r\n                    price_data: {\r\n                        currency: \"pln\",\r\n                        unit_amount: 0 * 100,\r\n                        product_data: {\r\n                            name: bonusItem.item + \" gratis\"\r\n                        }}})\r\n            } else if (total <= 60) {\r\n                line_items.push(delivery_price)\r\n            }\r\n        }\r\n        \r\n        let address = {\r\n            street: formState.inputs.street.value,\r\n            local: formState.inputs.local.value,\r\n            zipCode: formState.inputs.zipCode.value,\r\n            city: formState.inputs.city.value\r\n        }\r\n        if (!!formState.inputs.apartament.value) {\r\n            address = {\r\n                ...address,\r\n                apartament: formState.inputs.apartament.value\r\n            }\r\n        } else {\r\n            address = {\r\n                ...address,\r\n                apartament: false\r\n            }\r\n        }\r\n        if (!!formState.inputs.message.value) {\r\n            address = {\r\n                ...address,\r\n                message: formState.inputs.message.value\r\n            }\r\n        } else {\r\n            address = {\r\n                ...address,\r\n                message: \"brak\"\r\n            }\r\n        }\r\n        if (event.target.id === \"payment-online\" && !isToLateToOrder) {\r\n            try {\r\n                const responseData = await sendRequest(\r\n                    `${process.env.REACT_APP_BACKEND_URL}/api/checkout/`,\r\n                    'POST',\r\n                    JSON.stringify({\r\n                        line_items,\r\n                        customer_email: formState.inputs.email.value,\r\n                        message: formState.inputs.message.value,\r\n                        deliveryHour: timepickerValue.toString(),\r\n                        phone: formState.inputs.phoneNumber.value,\r\n                        address,\r\n                        option: 'order'\r\n                    }),\r\n                    {\r\n                      'Content-Type': 'application/json'\r\n                    }\r\n                );\r\n                const { sessionId } = responseData\r\n                await stripe.redirectToCheckout({\r\n                    sessionId\r\n                })\r\n            } catch (err) {}\r\n        } else if (event.target.id === \"payment-offline\" && !isToLateToOrder) {\r\n\r\n            let delivery_info\r\n            let totalAmount\r\n            const paymentMethod = event.target.name\r\n            if (total && deliveryPrice && total <= 60 ) {\r\n                delivery_info = deliveryPrice + \"zł\"\r\n                totalAmount = total + deliveryPrice\r\n            } else {\r\n                delivery_info = \"dostawa gratis\"\r\n                totalAmount = total\r\n            }\r\n            let bonusItemName = 'brak'\r\n            if(bonusItem && total > 80 ) {\r\n                bonusItemName = bonusItem.item\r\n            }\r\n            \r\n            try { \r\n                await sendRequest(\r\n                    `${process.env.REACT_APP_BACKEND_URL}/api/mail/`,\r\n                    'POST',\r\n                    JSON.stringify({\r\n                        customer_email: formState.inputs.email.value,\r\n                        customer_phoneNumber: formState.inputs.phoneNumber.value,\r\n                        customer_address: address,\r\n                        customer_items,\r\n                        total: totalAmount,\r\n                        delivery_info,\r\n                        bonusItemName,\r\n                        timepickerValue,\r\n                        paymentMethod\r\n                    }),\r\n                    {\r\n                      'Content-Type': 'application/json'\r\n                    }\r\n                );\r\n                await history.push(\"/success\")\r\n                window.location.reload()\r\n              } catch (err) {}\r\n        } \r\n      };\r\n\r\n    const handleTimeValue = (e) => {\r\n        let hours\r\n        let minutes\r\n        if (e.target.value) {\r\n            hours = e.target.value.getHours()\r\n            minutes = e.target.value.getMinutes()\r\n            if (minutes < 10) {\r\n                minutes = '0' + e.target.value.getMinutes()\r\n            }\r\n            setTimepickerValue(hours + ':' + minutes)\r\n        } else {setTimepickerValue('nie określono')}\r\n      }\r\n\r\n    const handleOfflinePayment = (e) => {\r\n        e.preventDefault();\r\n        setPaymentOffline(prevPayment => !prevPayment)\r\n    }\r\n    \r\n    return (\r\n        <React.Fragment>\r\n        {isLoading && <LoadingSpinner asOverlay />}\r\n        <ErrorModal error={error} onClear={clearError} />\r\n        <div className=\"order\">\r\n                <h1>Uzupełnij dane do zamówienia</h1>\r\n                <Card>\r\n                {!isToLateToOrder &&  \r\n                <form\r\n                >\r\n                    <div className=\"address-street\">\r\n                    <Input \r\n                    id=\"street\"\r\n                    element=\"input\"\r\n                    type=\"text\"\r\n                    label=\"Ulica\"\r\n                    validators={[VALIDATOR_REQUIRE()]}\r\n                    errorText=\"Wprowadź poprawną nazwę ulicy.\"\r\n                    onInput={inputHandler}\r\n                    />\r\n                    <Input \r\n                    id=\"local\"\r\n                    element=\"input\"\r\n                    type=\"text\"\r\n                    label=\"Nr lokalu\"\r\n                    validators={[VALIDATOR_REQUIRE()]}\r\n                    errorText=\"Podaj poprawny nr lokalu.\"\r\n                    onInput={inputHandler}\r\n                    />\r\n                    <Input \r\n                    id=\"apartament\"\r\n                    element=\"input\"\r\n                    type=\"text\"\r\n                    label=\"Nr mieszkania\"\r\n                    validators={null}\r\n                    initialValid={true}\r\n                    onInput={inputHandler}\r\n                    />\r\n                    </div>\r\n                    <div className=\"address-city\">\r\n                        <div className=\"address-city__zip\" style={{position: 'relative'}}>\r\n                            <div className=\"address-city__zip-input\">\r\n                            <Input \r\n                                id=\"zipCode\"\r\n                                element=\"input\"\r\n                                type=\"text\"\r\n                                label=\"Kod pocztowy\"\r\n                                validators={[VALIDATOR_REQUIRE()]}\r\n                                errorText={\"Podaj poprawny kod pocztowy.\"}\r\n                                onInput={inputHandler}\r\n                            />\r\n                            </div>\r\n                        </div>\r\n                    <div className=\"address-city__city\">\r\n                    <Input \r\n                    id=\"city\"\r\n                    element=\"input\"\r\n                    type=\"text\"\r\n                    label=\"Miasto\"\r\n                    validators={[VALIDATOR_REQUIRE()]}\r\n                    errorText=\"Podaj poprawną nazwę miasta.\"\r\n                    onInput={inputHandler}\r\n                    />\r\n                    </div>\r\n                    \r\n                    </div>\r\n                    <Input \r\n                    id=\"email\"\r\n                    element=\"input\"\r\n                    type=\"email\"\r\n                    label=\"Email\"\r\n                    validators={[VALIDATOR_REQUIRE(), VALIDATOR_EMAIL]}\r\n                    errorText=\"Podaj poprawny email.\"\r\n                    onInput={inputHandler}\r\n                    />\r\n                    <Input \r\n                    id=\"phoneNumber\"\r\n                    element=\"input\"\r\n                    type=\"text\"\r\n                    label=\"Numer telefonu\"\r\n                    validators={[VALIDATOR_REQUIRE()]}\r\n                    errorText=\"Podaj nr telefonu.\"\r\n                    onInput={inputHandler}\r\n                    />\r\n                    <Input \r\n                    id=\"message\"\r\n                    element=\"textarea\"\r\n                    type=\"text\"\r\n                    label=\"Komentarz do dostawcy\"\r\n                    validators={null}\r\n                    initialValid={true}\r\n                    onInput={inputHandler}\r\n                    />\r\n                    <label style={{fontWeight: 'bold', marginBottom: '0.5rem', minHeight: '28px'}}>Wybierz oczekiwany czas dowozu:</label>\r\n                    <div className='timepicker'>\r\n                    <TimePickerComponent\r\n                    placeholder=\"wybierz godzinę\"\r\n                    format=\"HH:mm\"\r\n                    step={15}\r\n                    min={minTime}\r\n                    max={maxTime}\r\n                    onChange={handleTimeValue}\r\n                    ></TimePickerComponent>\r\n                    </div>\r\n                    <div>\r\n                    <Button\r\n                    disabled={!formState.isValid || isToLateToOrder}\r\n                    id=\"payment-offline\"\r\n                    onClick={handleOfflinePayment}\r\n                    isClicked={paymentOffline}\r\n                    >\r\n                    PŁATNOŚĆ PRZY ODBIORZE\r\n                    </Button>\r\n                    <Button\r\n                    disabled={!formState.isValid || isToLateToOrder || paymentOffline}\r\n                    id=\"payment-online\"\r\n                    onClick={formSubmitHandler}\r\n                    >\r\n                    PŁATNOŚĆ ONLINE\r\n                    </Button>\r\n                    </div>\r\n                    {paymentOffline && <div style={{margin: '1em'}}>\r\n                    <Button\r\n                    disabled={!formState.isValid || isToLateToOrder}\r\n                    id=\"payment-offline\"\r\n                    payment=\"karta\"\r\n                    onClick={formSubmitHandler}\r\n                    >\r\n                    PŁATNOŚĆ KARTĄ\r\n                    </Button>\r\n                    <Button\r\n                    disabled={!formState.isValid || isToLateToOrder}\r\n                    id=\"payment-offline\"\r\n                    payment=\"gotówka\"\r\n                    onClick={formSubmitHandler}\r\n                    >\r\n                    PŁATNOŚĆ GOTÓWKĄ\r\n                    </Button>\r\n                    </div>}\r\n                </form>}\r\n                {isToLateToOrder && <p style={{color: 'red'}}>Dziś już nie dowozimy, zapraszamy ponownie.</p>}\r\n                </Card>\r\n        </div>\r\n        </React.Fragment>\r\n        \r\n    )\r\n}\r\n\r\nexport default Order\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './Store.css';\r\nimport { useHttpClient } from '../hooks/http-hook';\r\nimport LoadingSpinner from \"../UIElements/LoadingSpinner\"\r\nimport ErrorModal from \"../UIElements/ErrorModal\"\r\n\r\nconst Success = () => {\r\n\r\n    const [deliveryTime, setDeliveryTime] = useState(false); \r\n    const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n\r\n    useEffect(() => {\r\n        const fetchDeliveryTime = async () => {\r\n            try {\r\n              const responseData = await sendRequest(\r\n                `${process.env.REACT_APP_BACKEND_URL}/api/deliverytime/${process.env.REACT_APP_DELIVERY_TIME_ID}`\r\n              );\r\n              setDeliveryTime(responseData.deliveryTime.time);\r\n            \r\n        } catch (err) {}\r\n          \r\n    };\r\n    fetchDeliveryTime();\r\n      }, [sendRequest])\r\n\r\n    return (\r\n        <React.Fragment>\r\n        <ErrorModal error={error} onClear={clearError} />\r\n        {isLoading && <LoadingSpinner asOverlay />}\r\n        <div className=\"store\">\r\n            <h1 style={{marginTop: \"1.5em\"}}>ZAMÓWIENIE ZOSTAŁO PRZEKAZANE DO REALIZACJI</h1>\r\n            <br />\r\n            {deliveryTime && <h2>Oczekiwany czas dowozu: {deliveryTime} min</h2>}\r\n            <Link to='/'><p>powrót do sklepu</p></Link>\r\n        </div>\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default Success\r\n","export default __webpack_public_path__ + \"static/media/50.e4514fa3.jpg\";","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './Store.css'\r\n\r\nconst Failed = () => {\r\n    return (\r\n        <div className=\"store\">\r\n            <h1>WYSTĄPIŁ NIEOCZEKIWANY BŁĄD, SPRÓBUJ ZAMÓWIĆ PONOWNIE PÓŹNIEJ</h1>\r\n            <br />\r\n            <Link to='/'><p>powrót do sklepu</p></Link>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Failed\r\n","import React, { useState, useContext } from 'react';\r\nimport Button from '../FormElements/Button';\r\n\r\n\r\nconst SpecialProductCard = ({ id, name, price, image, description, specialItemCheckedId, changeClickedProductId }) => {\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <div\r\n            className=\"item-card\"\r\n            >\r\n                <div className=\"item-card__image\">\r\n                <img src={`${process.env.REACT_APP_AWS_URL}/${image}`} alt={name}></img>\r\n                </div>\r\n                <div className=\"item-card__info\">\r\n                <p className=\" name price\">\r\n                    <span style={{fontWeight: \"bold\"}}>{name}</span>\r\n                    <span style={{fontWeight: \"bold\", marginLeft: \"0.7em\"}}>{price} zł</span>\r\n                </p>\r\n                <p className=\"description\">\r\n                    {description}\r\n                </p>\r\n                <Button \r\n                id={id}\r\n                onClick={changeClickedProductId}\r\n                isClicked={id.toString() === specialItemCheckedId}\r\n                >WYBIERZ</Button>\r\n                </div>\r\n            </div>\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default SpecialProductCard\r\n","import React, { useState, useEffect } from 'react';\r\nimport \"./SpecialReservation.css\"\r\nimport { useHttpClient } from '../hooks/http-hook';\r\nimport SpecialProductCard from './SpecialProductCard';\r\nimport { TimePickerComponent } from '@syncfusion/ej2-react-calendars';\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\n\r\nimport { useDate } from '../hooks/date-hook';\r\nimport Input from '../FormElements/Input';\r\nimport { VALIDATOR_REQUIRE, VALIDATOR_MIN, VALIDATOR_MAX } from '../util/validators';\r\nimport { useForm } from '../hooks/form-hook';\r\nimport Button from '../FormElements/Button';\r\n\r\nconst SpecialReservation = () => {\r\n\r\n    const [reservation, setReservation] = useState([]);\r\n    const [available, setAvailable] = useState(false);\r\n    const [message, setMessage] = useState('');\r\n    const [startDate, setStartDate] = useState(new Date(new Date().getFullYear(), new Date().getMonth(), new Date().getDate() + 1));\r\n    const [maxGuests, setMaxGuests] = useState(0)\r\n    const [specialItemCheckedId, setSpecialItemCheckedId] = useState(false);\r\n    const [items, setItems] = useState([]);\r\n    const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n\r\n    const [formState, inputHandler] = useForm(\r\n        {\r\n            hour: {\r\n              value: '',\r\n              isValid: false\r\n          },\r\n          guests: {\r\n            value: '',\r\n            isValid: false\r\n        }\r\n        },\r\n        false\r\n    );\r\n\r\n    useEffect(() => {\r\n        // window.scrollTo(0, 0)\r\n        const fetchItems = async () => {\r\n                try {\r\n                    const responseData = await sendRequest(\r\n                    `${process.env.REACT_APP_BACKEND_URL}/api/items/`\r\n                  );\r\n                \r\n                  const filteredItems = responseData.items.filter(item => item.special === true)\r\n                setItems(filteredItems)\r\n                } catch (err) {}\r\n            }\r\n            let day\r\n            if (startDate) {\r\n                day = startDate.getDay() - 1\r\n                if (day < 0 ) {\r\n                    day = 6\r\n                }\r\n            }\r\n            console.log(day);\r\n            \r\n            const fetchSpecialReservation = async () => {\r\n                try {\r\n                  const responseData = await sendRequest(\r\n                    `${process.env.REACT_APP_BACKEND_URL}/api/reservation`\r\n                  );\r\n                  setAvailable(responseData.reservations[0].available.value)\r\n                  setMessage(responseData.reservations[0].available.message)\r\n                  \r\n                  setReservation(responseData.reservations[0].days[day].availableHours);\r\n                  if (formState.inputs.hour.isValid) {\r\n                    const availableGuests = responseData.reservations[0].days[day].availableHours.find(h => h.hour === parseInt(formState.inputs.hour.value))\r\n                    setMaxGuests(availableGuests.guests)\r\n                  }\r\n            } catch (err) {}     \r\n        };\r\n        fetchSpecialReservation();\r\n            fetchItems()\r\n        }, [sendRequest, startDate, formState.inputs.hour.isValid, formState.inputs.hour.value] )\r\n\r\n        const changeClickedProductId = (e) => {\r\n            e.preventDefault();\r\n            if (specialItemCheckedId === e.target.id) {\r\n                return setSpecialItemCheckedId(false)\r\n            } else {\r\n            setSpecialItemCheckedId(e.target.value)\r\n        }\r\n        }\r\n\r\n        const itemList = () => {\r\n            let item_list\r\n            let sortItems\r\n            if(items.length > 0) {\r\n                sortItems = items.sort((a, b) => a.name > b.name ? 1 : -1)\r\n                item_list = sortItems.map((i, id) => {\r\n                return (<SpecialProductCard key={id} id={id} name={i.name} price={i.price} description={i.description} image={i.image} changeClickedProductId={changeClickedProductId} specialItemCheckedId={specialItemCheckedId} />)\r\n                })\r\n            } return item_list\r\n        }\r\n\r\n        const formSubmitHandler = async event => {\r\n            event.preventDefault();\r\n            \r\n            let line_items\r\n            if (items && specialItemCheckedId) {\r\n                line_items = \r\n                    {\r\n                        quantity: 1,\r\n                        price_data: {\r\n                            currency: \"pln\",\r\n                            unit_amount: items[specialItemCheckedId].price * 100,\r\n                            product_data: {\r\n                                name: items[specialItemCheckedId].name,\r\n                                description: items[specialItemCheckedId].description\r\n                        }  \r\n                    }\r\n                }\r\n            }\r\n            console.log(line_items);\r\n            \r\n\r\n            // let address = {\r\n            //     street: '',\r\n            //     local: '',\r\n            //     zipCode: '',\r\n            //     city: ''\r\n            // }\r\n            \r\n            //     try {\r\n            //         const responseData = await sendRequest(\r\n            //             `${process.env.REACT_APP_BACKEND_URL}/api/checkout/`,\r\n            //             'POST',\r\n            //             JSON.stringify({\r\n            //                 line_items,\r\n            //                 customer_email: formState.inputs.email.value,\r\n            //                 message: formState.inputs.message.value,\r\n            //                 deliveryHour: '',\r\n            //                 phone: formState.inputs.phoneNumber.value,\r\n            //                 address,\r\n            //                 option: 'reservation'\r\n            //             }),\r\n            //             {\r\n            //               'Content-Type': 'application/json'\r\n            //             }\r\n            //         );\r\n            //         const { sessionId } = responseData\r\n            //         await stripe.redirectToCheckout({\r\n            //             sessionId\r\n            //         })\r\n            //     } catch (err) {}\r\n            \r\n          };\r\n\r\n        const setHourOptions = reservation.map(i => <option value={i.hour}>{i.hour}:00</option>)\r\n\r\n    return (\r\n        <div className=\"special\">\r\n            {items.length > 0 && \r\n            <div className=\"special-items\">\r\n            <h1\r\n            onClick={() => console.log(items)\r\n            }\r\n            >Wybierz produkt i zarezerwuj stolik</h1>\r\n            {itemList()}\r\n            </div>\r\n            }\r\n            {specialItemCheckedId && <form \r\n            onSubmit={formSubmitHandler}\r\n            className=\"special-reservation\">\r\n            <label style={{\r\n                fontWeight: 'bold', \r\n                marginBottom: '0.5em', \r\n                minHeight: '28px',\r\n                display: 'block'\r\n                }}>Wybierz datę:</label>\r\n            <DatePicker \r\n            id=\"date\"\r\n            selected={startDate} \r\n            onChange={(date) => {\r\n                setStartDate(date)\r\n                formState.inputs.hour.value = ''\r\n                formState.inputs.hour.isValid = false\r\n                formState.inputs.guests.value = ''\r\n                formState.inputs.guests.isValid = false\r\n                setMaxGuests(0)\r\n            }}\r\n            dateFormat='dd/MM/yyyy' \r\n            minDate={new Date(new Date().getFullYear(), new Date().getMonth(), new Date().getDate() + 1)}\r\n            maxDate={new Date(new Date().getFullYear(), new Date().getMonth(), new Date().getDate() + 10)}\r\n            />\r\n            <Input \r\n                id=\"hour\"\r\n                element=\"select\"\r\n                name=\"select\"\r\n                label=\"Wybierz godzinę:\"\r\n                validators={[VALIDATOR_REQUIRE()]}\r\n                errorText=\"Proszę wybrać godzinę.\"\r\n                onInput={inputHandler}\r\n                options={setHourOptions}\r\n            />\r\n            <Input \r\n                id=\"guests\"\r\n                element=\"input\"\r\n                type=\"number\"\r\n                label={`Wybierz liczbę gości: \r\n                ${maxGuests > 0 && formState.inputs.hour.isValid ? `(na godzinę ${formState.inputs.hour.value}:00 maksymalna liczba gości - ${maxGuests})`: ''}`}\r\n                validators={[VALIDATOR_MIN(0), VALIDATOR_MAX(maxGuests)]}\r\n                errorText={`Nieprawidłowa liczba gości`}\r\n                onInput={inputHandler}\r\n                options={setHourOptions}\r\n            />\r\n\r\n            <Button\r\n            type=\"submit\"\r\n            disabled={startDate && !formState.isValid}\r\n            />\r\n            </form>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SpecialReservation\r\n","import React, { Suspense } from 'react';\nimport AdminHeader from \"./Components/Admin/AdminHeader\";\nimport Admin from \"./Components/Admin/AdminPanel\";\n\nimport {\n  HashRouter as Router,\n  Route,\n  Redirect,\n  Switch\n} from 'react-router-dom';\nimport Header from './Components/Header/Header';\nimport Footer from './Components/Footer/Footer';\nimport Store from './Components/Body/Store';\nimport CartContextProvider from './context/cart-context';\nimport Cart from './Components/Body/Cart';\nimport Order from './Components/Body/Order';\n\nimport background from './images/50.jpg'\n\nimport { useAuth } from './Components/hooks/auth-hook';\nimport { AuthContext } from './context/auth-context';\nimport Success from './Components/Body/Success';\nimport Failed from './Components/Body/Failed';\nimport SpecialReservation from './Components/Body/SpecialReservation';\n\nfunction App() {\n\n  const { token, login, logout, userId, role } = useAuth();\n\n  const routes = (\n    <Switch>\n      <Route path=\"/\" exact>\n      <Header />\n      <Store />\n      </Route>\n      <Route path=\"/koszyk\">\n      <Header />\n      <Cart />\n      </Route>\n      <Route path=\"/special\">\n      <Header />\n      <SpecialReservation />\n      </Route>\n      <Route path=\"/zamowienie\">\n      <Header />\n      <Order />\n      </Route>\n      <Route path=\"/success\">\n      <Header />\n      <Success />\n      </Route>\n      <Route path=\"/failed\">\n      <Header />\n      <Failed />\n      </Route>\n      <Route path=\"/admin\">\n      <AdminHeader />\n        <Admin />\n      </Route>\n      <Redirect to=\"/\" />\n    </Switch>\n  );\n\n\n  return (\n    <Router>\n      <AuthContext.Provider\n      value={{\n        isLoggedIn: !!token,\n        token: token,\n        userId: userId,\n        role: role,\n        login: login,\n        logout: logout\n      }}\n    >\n      <CartContextProvider>\n      <div className=\"App\" \n      style={{backgroundColor: \"black\", minHeight: \"100vh\", display: \"flex\", flexDirection: \"column\"}}>\n        {routes}\n      <Footer />\n      </div>\n      </CartContextProvider>\n      </AuthContext.Provider>\n    </Router>\n    \n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { Elements } from '@stripe/react-stripe-js';\nimport { loadStripe } from '@stripe/stripe-js';\n\nconst stripePromise = loadStripe(process.env.REACT_APP_PUBLISHABLE_KEY)\n\nReactDOM.render(\n  <React.StrictMode>\n    <Elements stripe={stripePromise}>\n    <App />\n    </Elements>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}