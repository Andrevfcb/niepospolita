(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[4],{146:function(e,t,a){},147:function(e,t,a){},167:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a(1),c=a.n(r),i=(a(146),a(0)),o=function(e){var t=e.changeSection;return Object(i.jsxs)("ul",{children:[Object(i.jsx)("li",{id:"0",onClick:t,children:"Dodaj produkt"}),Object(i.jsx)("li",{id:1,onClick:t,children:"Zmie\u0144 produkt"}),Object(i.jsx)("li",{id:2,onClick:t,children:"Usu\u0144 produkt"}),Object(i.jsx)("li",{id:3,onClick:t,children:"Kategorie"}),Object(i.jsx)("li",{id:4,onClick:t,children:"Min. warto\u015b\u0107 zam\xf3wienia"}),Object(i.jsx)("li",{id:5,onClick:t,children:"Dow\xf3z"}),Object(i.jsx)("li",{id:6,onClick:t,children:"Min. warto\u015bci gratis"}),Object(i.jsx)("li",{id:7,onClick:t,children:"Menu degustacyjne"})]})},s=a(6),u=a.n(s),l=a(12),p=a(30),j=a(16),b=a(17),d=a(19),O=a(14),v=(a(147),function(e){var t=Object(r.useState)(),a=Object(n.a)(t,2),c=a[0],o=a[1],s=Object(r.useState)(),u=Object(n.a)(s,2),l=u[0],p=u[1],j=Object(r.useState)(!1),b=Object(n.a)(j,2),v=b[0],h=b[1],x=Object(r.useState)([]),f=Object(n.a)(x,2),m=f[0],k=f[1],y=Object(r.useState)([]),w=Object(n.a)(y,2),g=w[0],z=w[1],C=Object(r.useState)(null),S=Object(n.a)(C,2),T=(S[0],S[1]),I=Object(r.useRef)();Object(r.useEffect)((function(){if(!c&&e.previewUrl){console.log(e.previewUrl);var t="https://niepospolita.s3.eu-central-1.amazonaws.com/"+e.previewUrl;p(t)}else{if(!c)return;var a=new FileReader,n=m;a.onload=function(){"images"===e.id&&(n.push(a.result),k(n)),p(a.result)},a.readAsDataURL(c)}}),[c]);var E=function(t){T(t.target.id);var a=m,n=g;a.length>0&&(a.splice(t.target.id,1),n.splice(t.target.id,1),k(a),z(n),T(null));var r=v;n.length>1?(h(!0),r=!0):(h(!1),r=!1),e.onInput(e.id,n,r)},V=m.map((function(e,t){return Object(i.jsx)("div",{style:{height:"100%",width:"100%"},children:Object(i.jsx)("img",{src:e,alt:"Preview",id:t,onClick:E,style:{cursor:"pointer"}})},t)}));return Object(i.jsxs)("div",{className:"form-control",children:[Object(i.jsx)("input",{id:e.id,ref:I,style:{display:"none"},type:"file",accept:".jpg,.png,.jpeg",onChange:function(t){var a,n,r,c=v;z([].concat(Object(d.a)(g),[t.target.files[0]])),t.target.files&&1===t.target.files.length?(a=t.target.files[0],o(a),n=[].concat(Object(d.a)(g),[a]),h(!0),c=!0):(h(!1),c=!1),r="images"===e.id?n:a,e.onInput(e.id,r,c)}}),Object(i.jsxs)("div",{className:"image-upload ".concat(e.center&&"center"),children:[Object(i.jsxs)("div",{className:"image-upload__preview",children:["images"===e.id&&m.length>0&&V,!("images"===e.id)&&l&&Object(i.jsx)("img",{src:l,alt:"Preview"}),"images"===e.id&&!m.length>0&&Object(i.jsx)("p",{children:"Prosz\u0119 wybra\u0107 zdj\u0119cie produktu."}),!("images"===e.id)&&!l&&Object(i.jsx)("p",{children:"Prosz\u0119 wybra\u0107 zdj\u0119cie produktu."})]}),Object(i.jsx)(O.a,{type:"button",onClick:function(){I.current.click()},children:"PICK IMAGE"})]})]})}),h=a(26),x=a(31),f=a(21),m=a(22),k=function(){var e=Object(r.useState)([]),t=Object(n.a)(e,2),a=t[0],o=t[1],s=Object(j.a)(),d=s.isLoading,k=s.error,y=s.sendRequest,w=s.clearError,g=Object(r.useContext)(m.a),z=Object(x.a)({name:{value:"",isValid:!1},description:{value:"",isValid:!1},price:{value:"",isValid:!1},category:{value:"",isValid:!1},image:{value:null,isValid:!1}},!1),C=Object(n.a)(z,2),S=C[0],T=C[1];Object(r.useEffect)((function(){var e=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y("".concat("https://niepospolita-restauracja.herokuapp.com","/api/category"));case 3:t=e.sent,o(t.category),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[y]);var I=function(){var e=Object(l.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,(a=new FormData).append("name",S.inputs.name.value),a.append("description",S.inputs.description.value),a.append("price",S.inputs.price.value),a.append("category",S.inputs.category.value),a.append("image",S.inputs.image.value),e.next=10,y("".concat("https://niepospolita-restauracja.herokuapp.com","/api/items/"),"POST",a,{Authorization:"Bearer "+g.token});case 10:alert("Utworzono produkt"),window.location.reload(),e.next=16;break;case 14:e.prev=14,e.t0=e.catch(1);case 16:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}(),E=a.map((function(e){return Object(i.jsx)("option",{value:e.id,children:e.name})}));return Object(i.jsxs)(c.a.Fragment,{children:[Object(i.jsx)(f.a,{error:k,onClear:w}),d&&Object(i.jsx)(b.a,{asOverlay:!0}),Object(i.jsx)("h2",{children:"Dodaj danie / produkt"}),Object(i.jsxs)("form",{onSubmit:I,children:[Object(i.jsx)(h.a,{id:"name",element:"input",type:"text",label:"Nazwa produktu",validators:[Object(p.b)()],errorText:"Wprowad\u017a poprawn\u0105 nazw\u0119.",onInput:T}),Object(i.jsx)(v,{center:!0,id:"image",onInput:T,errorText:"Wprowad\u017a zdj\u0119cie produktu."}),Object(i.jsx)(h.a,{id:"description",element:"textarea",type:"text",label:"Opis produktu",validators:[Object(p.b)()],errorText:"Wprowad\u017a poprawny opis.",onInput:T}),Object(i.jsx)(h.a,{id:"price",element:"input",type:"number",label:"Cena",validators:[Object(p.b)()],errorText:"Wprowad\u017a poprawn\u0105 cen\u0119.",onInput:T}),a.length>0&&Object(i.jsx)(h.a,{id:"category",element:"select",name:"select",label:"Kategoria",validators:[Object(p.b)()],errorText:"Wprowad\u017a poprawn\u0105 kategori\u0119.",onInput:T,options:E}),Object(i.jsx)(O.a,{type:"submit",disabled:!S.isValid,children:"DODAJ"})]})]})},y=function(){var e=Object(r.useState)(!1),t=Object(n.a)(e,2),a=t[0],o=t[1],s=Object(j.a)(),d=s.isLoading,v=s.error,k=s.sendRequest,y=s.clearError,w=Object(r.useContext)(m.a),g=Object(x.a)({value:{value:"",isValid:!1}},!1),z=Object(n.a)(g,2),C=z[0],S=z[1];Object(r.useEffect)((function(){var e=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k("".concat("https://niepospolita-restauracja.herokuapp.com","/api/bonus-delivery/").concat("6183e76c434fe163aa0696ff"));case 3:t=e.sent,o(t.bonus_delivery_price),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[k]);var T=function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,k("".concat("https://niepospolita-restauracja.herokuapp.com","/api/bonus-delivery/").concat("6183e76c434fe163aa0696ff"),"PATCH",JSON.stringify({value:parseInt(C.inputs.value.value)}),{Authorization:"Bearer "+w.token,"Content-Type":"application/json"});case 4:alert("Zaktualizowano warto\u015b\u0107"),window.location.reload(),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(i.jsxs)(c.a.Fragment,{children:[Object(i.jsx)(f.a,{error:v,onClear:y}),d&&Object(i.jsx)(b.a,{asOverlay:!0}),Object(i.jsx)("h2",{children:"Zmie\u0144 minimaln\u0105 warto\u015b\u0107 darmowej op\u0142aty za dow\xf3z"}),a&&Object(i.jsxs)("form",{onSubmit:T,children:[Object(i.jsx)(h.a,{id:"value",element:"input",type:"number",label:"Minimalna warto\u015b\u0107 darmowej op\u0142aty za dow\xf3z (z\u0142)",validators:[Object(p.b)()],errorText:"Wprowad\u017a poprawn\u0105 warto\u015b\u0107.",onInput:S,initialValue:a.value}),Object(i.jsx)(O.a,{type:"submit",children:"ZMIE\u0143 WARTO\u015a\u0106"})]})]})},w=function(){var e=Object(r.useState)(!1),t=Object(n.a)(e,2),a=t[0],o=t[1],s=Object(j.a)(),d=s.isLoading,v=s.error,k=s.sendRequest,y=s.clearError,w=Object(r.useContext)(m.a),g=Object(x.a)({value:{value:"",isValid:!1}},!1),z=Object(n.a)(g,2),C=z[0],S=z[1];Object(r.useEffect)((function(){var e=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k("".concat("https://niepospolita-restauracja.herokuapp.com","/api/bonus-items/").concat("6183e735434fe163aa0696fa"));case 3:t=e.sent,o(t.bonus_items_price),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[k]);var T=function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,k("".concat("https://niepospolita-restauracja.herokuapp.com","/api/bonus-items/").concat("6183e735434fe163aa0696fa"),"PATCH",JSON.stringify({value:parseInt(C.inputs.value.value)}),{Authorization:"Bearer "+w.token,"Content-Type":"application/json"});case 4:alert("Zaktualizowano warto\u015b\u0107"),window.location.reload(),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(i.jsxs)(c.a.Fragment,{children:[Object(i.jsx)(f.a,{error:v,onClear:y}),d&&Object(i.jsx)(b.a,{asOverlay:!0}),Object(i.jsx)("h2",{children:"Zmie\u0144 minimaln\u0105 warto\u015b\u0107 produkt\xf3w gratis"}),a&&Object(i.jsxs)("form",{onSubmit:T,children:[Object(i.jsx)(h.a,{id:"value",element:"input",type:"number",label:"Minimalna warto\u015b\u0107 produkt\xf3w gratis (z\u0142)",validators:[Object(p.b)()],errorText:"Wprowad\u017a poprawn\u0105 warto\u015b\u0107.",onInput:S,initialValue:a.value}),Object(i.jsx)(O.a,{type:"submit",children:"ZMIE\u0143 WARTO\u015a\u0106"})]})]})},g=function(){return Object(i.jsxs)(c.a.Fragment,{children:[Object(i.jsx)("div",{style:{borderBottom:"1px solid black",borderTop:"1px solid black"},children:Object(i.jsx)(y,{})}),Object(i.jsx)("div",{style:{borderBottom:"1px solid black",borderTop:"1px solid black"},children:Object(i.jsx)(w,{})})]})},z=function(){var e=Object(r.useState)([]),t=Object(n.a)(e,2),a=t[0],o=t[1],s=Object(r.useState)(!1),d=Object(n.a)(s,2),v=d[0],k=d[1],y=Object(j.a)(),w=y.isLoading,g=y.error,z=y.sendRequest,C=y.clearError,S=Object(r.useContext)(m.a),T=Object(x.a)({name:{value:"",isValid:!1}},!1),I=Object(n.a)(T,2),E=I[0],V=I[1],W=function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,z("".concat("https://niepospolita-restauracja.herokuapp.com","/api/category/"),"POST",JSON.stringify({name:E.inputs.name.value}),{Authorization:"Bearer "+S.token,"Content-Type":"application/json"});case 4:alert("Utworzono kategori\u0119"),window.location.reload(),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){var e=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z("".concat("https://niepospolita-restauracja.herokuapp.com","/api/category"));case 3:t=e.sent,o(t.category),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[z]);var A=function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,z("".concat("https://niepospolita-restauracja.herokuapp.com","/api/category/").concat(v),"DELETE",null,{Authorization:"Bearer "+S.token});case 4:alert("Usuni\u0119to Kategori\u0119"),window.location.reload(),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),D=a.map((function(e){return Object(i.jsx)("option",{value:e._id,children:e.name})}));return Object(i.jsxs)(c.a.Fragment,{children:[Object(i.jsx)(f.a,{error:g,onClear:C}),w&&Object(i.jsx)(b.a,{asOverlay:!0}),Object(i.jsx)("h2",{children:"Dodaj kategori\u0119"}),Object(i.jsxs)("form",{onSubmit:W,children:[Object(i.jsx)(h.a,{id:"name",element:"input",type:"text",label:"Nazwa kategorii",validators:[Object(p.b)()],errorText:"Wprowad\u017a poprawn\u0105 nazw\u0119.",onInput:V}),Object(i.jsx)(O.a,{type:"submit",disabled:!E.isValid,children:"DODAJ"})]}),Object(i.jsx)("h2",{children:"Usu\u0144 kategori\u0119"}),a.length>0?Object(i.jsxs)("select",{name:"items",id:"items",onChange:function(e){k(e.target.value)},children:[Object(i.jsx)("option",{value:"",children:"wybierz kategori\u0119"}),D]}):Object(i.jsx)("p",{children:"Brak Kategorii"}),Object(i.jsx)(O.a,{onClick:A,disabled:!v,children:"USU\u0143"})]})},C=function(){var e=Object(r.useState)([]),t=Object(n.a)(e,2),a=t[0],o=t[1],s=Object(r.useState)(!1),p=Object(n.a)(s,2),d=p[0],v=p[1],h=Object(j.a)(),x=h.isLoading,k=h.error,y=h.sendRequest,w=h.clearError,g=Object(r.useContext)(m.a);Object(r.useEffect)((function(){var e=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y("".concat("https://niepospolita-restauracja.herokuapp.com","/api/items"));case 3:t=e.sent,o(t.items),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[y]);var z=function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,y("".concat("https://niepospolita-restauracja.herokuapp.com","/api/items/").concat(d),"DELETE",null,{Authorization:"Bearer "+g.token});case 4:alert("Usuni\u0119to produkt"),window.location.reload(),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),C=a.map((function(e){return Object(i.jsx)("option",{value:e.id,children:e.name})}));return Object(i.jsxs)(c.a.Fragment,{children:[Object(i.jsx)(f.a,{error:k,onClear:w}),x&&Object(i.jsx)(b.a,{asOverlay:!0}),Object(i.jsx)("h2",{children:"Usu\u0144"}),a.length>0?Object(i.jsxs)("select",{name:"items",id:"items",onChange:function(e){v(e.target.value)},children:[Object(i.jsx)("option",{value:"",children:"wybierz produkt"}),C]}):Object(i.jsx)("p",{children:"Brak produkt\xf3w"}),Object(i.jsx)(O.a,{onClick:z,disabled:!d,children:"USU\u0143"})]})},S=function(){var e=Object(r.useState)(!1),t=Object(n.a)(e,2),a=t[0],o=t[1],s=Object(j.a)(),d=s.isLoading,v=s.error,k=s.sendRequest,y=s.clearError,w=Object(r.useContext)(m.a),g=Object(x.a)({value:{value:"",isValid:!1}},!1),z=Object(n.a)(g,2),C=z[0],S=z[1];Object(r.useEffect)((function(){var e=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k("".concat("https://niepospolita-restauracja.herokuapp.com","/api/delivery/").concat("617bc3415add00f3c5d37619"));case 3:t=e.sent,o(t.delivery_price),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[k]);var T=function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,k("".concat("https://niepospolita-restauracja.herokuapp.com","/api/delivery/").concat("617bc3415add00f3c5d37619"),"PATCH",JSON.stringify({value:parseInt(C.inputs.value.value)}),{Authorization:"Bearer "+w.token,"Content-Type":"application/json"});case 4:alert("Zaktualizowano warto\u015b\u0107"),window.location.reload(),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(i.jsxs)(c.a.Fragment,{children:[Object(i.jsx)(f.a,{error:v,onClear:y}),d&&Object(i.jsx)(b.a,{asOverlay:!0}),Object(i.jsx)("h2",{children:"Zmie\u0144 warto\u015b\u0107 op\u0142aty za dow\xf3z"}),a&&Object(i.jsxs)("form",{onSubmit:T,children:[Object(i.jsx)(h.a,{id:"value",element:"input",type:"number",label:"Minimalna warto\u015b\u0107 op\u0142aty za dow\xf3z (z\u0142)",validators:[Object(p.b)()],errorText:"Wprowad\u017a poprawn\u0105 warto\u015b\u0107.",onInput:S,initialValue:a.value}),Object(i.jsx)(O.a,{type:"submit",children:"ZMIE\u0143 WARTO\u015a\u0106"})]})]})},T=function(){var e=Object(r.useState)(!1),t=Object(n.a)(e,2),a=t[0],o=t[1],s=Object(j.a)(),d=s.isLoading,v=s.error,k=s.sendRequest,y=s.clearError,w=Object(r.useContext)(m.a),g=Object(x.a)({deliveryTime:{value:"",isValid:!1}},!1),z=Object(n.a)(g,2),C=z[0],S=z[1];Object(r.useEffect)((function(){var e=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k("".concat("https://niepospolita-restauracja.herokuapp.com","/api/deliverytime/").concat("6183c6c50e63c1ac6af40a7e"));case 3:t=e.sent,o(t.deliveryTime.time),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[k]);var T=function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,k("".concat("https://niepospolita-restauracja.herokuapp.com","/api/deliverytime/").concat("6183c6c50e63c1ac6af40a7e"),"PATCH",JSON.stringify({time:parseInt(C.inputs.deliveryTime.value)}),{Authorization:"Bearer "+w.token,"Content-Type":"application/json"});case 4:alert("Zaktualizowano warto\u015b\u0107"),window.location.reload(),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(i.jsxs)(c.a.Fragment,{children:[Object(i.jsx)(f.a,{error:v,onClear:y}),d&&Object(i.jsx)(b.a,{asOverlay:!0}),Object(i.jsx)("h2",{children:"Zmie\u0144 czas dowozu"}),a&&Object(i.jsxs)("form",{onSubmit:T,children:[Object(i.jsx)(h.a,{id:"deliveryTime",element:"input",type:"number",label:"Czas dowozu (min)",validators:[Object(p.b)()],errorText:"Wprowad\u017a poprawn\u0105 warto\u015b\u0107.",onInput:S,initialValue:a}),Object(i.jsx)(O.a,{type:"submit",children:"ZMIE\u0143 CZAS"})]})]})},I=function(){var e=Object(r.useState)([]),t=Object(n.a)(e,2),a=t[0],o=t[1],s=Object(r.useState)(!1),d=Object(n.a)(s,2),v=d[0],k=d[1],y=Object(r.useState)(),w=Object(n.a)(y,2),g=w[0],z=w[1],C=Object(j.a)(),S=C.isLoading,T=C.error,I=C.sendRequest,E=C.clearError,V=Object(r.useContext)(m.a),W=Object(x.a)({startHour:{value:"",isValid:!1},startMinute:{value:"",isValid:!1},endHour:{value:"",isValid:!1},endMinute:{value:"",isValid:!1}},!1),A=Object(n.a)(W,2),D=A[0],Z=A[1],N=Object(x.a)({day:{value:"",isValid:!1}},!1),M=Object(n.a)(N,2),B=M[0],P=M[1];Object(r.useEffect)((function(){var e=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I("".concat("https://niepospolita-restauracja.herokuapp.com","/api/time"));case 3:t=e.sent,o(t.time),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[I]),Object(r.useEffect)((function(){var e=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!B.inputs.day.value){e.next=13;break}return e.prev=1,e.next=4,I("".concat("https://niepospolita-restauracja.herokuapp.com","/api/time/").concat(B.inputs.day.value));case 4:t=e.sent,k(t.time),z(t.time.available),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:e.next=14;break;case 13:return e.abrupt("return");case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();e()}),[I,B.inputs.day.value]);var H=function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,I("".concat("https://niepospolita-restauracja.herokuapp.com","/api/time/").concat(B.inputs.day.value),"PATCH",JSON.stringify({startHour:parseInt(D.inputs.startHour.value),startMinute:parseInt(D.inputs.startMinute.value),endHour:parseInt(D.inputs.endHour.value),endMinute:parseInt(D.inputs.endMinute.value),available:g}),{Authorization:"Bearer "+V.token,"Content-Type":"application/json"});case 4:alert("Zaktualizowano Godziny"),window.location.reload(),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),R=a.map((function(e){return Object(i.jsx)("option",{value:e._id,children:e.day})}));return Object(i.jsxs)(c.a.Fragment,{children:[Object(i.jsx)(f.a,{error:T,onClear:E}),S&&Object(i.jsx)(b.a,{asOverlay:!0}),Object(i.jsx)("h2",{children:"Zmie\u0144 godziny dowozu"}),a.length>0&&Object(i.jsx)(h.a,{id:"day",element:"select",name:"select",label:"Wybierz dzie\u0144",validators:[Object(p.b)()],errorText:"Wybierz poprawny dzie\u0144.",onInput:P,options:R}),v&&Object(i.jsxs)("form",{onSubmit:H,children:[Object(i.jsxs)("div",{className:"start",children:[Object(i.jsx)("span",{children:"Start: "}),Object(i.jsx)(h.a,{id:"startHour",element:"input",type:"number",min:0,max:23,validators:[Object(p.b)()],onInput:Z,initialValue:v.time.start.hour}),":",Object(i.jsx)(h.a,{id:"startMinute",element:"input",type:"number",min:0,max:59,validators:[Object(p.b)()],onInput:Z,initialValue:v.time.start.minute})]}),Object(i.jsxs)("div",{className:"end",children:[Object(i.jsx)("span",{children:"Koniec: "}),Object(i.jsx)(h.a,{id:"endHour",element:"input",type:"number",min:0,max:23,validators:[Object(p.b)()],onInput:Z,initialValue:v.time.end.hour}),":",Object(i.jsx)(h.a,{id:"endMinute",element:"input",type:"number",min:0,max:59,validators:[Object(p.b)()],onInput:Z,initialValue:v.time.end.minute}),Object(i.jsxs)("div",{className:"availability",style:{marginTop:"1em"},children:[Object(i.jsx)("label",{for:"availability",style:{fontWeight:"bold",marginBottom:"0.5rem"},children:"Dow\xf3z aktywny?"}),Object(i.jsx)("input",{id:"availability",type:"checkbox",onChange:function(){z((function(e){return!e}))},checked:g,style:{display:"block",margin:"auto"}})]})]}),Object(i.jsx)(O.a,{type:"submit",children:"ZMIE\u0143 GODZINY"})]})]})},E=function(){return Object(i.jsxs)(c.a.Fragment,{children:[Object(i.jsx)("div",{style:{borderBottom:"1px solid black",borderTop:"1px solid black"},children:Object(i.jsx)(I,{})}),Object(i.jsx)("div",{style:{borderBottom:"1px solid black",borderTop:"1px solid black"},children:Object(i.jsx)(T,{})}),Object(i.jsx)("div",{style:{borderBottom:"1px solid black",borderTop:"1px solid black"},children:Object(i.jsx)(S,{})})]})},V=a(36),W=function(){var e=Object(j.a)(),t=e.isLoading,a=e.error,o=e.sendRequest,s=e.clearError,d=Object(r.useContext)(m.a),v=Object(r.useState)([]),k=Object(n.a)(v,2),y=k[0],w=k[1],g=Object(r.useState)(!1),z=Object(n.a)(g,2),C=z[0],S=z[1],T=Object(r.useState)([]),I=Object(n.a)(T,2),E=I[0],W=I[1],A=Object(r.useState)(!1),D=Object(n.a)(A,2),Z=D[0],N=D[1],M=Object(r.useState)(""),B=Object(n.a)(M,2),P=B[0],H=B[1],R=Object(r.useState)(!1),_=Object(n.a)(R,2),F=_[0],J=_[1],U=Object(x.a)({name:{value:"",isValid:!1}},!1),L=Object(n.a)(U,2),q=L[0],K=L[1],G=Object(x.a)({hour:{value:"",isValid:!1}},!1),Y=Object(n.a)(G,2),Q=Y[0],X=Y[1];Object(r.useEffect)((function(){var e=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o("".concat("https://niepospolita-restauracja.herokuapp.com","/api/reservation"));case 3:t=e.sent,w(t.reservations[0].days),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[o]),Object(r.useEffect)((function(){var e=function(){var e=Object(l.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!q.inputs.name.value){e.next=17;break}return e.prev=1,e.next=4,o("".concat("https://niepospolita-restauracja.herokuapp.com","/api/reservation/").concat(q.inputs.name.value));case 4:t=e.sent,S(t.reservation),N(t.reservation.available.value),H(t.reservation.available.message),a=t.reservation.availableHours,n=a.sort((function(e,t){return e.hour-t.hour})),W(n),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(1);case 15:e.next=18;break;case 17:return e.abrupt("return");case 18:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}}();e()}),[o,q.inputs.name.value]);var $=function(e){var t=E.find((function(t){return t._id===e.target.id})),a=E.filter((function(e){return!(e===t)}));W(Object.values(a))},ee=function(){var e=Object(l.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={value:Z,message:P},e.prev=2,e.next=5,o("".concat("https://niepospolita-restauracja.herokuapp.com","/api/reservation/").concat(C._id),"PATCH",JSON.stringify({available:a,availableHours:E}),{"Content-Type":"application/json"});case 5:alert("Zaktualizowano"),window.location.reload(),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(2);case 11:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,o("".concat("https://niepospolita-restauracja.herokuapp.com","/api/reservation/").concat(C._id),"POST",JSON.stringify({hour:Q.inputs.hour.value,guests:5}),{Authorization:"Bearer "+d.token,"Content-Type":"application/json"});case 4:alert("Dodano godzin\u0119"),window.location.reload(),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),ae=function(){J(!1)},ne=y.map((function(e){return Object(i.jsx)("option",{value:e._id,children:e.name})})),re=E.map((function(e,t){return Object(i.jsx)("div",{children:Object(i.jsxs)("p",{children:[Object(i.jsxs)("span",{style:{color:"black",fontWeight:"bold"},children:[e.hour,":00 "]}),Object(i.jsx)("span",{id:e._id,class:"fas fa-times",style:{cursor:"pointer",marginLeft:"1em"},onClick:$})]})},t)}));return Object(i.jsxs)(c.a.Fragment,{children:[Object(i.jsx)(f.a,{error:a,onClear:s}),t&&Object(i.jsx)(b.a,{asOverlay:!0}),Object(i.jsx)(V.a,{show:F,onCancel:ae,header:Object(i.jsx)("h2",{children:"Nowa Godzina"}),contentClass:"place-item__modal-content",footerClass:"place-item__modal-actions",footer:Object(i.jsx)(O.a,{onClick:ae,children:"ZAMKNIJ"}),children:Object(i.jsxs)(c.a.Fragment,{children:[Object(i.jsx)(f.a,{error:a,onClear:s}),t&&Object(i.jsx)(b.a,{asOverlay:!0}),Object(i.jsxs)("form",{className:"new-hour",onSubmit:te,children:[Object(i.jsx)(h.a,{id:"hour",element:"input",type:"number",label:"Godzina",validators:[Object(p.b)()],errorText:"Wprowad\u017a poprawn\u0105 godzin\u0119.",onInput:X}),Object(i.jsx)(O.a,{type:"submit",disabled:!Q.isValid,onClick:te,children:"DODAJ"})]})]})}),Object(i.jsx)("h2",{onClick:function(){return console.log(E)},children:"Zaktualizuj dzie\u0144 i godzin\u0119"}),y.length>0&&Object(i.jsx)(h.a,{id:"name",element:"select",name:"select",label:"Wybierz dzie\u0144",validators:[Object(p.b)()],errorText:"Wybierz dzie\u0144.",onInput:K,options:ne}),C&&Object(i.jsxs)("div",{children:[Object(i.jsx)("p",{style:{color:"black",fontWeight:"bold"},children:"Dost\u0119pne godziny:"}),re,Object(i.jsx)(O.a,{onClick:function(){J(!0)},children:"Dodaj godzin\u0119"})]}),C&&Object(i.jsxs)("form",{onSubmit:ee,children:[Object(i.jsxs)("div",{style:{borderTop:"1px solid",borderBottom:"1px solid",color:"black"},children:[Object(i.jsx)("label",{for:"available",style:{fontWeight:"bold",padding:"0.5em",display:"block"},children:"Dost\u0119pno\u015b\u0107:"}),Object(i.jsx)("input",{id:"available",type:"checkbox",onChange:function(){H(""),N((function(e){return!e}))},checked:Z,style:{display:"block",margin:"0.5em auto"}}),!Z&&Object(i.jsxs)("p",{children:[Object(i.jsx)("span",{children:"Wiadomo\u015b\u0107:"}),Object(i.jsx)("textarea",{onChange:function(e){H(e.target.value)},value:P,style:{display:"block",margin:"0.5em auto"}})]})]}),Object(i.jsx)(O.a,{type:"submit",children:"ZAKTUALIZUJ"})]})]})},A=function(){var e=Object(r.useState)([]),t=Object(n.a)(e,2),a=t[0],o=t[1],s=Object(r.useState)([]),d=Object(n.a)(s,2),v=d[0],k=d[1],y=Object(r.useState)(!1),w=Object(n.a)(y,2),g=w[0],z=w[1],C=Object(r.useState)(),S=Object(n.a)(C,2),T=S[0],I=S[1],E=Object(r.useState)(),V=Object(n.a)(E,2),W=V[0],A=V[1],D=Object(r.useState)(),Z=Object(n.a)(D,2),N=Z[0],M=Z[1],B=Object(j.a)(),P=B.isLoading,H=B.error,R=B.sendRequest,_=B.clearError,F=Object(r.useContext)(m.a),J=Object(x.a)({name:{value:"",isValid:!1},description:{value:"",isValid:!1},price:{value:"",isValid:!1},category:{value:"",isValid:!1}},!1),U=Object(n.a)(J,2),L=U[0],q=U[1],K=Object(x.a)({name:{value:"",isValid:!1}},!1),G=Object(n.a)(K,2),Y=G[0],Q=G[1];Object(r.useEffect)((function(){var e=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R("".concat("https://niepospolita-restauracja.herokuapp.com","/api/category"));case 3:t=e.sent,o(t.category),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R("".concat("https://niepospolita-restauracja.herokuapp.com","/api/items"));case 3:t=e.sent,k(t.items),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e(),t()}),[R]),Object(r.useEffect)((function(){var e=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Y.inputs.name.value){e.next=15;break}return e.prev=1,e.next=4,R("".concat("https://niepospolita-restauracja.herokuapp.com","/api/items/").concat(Y.inputs.name.value));case 4:t=e.sent,z(t.item),I(t.item.available),A(t.item.bonus),M(t.item.special),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(1);case 13:e.next=16;break;case 15:return e.abrupt("return");case 16:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}();e()}),[R,Y.inputs.name.value]);var X=function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,R("".concat("https://niepospolita-restauracja.herokuapp.com","/api/items/").concat(g.id),"PATCH",JSON.stringify({name:L.inputs.name.value,description:L.inputs.description.value,price:L.inputs.price.value,category:L.inputs.category.value,available:T,bonus:W,special:N}),{Authorization:"Bearer "+F.token,"Content-Type":"application/json"});case 4:alert("Zaktualizowano produkt"),window.location.reload(),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),$=a.map((function(e){return Object(i.jsx)("option",{value:e.id,children:e.name})})),ee=v.map((function(e){return Object(i.jsx)("option",{value:e.id,children:e.name})}));return Object(i.jsxs)(c.a.Fragment,{children:[Object(i.jsx)(f.a,{error:H,onClear:_}),P&&Object(i.jsx)(b.a,{asOverlay:!0}),Object(i.jsx)("h2",{children:"Zaktualizuj danie / produkt"}),Object(i.jsx)(h.a,{id:"name",element:"select",name:"select",label:"Wybierz Produkt",validators:[Object(p.b)()],errorText:"Wybierz poprawny produkt.",onInput:Q,options:ee}),g&&Object(i.jsxs)("form",{onSubmit:X,children:[Object(i.jsx)(h.a,{id:"name",element:"input",type:"text",label:"Nazwa produktu",validators:[Object(p.b)()],errorText:"Wprowad\u017a poprawn\u0105 nazw\u0119.",onInput:q,initialValue:g.name}),Object(i.jsx)(h.a,{id:"description",element:"textarea",type:"text",label:"Opis produktu",validators:[Object(p.b)()],errorText:"Wprowad\u017a poprawny opis.",onInput:q,initialValue:g.description}),Object(i.jsx)(h.a,{id:"price",element:"input",type:"number",label:"Cena",validators:[Object(p.b)()],errorText:"Wprowad\u017a poprawn\u0105 cen\u0119.",onInput:q,initialValue:g.price}),a.length>0&&Object(i.jsx)(h.a,{id:"category",element:"select",name:"select",label:"Kategoria",validators:[Object(p.b)()],errorText:"Wprowad\u017a poprawn\u0105 kategori\u0119.",onInput:q,options:$,initialValue:g.category}),Object(i.jsx)("label",{for:"availability",style:{fontWeight:"bold",marginBottom:"0.5rem"},children:"Produkt dost\u0119pny?"}),Object(i.jsx)("input",{id:"availability",type:"checkbox",onChange:function(){I((function(e){return!e}))},checked:T,style:{display:"block",margin:"auto"}}),Object(i.jsx)("label",{for:"bonus",style:{fontWeight:"bold",marginBottom:"0.5rem"},children:"Produkt gratis?"}),Object(i.jsx)("input",{id:"bonus",type:"checkbox",onChange:function(){A((function(e){return!e}))},checked:W,style:{display:"block",margin:"auto"}}),Object(i.jsx)("label",{for:"special",style:{fontWeight:"bold",marginBottom:"0.5rem"},children:"Menu degustacyjne?"}),Object(i.jsx)("input",{id:"special",type:"checkbox",onChange:function(){M((function(e){return!e}))},checked:N,style:{display:"block",margin:"auto"}}),Object(i.jsx)(O.a,{type:"submit",children:"ZMIE\u0143"})]})]})},D=function(){var e=Object(r.useState)(!1),t=Object(n.a)(e,2),a=t[0],o=t[1],s=Object(j.a)(),d=s.isLoading,v=s.error,k=s.sendRequest,y=s.clearError,w=Object(r.useContext)(m.a),g=Object(x.a)({value:{value:"",isValid:!1}},!1),z=Object(n.a)(g,2),C=z[0],S=z[1];Object(r.useEffect)((function(){var e=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k("".concat("https://niepospolita-restauracja.herokuapp.com","/api/value/").concat("61685af0e5a81699697aeb42"));case 3:t=e.sent,o(t.value),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[k]);var T=function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,k("".concat("https://niepospolita-restauracja.herokuapp.com","/api/value/").concat("61685af0e5a81699697aeb42"),"PATCH",JSON.stringify({newValue:parseInt(C.inputs.value.value)}),{Authorization:"Bearer "+w.token,"Content-Type":"application/json"});case 4:alert("Zaktualizowano warto\u015b\u0107"),window.location.reload(),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(i.jsxs)(c.a.Fragment,{children:[Object(i.jsx)(f.a,{error:v,onClear:y}),d&&Object(i.jsx)(b.a,{asOverlay:!0}),Object(i.jsx)("h2",{children:"Zmie\u0144 minimaln\u0105 warto\u015b\u0107 zam\xf3wienia"}),a&&Object(i.jsxs)("form",{onSubmit:T,children:[Object(i.jsx)(h.a,{id:"value",element:"input",type:"number",label:"Minimalna warto\u015b\u0107 zam\xf3wienia (z\u0142)",validators:[Object(p.b)()],errorText:"Wprowad\u017a poprawn\u0105 warto\u015b\u0107.",onInput:S,initialValue:a.value}),Object(i.jsx)(O.a,{type:"submit",children:"ZMIE\u0143 WARTO\u015a\u0106"})]})]})};t.default=function(){var e=Object(r.useState)("0"),t=Object(n.a)(e,2),a=t[0],s=t[1];return Object(i.jsx)(c.a.Fragment,{children:Object(i.jsxs)("div",{className:"admin",children:[Object(i.jsx)("div",{className:"admin-navigation",children:Object(i.jsx)(o,{changeSection:function(e){s(e.target.id)}})}),Object(i.jsxs)("div",{className:"admin-content",children:["0"===a&&Object(i.jsx)(k,{}),"1"===a&&Object(i.jsx)(A,{}),"2"===a&&Object(i.jsx)(C,{}),"3"===a&&Object(i.jsx)(z,{}),"4"===a&&Object(i.jsx)(D,{}),"5"===a&&Object(i.jsx)(E,{}),"6"===a&&Object(i.jsx)(g,{}),"7"===a&&Object(i.jsx)(W,{})]})]})})}}}]);
//# sourceMappingURL=4.432fc9d3.chunk.js.map