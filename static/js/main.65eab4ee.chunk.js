(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{36:function(e,t,a){},37:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(12),i=a.n(c),s=(a(36),a(37),a(8)),o=a(0),l=function(){return Object(o.jsx)("div",{className:"admin-header",children:Object(o.jsx)(s.b,{to:"/",children:"Wr\xf3\u0107 na stron\u0119 g\u0142\xf3wn\u0105"})})},u=a(2),d=(a(44),function(e){var t=e.changeSection;return Object(o.jsxs)("ul",{children:[Object(o.jsx)("li",{id:"0",onClick:t,children:"Dodaj"}),Object(o.jsx)("li",{id:1,onClick:t,children:"Zmie\u0144"}),Object(o.jsx)("li",{id:2,onClick:t,children:"Usu\u0144"}),Object(o.jsx)("li",{id:3,onClick:t,children:"Kategorie"}),Object(o.jsx)("li",{id:4,onClick:t,children:"Godziny"}),Object(o.jsx)("li",{id:5,onClick:t,children:"Min. warto\u015b\u0107"})]})}),j=a(3),p=a.n(j),b=a(4),m=a(28),O="REQUIRE",h="MINLENGTH",v="MAXLENGTH",x="EMAIL",f=function(){return{type:O}},y=function(){return{type:x}},g=function(e,t){var a,n=!0,r=Object(m.a)(t);try{for(r.s();!(a=r.n()).done;){var c=a.value;c.type===O&&(n=n&&e.trim().length>0),c.type===h&&(n=n&&e.trim().length>=c.val),c.type===v&&(n=n&&e.trim().length<=c.val),"MIN"===c.type&&(n=n&&+e>=c.val),"MAX"===c.type&&(n=n&&+e<=c.val),c.type===x&&(n=n&&/^\S+@\S+\.\S+$/.test(e))}}catch(i){r.e(i)}finally{r.f()}return n},k=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(),i=Object(u.a)(c,2),s=i[0],o=i[1],l=Object(n.useRef)([]),d=Object(n.useCallback)(function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n,c,i,s,u,d=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=d.length>1&&void 0!==d[1]?d[1]:"GET",n=d.length>2&&void 0!==d[2]?d[2]:null,c=d.length>3&&void 0!==d[3]?d[3]:{},r(!0),i=new AbortController,l.current.push(i),e.prev=6,e.next=9,fetch(t,{method:a,body:n,headers:c,signal:i.signal});case 9:return s=e.sent,e.next=12,s.json();case 12:if(u=e.sent,l.current=l.current.filter((function(e){return e!==i})),s.ok){e.next=16;break}throw new Error(u.message);case 16:return r(!1),e.abrupt("return",u);case 20:throw e.prev=20,e.t0=e.catch(6),o(e.t0.message),r(!1),e.t0;case 25:case"end":return e.stop()}}),e,null,[[6,20]])})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(n.useEffect)((function(){return function(){l.current.forEach((function(e){return e.abort()}))}}),[]),{isLoading:a,error:s,sendRequest:d,clearError:function(){o(null)}}},w=(a(45),function(e){return Object(o.jsx)("div",{className:"".concat(e.asOverlay&&"loading-spinner__overlay"),children:Object(o.jsx)("div",{className:"lds-dual-ring"})})}),N=a(14),C=(a(46),function(e){return e.href?Object(o.jsx)("a",{className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger"),href:e.href,children:e.children}):e.to?Object(o.jsx)(s.b,{to:e.to,exact:e.exact,className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger"),children:e.children}):Object(o.jsx)("button",{className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger"),type:e.type,onClick:e.onClick,disabled:e.disabled,children:e.children})}),I=(a(47),function(e){var t=Object(n.useState)(),a=Object(u.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(),s=Object(u.a)(i,2),l=s[0],d=s[1],j=Object(n.useState)(!1),p=Object(u.a)(j,2),b=p[0],m=p[1],O=Object(n.useState)([]),h=Object(u.a)(O,2),v=h[0],x=h[1],f=Object(n.useState)([]),y=Object(u.a)(f,2),g=y[0],k=y[1],w=Object(n.useState)(null),I=Object(u.a)(w,2),z=(I[0],I[1]),E=Object(n.useRef)();Object(n.useEffect)((function(){if(r){var t=new FileReader,a=v;t.onload=function(){"images"===e.id&&(a.push(t.result),x(a)),d(t.result)},t.readAsDataURL(r)}}),[r]);var S=function(t){z(t.target.id);var a=v,n=g;a.length>0&&(a.splice(t.target.id,1),n.splice(t.target.id,1),x(a),k(n),z(null));var r=b;n.length>1?(m(!0),r=!0):(m(!1),r=!1),e.onInput(e.id,n,r)},T=v.map((function(e,t){return Object(o.jsx)("div",{style:{height:"100%",width:"100%"},children:Object(o.jsx)("img",{src:e,alt:"Preview",id:t,onClick:S,style:{cursor:"pointer"}})},t)}));return Object(o.jsxs)("div",{className:"form-control",children:[Object(o.jsx)("input",{id:e.id,ref:E,style:{display:"none"},type:"file",accept:".jpg,.png,.jpeg",onChange:function(t){var a,n,r,i=b;k([].concat(Object(N.a)(g),[t.target.files[0]])),t.target.files&&1===t.target.files.length?(a=t.target.files[0],c(a),n=[].concat(Object(N.a)(g),[a]),m(!0),i=!0):(m(!1),i=!1),r="images"===e.id?n:a,"image"===e.id?console.log("image"):"image"!==e.id&&console.log("images"),e.onInput(e.id,r,i)}}),Object(o.jsxs)("div",{className:"image-upload ".concat(e.center&&"center"),children:[Object(o.jsxs)("div",{className:"image-upload__preview",children:["images"===e.id&&v.length>0&&T,!("images"===e.id)&&l&&Object(o.jsx)("img",{src:l,alt:"Preview"}),"images"===e.id&&!v.length>0&&Object(o.jsx)("p",{children:"Prosz\u0119 wybra\u0107 zdj\u0119cie produktu."}),!("images"===e.id)&&!l&&Object(o.jsx)("p",{children:"Prosz\u0119 wybra\u0107 zdj\u0119cie produktu."})]}),Object(o.jsx)(C,{type:"button",onClick:function(){E.current.click()},children:"PICK IMAGE"})]})]})}),z=a(5),E=(a(48),function(e,t){switch(t.type){case"CHANGE":return Object(z.a)(Object(z.a)({},e),{},{value:t.val,isValid:!t.validators||g(t.val,t.validators)});case"TOUCH":return Object(z.a)(Object(z.a)({},e),{},{isTouched:!0});default:return e}}),S=function(e){var t=Object(n.useReducer)(E,{value:e.initialValue||"",isTouched:!1,isValid:e.initialValid||!1}),a=Object(u.a)(t,2),r=a[0],c=a[1],i=e.id,s=e.onInput,l=r.value,d=r.isValid;Object(n.useEffect)((function(){s(i,l,d)}),[i,l,d,s]);var j=function(t){c({type:"CHANGE",val:t.target.value,validators:e.validators})},p=function(){c({type:"TOUCH"})},b="input"===e.element?Object(o.jsx)("input",{id:e.id,type:e.type,min:e.min,max:e.max,placeholder:e.placeholder,onChange:j,onBlur:p,value:r.value}):"select"===e.element?Object(o.jsxs)("select",{id:e.id,name:e.name,onChange:j,onBlur:p,value:r.value,children:[Object(o.jsx)("option",{value:"",children:"Wybierz"}),e.options]}):Object(o.jsx)("textarea",{id:e.id,rows:e.rows||3,onChange:j,onBlur:p,value:r.value});return Object(o.jsxs)("div",{className:"form-control ".concat(!r.isValid&&r.isTouched&&"form-control--invalid"),children:[Object(o.jsx)("label",{htmlFor:e.id,children:e.label}),b,!r.isValid&&r.isTouched&&Object(o.jsx)("p",{children:e.errorText})]})},T=a(18),V=function(e,t){switch(t.type){case"INPUT_CHANGE":var a=!0;for(var n in e.inputs)e.inputs[n]&&(a=n===t.inputId?a&&t.isValid:a&&e.inputs[n].isValid);return Object(z.a)(Object(z.a)({},e),{},{inputs:Object(z.a)(Object(z.a)({},e.inputs),{},Object(T.a)({},t.inputId,{value:t.value,isValid:t.isValid})),isValid:a});case"SET_DATA":return{inputs:t.inputs,isValid:t.formIsValid};default:return e}},_=function(e,t){var a=Object(n.useReducer)(V,{inputs:e,isValid:t}),r=Object(u.a)(a,2),c=r[0],i=r[1];return[c,Object(n.useCallback)((function(e,t,a){i({type:"INPUT_CHANGE",value:t,isValid:a,inputId:e})}),[]),Object(n.useCallback)((function(e,t){i({type:"SET_DATA",inputs:e,formIsValid:t})}),[])]},P=a(59),M=(a(49),function(e){return i.a.createPortal(Object(o.jsx)("div",{className:"backdrop",onClick:e.onClick}),document.getElementById("backdrop-hook"))}),D=(a(50),function(e){var t=Object(o.jsxs)("div",{className:"modal ".concat(e.className),style:e.style,children:[Object(o.jsx)("header",{className:"modal__header ".concat(e.headerClass),children:e.header}),Object(o.jsxs)("form",{onSubmit:e.onSubmit?e.onSubmit:function(e){return e.preventDefault()},children:[Object(o.jsx)("div",{className:"modal__content ".concat(e.contentClass),children:e.children}),Object(o.jsx)("footer",{className:"modal__footer ".concat(e.footerClass),children:e.footer})]})]});return i.a.createPortal(t,document.getElementById("modal-hook"))}),A=function(e){return Object(o.jsxs)(r.a.Fragment,{children:[e.show&&Object(o.jsx)(M,{onClick:e.onCancel}),Object(o.jsx)(P.a,{in:e.show,mountOnEnter:!0,unmountOnExit:!0,timeout:200,classNames:"modal",children:Object(o.jsx)(D,Object(z.a)({},e))})]})},W=function(e){return Object(o.jsx)(A,{onCancel:e.onClear,header:"An Error Occurred!",show:!!e.error,footer:Object(o.jsx)(C,{onClick:e.onClear,children:"Okay"}),children:Object(o.jsx)("p",{children:e.error})})},R=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1],i=k(),s=i.isLoading,l=i.error,d=i.sendRequest,j=i.clearError,m=_({name:{value:"",isValid:!1},description:{value:"",isValid:!1},price:{value:"",isValid:!1},category:{value:"",isValid:!1},image:{value:null,isValid:!1}},!1),O=Object(u.a)(m,2),h=O[0],v=O[1];Object(n.useEffect)((function(){var e=function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d("".concat("https://niepospolita-restauracja.herokuapp.com","/api/category"));case 3:t=e.sent,c(t.category),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[d]);var x=function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,(a=new FormData).append("name",h.inputs.name.value),a.append("description",h.inputs.description.value),a.append("price",h.inputs.price.value),a.append("category",h.inputs.category.value),a.append("image",h.inputs.image.value),e.next=10,d("".concat("https://niepospolita-restauracja.herokuapp.com","/api/items/"),"POST",a,{Authorization:"Bearer "});case 10:alert("Utworzono produkt"),window.location.reload(),e.next=16;break;case 14:e.prev=14,e.t0=e.catch(1);case 16:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}(),y=a.map((function(e){return Object(o.jsx)("option",{value:e.id,children:e.name})}));return Object(o.jsxs)(r.a.Fragment,{children:[Object(o.jsx)(W,{error:l,onClear:j}),s&&Object(o.jsx)(w,{asOverlay:!0}),Object(o.jsx)("h2",{children:"Dodaj danie / produkt"}),Object(o.jsxs)("form",{onSubmit:x,children:[Object(o.jsx)(S,{id:"name",element:"input",type:"text",label:"Nazwa produktu",validators:[f()],errorText:"Wprowad\u017a poprawn\u0105 nazw\u0119.",onInput:v}),Object(o.jsx)(I,{center:!0,id:"image",onInput:v,errorText:"Wprowad\u017a zdj\u0119cie produktu."}),Object(o.jsx)(S,{id:"description",element:"textarea",type:"text",label:"Opis produktu",validators:[f()],errorText:"Wprowad\u017a poprawny opis.",onInput:v}),Object(o.jsx)(S,{id:"price",element:"input",type:"number",label:"Cena",validators:[f()],errorText:"Wprowad\u017a poprawn\u0105 cen\u0119.",onInput:v}),a.length>0&&Object(o.jsx)(S,{id:"category",element:"select",name:"select",label:"Kategoria",validators:[f()],errorText:"Wprowad\u017a poprawn\u0105 kategori\u0119.",onInput:v,options:y}),Object(o.jsx)(C,{type:"submit",disabled:!h.isValid,children:"DODAJ"})]})]})},H=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(!1),s=Object(u.a)(i,2),l=s[0],d=s[1],j=k(),m=j.isLoading,O=j.error,h=j.sendRequest,v=j.clearError,x=_({name:{value:"",isValid:!1}},!1),y=Object(u.a)(x,2),g=y[0],N=y[1],I=function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,h("".concat("https://niepospolita-restauracja.herokuapp.com","/api/category/"),"POST",JSON.stringify({name:g.inputs.name.value}),{"Content-Type":"application/json"});case 4:alert("Utworzono kategori\u0119"),window.location.reload(),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){var e=function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h("".concat("https://niepospolita-restauracja.herokuapp.com","/api/category"));case 3:t=e.sent,c(t.category),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[h]);var z=function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,h("".concat("https://niepospolita-restauracja.herokuapp.com","/api/category/").concat(l),"DELETE",null);case 4:alert("Usuni\u0119to Kategori\u0119"),window.location.reload(),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),E=a.map((function(e){return Object(o.jsx)("option",{value:e._id,children:e.name})}));return Object(o.jsxs)(r.a.Fragment,{children:[Object(o.jsx)(W,{error:O,onClear:v}),m&&Object(o.jsx)(w,{asOverlay:!0}),Object(o.jsx)("h2",{children:"Dodaj kategori\u0119"}),Object(o.jsxs)("form",{onSubmit:I,children:[Object(o.jsx)(S,{id:"name",element:"input",type:"text",label:"Nazwa kategorii",validators:[f()],errorText:"Wprowad\u017a poprawn\u0105 nazw\u0119.",onInput:N}),Object(o.jsx)(C,{type:"submit",disabled:!g.isValid,children:"DODAJ"})]}),Object(o.jsx)("h2",{children:"Usu\u0144 kategori\u0119"}),a.length>0?Object(o.jsxs)("select",{name:"items",id:"items",onChange:function(e){console.log(e.target.value),d(e.target.value)},children:[Object(o.jsx)("option",{value:"",children:"wybierz kategori\u0119"}),E]}):Object(o.jsx)("p",{children:"Brak Kategorii"}),Object(o.jsx)(C,{onClick:z,disabled:!l,children:"USU\u0143"})]})},L=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(!1),s=Object(u.a)(i,2),l=s[0],d=s[1],j=k(),m=j.isLoading,O=j.error,h=j.sendRequest,v=j.clearError;Object(n.useEffect)((function(){var e=function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h("".concat("https://niepospolita-restauracja.herokuapp.com","/api/items"));case 3:t=e.sent,c(t.items),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[h]);var x=function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,h("".concat("https://niepospolita-restauracja.herokuapp.com","/api/items/").concat(l),"DELETE",null);case 4:alert("Usuni\u0119to produkt"),window.location.reload(),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),f=a.map((function(e){return Object(o.jsx)("option",{value:e.id,children:e.name})}));return Object(o.jsxs)(r.a.Fragment,{children:[Object(o.jsx)(W,{error:O,onClear:v}),m&&Object(o.jsx)(w,{asOverlay:!0}),Object(o.jsx)("h2",{children:"Usu\u0144"}),a.length>0?Object(o.jsxs)("select",{name:"items",id:"items",onChange:function(e){d(e.target.value)},children:[Object(o.jsx)("option",{value:"",children:"wybierz produkt"}),f]}):Object(o.jsx)("p",{children:"Brak produkt\xf3w"}),Object(o.jsx)(C,{onClick:x,disabled:!l,children:"USU\u0143"})]})},q=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(!1),s=Object(u.a)(i,2),l=s[0],d=s[1],j=Object(n.useState)(),m=Object(u.a)(j,2),O=m[0],h=m[1],v=k(),x=v.isLoading,y=v.error,g=v.sendRequest,N=v.clearError,I=_({startHour:{value:"",isValid:!1},startMinute:{value:"",isValid:!1},endHour:{value:"",isValid:!1},endMinute:{value:"",isValid:!1}},!1),z=Object(u.a)(I,2),E=z[0],T=z[1],V=_({day:{value:"",isValid:!1}},!1),P=Object(u.a)(V,2),M=P[0],D=P[1];Object(n.useEffect)((function(){var e=function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g("".concat("https://niepospolita-restauracja.herokuapp.com","/api/time"));case 3:t=e.sent,c(t.time),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[g]),Object(n.useEffect)((function(){var e=function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!M.inputs.day.value){e.next=13;break}return e.prev=1,e.next=4,g("".concat("https://niepospolita-restauracja.herokuapp.com","/api/time/").concat(M.inputs.day.value));case 4:t=e.sent,d(t.time),h(t.time.available),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:e.next=14;break;case 13:return e.abrupt("return");case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();e()}),[g,M.inputs.day.value]);var A=function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,g("".concat("https://niepospolita-restauracja.herokuapp.com","/api/time/").concat(M.inputs.day.value),"PATCH",JSON.stringify({startHour:parseInt(E.inputs.startHour.value),startMinute:parseInt(E.inputs.startMinute.value),endHour:parseInt(E.inputs.endHour.value),endMinute:parseInt(E.inputs.endMinute.value),available:O}),{"Content-Type":"application/json"});case 4:alert("Zaktualizowano Godziny"),window.location.reload(),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),R=a.map((function(e){return Object(o.jsx)("option",{value:e._id,children:e.day})}));return Object(o.jsxs)(r.a.Fragment,{children:[Object(o.jsx)(W,{error:y,onClear:N}),x&&Object(o.jsx)(w,{asOverlay:!0}),Object(o.jsx)("h2",{children:"Zmie\u0144 godziny dowozu"}),a.length>0&&Object(o.jsx)(S,{id:"day",element:"select",name:"select",label:"Wybierz dzie\u0144",validators:[f()],errorText:"Wybierz poprawny dzie\u0144.",onInput:D,options:R}),l&&Object(o.jsxs)("form",{onSubmit:A,children:[Object(o.jsxs)("div",{className:"start",children:[Object(o.jsx)("span",{children:"Start: "}),Object(o.jsx)(S,{id:"startHour",element:"input",type:"number",min:0,max:23,validators:[f()],onInput:T,initialValue:l.time.start.hour}),":",Object(o.jsx)(S,{id:"startMinute",element:"input",type:"number",min:0,max:59,validators:[f()],onInput:T,initialValue:l.time.start.minute})]}),Object(o.jsxs)("div",{className:"end",children:[Object(o.jsx)("span",{children:"Koniec: "}),Object(o.jsx)(S,{id:"endHour",element:"input",type:"number",min:0,max:23,validators:[f()],onInput:T,initialValue:l.time.end.hour}),":",Object(o.jsx)(S,{id:"endMinute",element:"input",type:"number",min:0,max:59,validators:[f()],onInput:T,initialValue:l.time.end.minute}),Object(o.jsxs)("div",{className:"availability",style:{marginTop:"1em"},children:[Object(o.jsx)("label",{for:"availability",style:{fontWeight:"bold",marginBottom:"0.5rem"},children:"Dow\xf3z aktywny?"}),Object(o.jsx)("input",{id:"availability",type:"checkbox",onChange:function(){h((function(e){return!e}))},checked:O,style:{display:"block",margin:"auto"}})]})]}),Object(o.jsx)(C,{type:"submit",children:"ZMIE\u0143 GODZINY"})]})]})},U=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)([]),s=Object(u.a)(i,2),l=s[0],d=s[1],j=Object(n.useState)(!1),m=Object(u.a)(j,2),O=m[0],h=m[1],v=Object(n.useState)(),x=Object(u.a)(v,2),y=x[0],g=x[1],N=k(),I=N.isLoading,z=N.error,E=N.sendRequest,T=N.clearError,V=_({name:{value:"",isValid:!1},description:{value:"",isValid:!1},price:{value:"",isValid:!1},category:{value:"",isValid:!1},available:{value:"",isValid:!1}},!1),P=Object(u.a)(V,2),M=P[0],D=P[1],A=_({name:{value:"",isValid:!1}},!1),R=Object(u.a)(A,2),H=R[0],L=R[1];Object(n.useEffect)((function(){var e=function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E("".concat("https://niepospolita-restauracja.herokuapp.com","/api/category"));case 3:t=e.sent,c(t.category),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E("".concat("https://niepospolita-restauracja.herokuapp.com","/api/items"));case 3:t=e.sent,d(t.items),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e(),t()}),[E]),Object(n.useEffect)((function(){var e=function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!H.inputs.name.value){e.next=13;break}return e.prev=1,e.next=4,E("".concat("https://niepospolita-restauracja.herokuapp.com","/api/items/").concat(H.inputs.name.value));case 4:t=e.sent,h(t.item),g(t.item.available),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:e.next=14;break;case 13:return e.abrupt("return");case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();e()}),[E,H.inputs.name.value]);var q=function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,E("".concat("https://niepospolita-restauracja.herokuapp.com","/api/items/").concat(O.id),"PATCH",JSON.stringify({name:M.inputs.name.value,description:M.inputs.description.value,price:M.inputs.price.value,category:M.inputs.category.value,available:y}),{"Content-Type":"application/json"});case 4:alert("Zaktualizowano produkt"),window.location.reload(),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),U=a.map((function(e){return Object(o.jsx)("option",{value:e.id,children:e.name})})),Z=l.map((function(e){return Object(o.jsx)("option",{value:e.id,children:e.name})}));return Object(o.jsxs)(r.a.Fragment,{children:[Object(o.jsx)(W,{error:z,onClear:T}),I&&Object(o.jsx)(w,{asOverlay:!0}),Object(o.jsx)("h2",{children:"Zaktualizuj danie / produkt"}),Object(o.jsx)(S,{id:"name",element:"select",name:"select",label:"Wybierz Produkt",validators:[f()],errorText:"Wybierz poprawny produkt.",onInput:L,options:Z}),O&&Object(o.jsxs)("form",{onSubmit:q,children:[Object(o.jsx)(S,{id:"name",element:"input",type:"text",label:"Nazwa produktu",validators:[f()],errorText:"Wprowad\u017a poprawn\u0105 nazw\u0119.",onInput:D,initialValue:O.name}),Object(o.jsx)(S,{id:"description",element:"textarea",type:"text",label:"Opis produktu",validators:[f()],errorText:"Wprowad\u017a poprawny opis.",onInput:D,initialValue:O.description}),Object(o.jsx)(S,{id:"price",element:"input",type:"number",label:"Cena",validators:[f()],errorText:"Wprowad\u017a poprawn\u0105 cen\u0119.",onInput:D,initialValue:O.price}),a.length>0&&Object(o.jsx)(S,{id:"category",element:"select",name:"select",label:"Kategoria",validators:[f()],errorText:"Wprowad\u017a poprawn\u0105 kategori\u0119.",onInput:D,options:U,initialValue:O.category}),Object(o.jsx)("label",{for:"availability",style:{fontWeight:"bold",marginBottom:"0.5rem"},children:"Produkt dost\u0119pny"}),Object(o.jsx)("input",{id:"availability",type:"checkbox",onChange:function(){g((function(e){return!e}))},checked:y,style:{display:"block",margin:"auto"}}),Object(o.jsx)(C,{type:"submit",children:"ZMIE\u0143"})]})]})},Z=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],c=t[1],i=k(),s=i.isLoading,l=i.error,d=i.sendRequest,j=i.clearError,m=_({value:{value:"",isValid:!1}},!1),O=Object(u.a)(m,2),h=O[0],v=O[1];Object(n.useEffect)((function(){var e=function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d("".concat("https://niepospolita-restauracja.herokuapp.com","/api/value/").concat("61685af0e5a81699697aeb42"));case 3:t=e.sent,c(t.value),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[d]);var x=function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,d("".concat("https://niepospolita-restauracja.herokuapp.com","/api/value/").concat("61685af0e5a81699697aeb42"),"PATCH",JSON.stringify({newValue:parseInt(h.inputs.value.value)}),{"Content-Type":"application/json"});case 4:alert("Zaktualizowano warto\u015b\u0107"),window.location.reload(),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(o.jsxs)(r.a.Fragment,{children:[Object(o.jsx)(W,{error:l,onClear:j}),s&&Object(o.jsx)(w,{asOverlay:!0}),Object(o.jsx)("h2",{children:"Zmie\u0144 minimaln\u0105 warto\u015b\u0107 zam\xf3wienia"}),a&&Object(o.jsxs)("form",{onSubmit:x,children:[Object(o.jsx)(S,{id:"value",element:"input",type:"number",label:"Minimalna warto\u015b\u0107 zam\xf3wienia",validators:[f()],errorText:"Wprowad\u017a poprawn\u0105 warto\u015b\u0107.",onInput:v,initialValue:a.value}),Object(o.jsx)(C,{type:"submit",children:"ZMIE\u0143 WARTO\u015a\u0106"})]})]})},F=function(){var e=Object(n.useState)("0"),t=Object(u.a)(e,2),a=t[0],c=t[1];return Object(o.jsx)(r.a.Fragment,{children:Object(o.jsxs)("div",{className:"admin",children:[Object(o.jsx)("div",{className:"admin-navigation",children:Object(o.jsx)(d,{changeSection:function(e){console.log(e.target.id),c(e.target.id)}})}),Object(o.jsxs)("div",{className:"admin-content",children:["0"===a&&Object(o.jsx)(R,{}),"1"===a&&Object(o.jsx)(U,{}),"2"===a&&Object(o.jsx)(L,{}),"3"===a&&Object(o.jsx)(H,{}),"4"===a&&Object(o.jsx)(q,{}),"5"===a&&Object(o.jsx)(Z,{})]})]})})},B=a(6),G=(a(51),function(){return Object(o.jsxs)("ul",{className:"nav",children:[Object(o.jsx)("li",{className:"main-navigation",children:Object(o.jsx)(s.c,{to:"/",exact:!0,children:"Zam\xf3w"})}),Object(o.jsx)("li",{className:"main-navigation",children:Object(o.jsx)(s.c,{to:"/koszyk",exact:!0,children:Object(o.jsx)("span",{class:"fas fa-shopping-cart"})})})]})}),K=(a(52),function(e){var t=Object(o.jsx)(P.a,{in:e.show,timeout:200,classNames:"slide-in-left",mountOnEnter:!0,unmountOnExit:!0,children:Object(o.jsx)("aside",{className:"side-drawer",onClick:e.onClick,children:e.children})});return i.a.createPortal(t,document.getElementById("drawer-hook"))}),J=a.p+"static/media/logo.f284211f.png",Y=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],c=t[1],i=k(),l=(i.isLoading,i.error),d=(i.sendRequest,i.clearError),j=function(){c(!1)};return Object(o.jsxs)(r.a.Fragment,{children:[Object(o.jsx)(W,{error:l,onClear:d}),a&&Object(o.jsx)(M,{onClick:j}),Object(o.jsx)(K,{show:a,onClick:j,children:Object(o.jsx)("nav",{className:"main-navigation__drawer-nav",children:Object(o.jsx)(G,{})})}),Object(o.jsxs)("div",{className:"header",children:[Object(o.jsx)(s.b,{to:"/admin",className:"logo-link",exact:!0,children:Object(o.jsxs)("div",{className:"logo title",children:[Object(o.jsx)("img",{src:J,alt:"logo",className:"logo"}),Object(o.jsx)("span",{children:"Niepospolita Restauracja"})]})}),Object(o.jsxs)("button",{className:"main-navigation__menu-btn",onClick:function(){c(!0)},children:[Object(o.jsx)("span",{}),Object(o.jsx)("span",{}),Object(o.jsx)("span",{})]}),Object(o.jsx)("div",{className:"navigation",children:Object(o.jsx)(G,{})})]})]})},Q=(a(53),function(){return Object(o.jsxs)("div",{className:"footer",children:[Object(o.jsx)(s.b,{to:"/",className:"logo-link",exact:!0,children:Object(o.jsxs)("div",{className:"footer-logo logo title",children:[Object(o.jsx)("img",{src:J,alt:"logo",className:"logo"}),Object(o.jsx)("span",{children:"Powr\xf3t na stron\u0119 g\u0142\xf3wn\u0105"})]})}),Object(o.jsxs)("div",{className:"footer-menu",children:[Object(o.jsx)("h3",{children:"MENU"}),Object(o.jsxs)("ul",{className:"nav",children:[Object(o.jsx)("li",{className:"main-navigation",children:Object(o.jsx)(s.c,{to:"/",exact:!0,children:"Zam\xf3w"})}),Object(o.jsx)("li",{className:"main-navigation",children:Object(o.jsx)(s.c,{to:"/karta",exact:!0,children:"Koszyk"})})]})]})]})}),X=(a(54),function(e){return{itemCount:e.reduce((function(e,t){return e+t.quantity}),0),total:e.reduce((function(e,t){return e+t.price*t.quantity}),0)}}),$=function(e,t){switch(t.type){case"ADD_ITEM":return e.cartItems.find((function(e){return e.id===t.payload.id}))||e.cartItems.push(Object(z.a)(Object(z.a)({},t.payload),{},{quantity:1})),Object(z.a)(Object(z.a)({},e),{},{cartItems:Object(N.a)(e.cartItems)},X(e.cartItems));case"REMOVE_ITEM":var a=e.cartItems.filter((function(e){return e.id!==t.payload.id}));return Object(z.a)(Object(z.a)({},e),{},{cartItems:Object(N.a)(a)},X(a));case"INCREASE":var n=e.cartItems.findIndex((function(e){return e.id===t.payload.id}));return e.cartItems[n].quantity++,Object(z.a)(Object(z.a)({},e),{},{cartItems:Object(N.a)(e.cartItems)},X(e.cartItems));case"DECREASE":var r=e.cartItems.findIndex((function(e){return e.id===t.payload.id}));return e.cartItems[r].quantity--,Object(z.a)(Object(z.a)({},e),{},{cartItems:Object(N.a)(e.cartItems)},X(e.cartItems));default:return e}},ee=Object(n.createContext)(),te={cartItems:[],itemCount:0,total:0},ae=function(e){var t=e.children,a=Object(n.useReducer)($,te),r=Object(u.a)(a,2),c=r[0],i=r[1],s=Object(z.a)(Object(z.a)({},c),{},{addProduct:function(e){return i({type:"ADD_ITEM",payload:e})},removeProduct:function(e){return i({type:"REMOVE_ITEM",payload:e})},increase:function(e){return i({type:"INCREASE",payload:e})},decrease:function(e){return i({type:"DECREASE",payload:e})}});return Object(o.jsx)(ee.Provider,{value:s,children:t})},ne=function(e,t){return t.find((function(t){return t.id===e.id}))},re=function(e){var t=e.id,a=e.name,c=e.price,i=e.image,s={id:t,name:a,price:c,image:i,description:e.description},l=Object(n.useContext)(ee),u=l.addProduct,d=l.cartItems,j=Object(B.g)();return Object(o.jsx)(r.a.Fragment,{children:Object(o.jsxs)("div",{className:"item-card",children:[Object(o.jsx)("div",{className:"item-card__image",children:Object(o.jsx)("img",{src:"".concat("https://niepospolita-restauracja.herokuapp.com","/").concat(i),alt:a})}),Object(o.jsxs)("div",{className:"item-card__info",children:[Object(o.jsxs)("p",{children:[Object(o.jsx)("span",{style:{fontWeight:"bold"},children:a}),Object(o.jsxs)("span",{style:{fontWeight:"bold"},children:[c," z\u0142"]})]}),!ne(s,d)&&Object(o.jsx)(C,{onClick:function(){u(s)},children:"Dodaj do koszyka"}),ne(s,d)&&Object(o.jsx)(C,{onClick:function(){j.push("/koszyk")},children:"Przejd\u017a do koszyka"})]})]})})},ce=(a(55),function(e){return Object(o.jsx)("div",{className:"card ".concat(e.className),style:e.style,children:e.children})}),ie=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),i=Object(u.a)(c,2),s=i[0],o=i[1],l=Object(n.useState)(!1),d=Object(u.a)(l,2),j=d[0],p=d[1],b=Object(n.useState)(!1),m=Object(u.a)(b,2),O=m[0],h=m[1];return Object(n.useEffect)((function(){var e=(new Date).getDay(),t=(new Date).getHours(),a=(new Date).getMinutes();switch(p(t),h(a),e){default:r("Niedziela"),o("616866d188b1a5c67bdb3547");break;case 1:r("Poniedzia\u0142ek"),o("6168665588b1a5c67bdb3539");break;case 2:r("Wtorek"),o("6168666588b1a5c67bdb353b");break;case 3:r("\u015aroda"),o("6168667c88b1a5c67bdb353d");break;case 4:r("Czwartek"),o("6168669588b1a5c67bdb3540");break;case 5:r("Pi\u0105tek"),o("616866bd88b1a5c67bdb3543");break;case 6:r("Sobota"),o("616866c888b1a5c67bdb3545")}}),[]),{today:a,dayId:s,currentHour:j,currentMinute:O}},se=function(){var e=Object(n.useState)(),t=Object(u.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(),i=Object(u.a)(c,2),s=i[0],l=i[1],d=Object(n.useState)([]),j=Object(u.a)(d,2),m=j[0],O=j[1],h=Object(n.useState)(),v=Object(u.a)(h,2),x=v[0],f=v[1],y=Object(n.useState)(!1),g=Object(u.a)(y,2),N=g[0],C=g[1],I=Object(n.useState)(!0),z=Object(u.a)(I,2),E=z[0],S=z[1],T=k(),V=T.isLoading,_=(T.error,T.sendRequest),P=(T.clearError,ie()),M=P.today,D=P.dayId;Object(n.useEffect)((function(){window.scrollTo(0,0);var e=function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_("".concat("https://niepospolita-restauracja.herokuapp.com","/api/items/"));case 3:t=e.sent,r(t.items),l(t.items),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_("".concat("https://niepospolita-restauracja.herokuapp.com","/api/category/"));case 3:t=e.sent,O(t.category),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),a=function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_("".concat("https://niepospolita-restauracja.herokuapp.com","/api/value/").concat("61685af0e5a81699697aeb42"));case 3:t=e.sent,f(t.value),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),n=function(){var e=Object(b.a)(p.a.mark((function e(){var t,a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_("".concat("https://niepospolita-restauracja.herokuapp.com","/api/time/"));case 3:t=e.sent,C(t.time),a=t.time.find((function(e){return e._id===D})),n=a.available,S(n),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();e(),t(),a(),n()}),[_,D]);var A=function(e){var t;if("wszystko"===e.target.innerHTML)t=s;else{var a=e.target.innerHTML.toLowerCase();t=s.filter((function(e){return e.category.toLowerCase().includes(a)}))}r(t)},W=m.map((function(e){return Object(o.jsx)("li",{onClick:A,children:e.name},e.id)}));return Object(o.jsxs)("div",{className:"store",style:{backgroundImage:'url("'.concat("https://niepospolita-restauracja.herokuapp.com",'/uploads/images/10.jpg")')},children:[Object(o.jsxs)("div",{className:"store-info",children:[Object(o.jsx)("h1",{onClick:function(){return console.log(E)},children:"Zam\xf3w online!"}),Object(o.jsxs)("p",{children:["Minimalna kwota zam\xf3wienia: ",Object(o.jsxs)("b",{children:[x&&x.value," z\u0142"]})]}),Object(o.jsxs)("p",{children:[M&&M," -",!E&&Object(o.jsx)("b",{style:{color:"red"},children:"W dzisiejszym dniu nie dowozimy!"}),E&&Object(o.jsxs)("span",{children:[" W dzisiejszym dniu dowozimy w godzinach ",Object(o.jsx)("b",{children:N&&M&&D&&function(){var e,t;if(N&&M&&D){var a=(t=N.find((function(e){return e._id===D}))).time.start.hour,n=t.time.start.minute,r=t.time.end.hour,c=t.time.end.minute;e="".concat(a<10?"0"+a:a,":").concat(n<10?"0"+n:n," - ").concat(r<10?"0"+r:r,":").concat(c<10?"0"+c:c)}return e}()})]})]})]}),Object(o.jsx)(ce,{children:Object(o.jsxs)("div",{className:"categories",children:[Object(o.jsx)("h2",{children:"Wybierz kategori\u0119"}),Object(o.jsxs)("ul",{style:{color:"white"},children:[Object(o.jsx)("li",{onClick:A,children:"wszystko"}),m.length>0&&W]})]})}),Object(o.jsxs)("div",{className:"store-items",children:[V&&Object(o.jsx)(w,{asOverlay:!0}),a&&function(){var e;return a&&(e=a.sort((function(e,t){return e.name>t.name?1:-1})).map((function(e){return Object(o.jsx)(re,{id:e.id,name:e.name,price:e.price,description:e.description,image:e.image,category:e.category,available:e.available},e.id)}))),e}()]})]})},oe=(a(56),a(19)),le=a.n(oe),ue=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=(t[0],t[1],Object(n.useState)({valid:!1,message:""})),c=Object(u.a)(a,2),i=c[0],l=c[1],d=k(),j=d.isLoading,m=d.error,O=d.sendRequest,h=d.clearError,v=Object(n.useState)(!1),x=Object(u.a)(v,2),f=x[0],y=x[1],g=Object(n.useState)(!1),N=Object(u.a)(g,2),I=N[0],z=N[1],E=Object(n.useContext)(ee),S=E.cartItems,T=(E.itemCount,E.removeProduct),V=E.increase,_=E.decrease,P=E.total,M=ie(),D=M.today,A=M.dayId,R=M.currentHour,H=M.currentMinute;Object(n.useEffect)((function(){window.scrollTo(0,0);var e=function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("".concat("https://niepospolita-restauracja.herokuapp.com","/api/value/").concat("61685af0e5a81699697aeb42"));case 3:t=e.sent,y(t.value),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("".concat("https://niepospolita-restauracja.herokuapp.com","/api/time/"));case 3:t=e.sent,z(t.time),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e(),t()}),[O]),Object(n.useEffect)((function(){var e={valid:!1,message:""};if(S&&I&&D&&A&&R&&H){var t=I.find((function(e){return e._id===A})),a=t.time.start.hour,n=t.time.start.minute,r=t.time.end.hour,c=t.time.end.minute;t.available?P<f.value?(e.valid=!1,e.message="Minimalna kwota zam\xf3wienia to ".concat(f.value," z\u0142")):a>R||r<R||a===R&&n>=H||r===R&&c<=H?(e.valid=!1,e.message="W dzisiejszym dniu dania mo\u017cna zamawia\u0107 od ".concat(a<10?"0"+a:a,":").concat(n<10?"0"+n:n," do ").concat(r<10?"0"+r:r,":").concat(c<10?"0"+c:c)):(e.valid=!0,e.message=""):(e.valid=!1,e.message="W dzisiejszym dniu nie dowozimy")}return l(e)}),[S,I,D,A,R,H,P,f]);var L=S.map((function(e){var t={id:e.id,name:e.name,price:e.price,image:e.image,description:e.description},a=e.price*e.quantity;return Object(o.jsxs)("li",{className:"item-card",children:[Object(o.jsx)("img",{src:"".concat("https://niepospolita-restauracja.herokuapp.com","/").concat(e.image),alt:e.name}),Object(o.jsx)("span",{className:"item-name",children:e.name}),Object(o.jsx)("span",{class:"fas fa-minus item-quantity__handler",onClick:function(){_(t),function(e,t){e<=0&&T(t)}(e.quantity,t)}}),Object(o.jsx)("span",{class:"item-quantity",onClick:function(){le.a.setApiKey("AIzaSyCC2-7o0QiPK0-IoueeS0VgFOgUbWNE_Gw"),le.a.fromAddress("Eiffel Tower").then((function(e){var t=e.results[0].geometry.location,a=t.lat,n=t.lng;console.log(a,n)}),(function(e){console.error(e)}))},children:e.quantity}),Object(o.jsx)("span",{class:"fas fa-plus item-quantity__handler",onClick:function(){V(t)}}),Object(o.jsxs)("span",{class:"item-price",children:[a," z\u0142"]}),Object(o.jsx)("span",{class:"fas fa-times item-remove",onClick:function(){T(t)}})]},e.id)}));return Object(o.jsxs)(r.a.Fragment,{children:[j&&Object(o.jsx)(w,{asOverlay:!0}),Object(o.jsx)(W,{error:m,onClear:h}),Object(o.jsxs)("div",{className:"cart",style:{backgroundImage:'url("'.concat("https://niepospolita-restauracja.herokuapp.com",'/uploads/images/10.jpg")')},children:[Object(o.jsx)("h1",{onClick:function(){console.log(I)},children:"Tw\xf3j koszyk"}),S.length>0&&Object(o.jsx)(ce,{children:Object(o.jsxs)("div",{className:"cart-products",children:[Object(o.jsxs)("li",{className:"item-card titles",children:[Object(o.jsx)("span",{className:"item-name",children:"Nazwa produktu"}),Object(o.jsx)("span",{style:{width:"20%"},children:"Ilo\u015b\u0107"}),Object(o.jsx)("span",{style:{width:"10%"},children:"Cena"}),Object(o.jsx)("span",{style:{width:"10%",marginLeft:"5px"}})]}),L,Object(o.jsxs)("li",{className:"item-card summary ",children:[Object(o.jsx)("span",{className:"item-name"}),Object(o.jsxs)("span",{style:{width:"25%"},children:["SUMA:  ",Object(o.jsxs)("b",{style:{marginLeft:"5px",color:"white"},children:[P," z\u0142"]})]}),Object(o.jsx)("span",{style:{width:"5%",marginLeft:"5px"}})]}),Object(o.jsx)("li",{className:"item-card__alert",children:Object(o.jsx)("span",{children:!i.valid&&f&&Object(o.jsx)("p",{children:i.message})})})]})}),!S.length>0&&Object(o.jsx)("h3",{style:{color:"white"},children:"Brak produkt\xf3w w koszyku"}),S.length>0&&Object(o.jsx)(s.b,{to:"/zamowienie",children:Object(o.jsx)(C,{disabled:!i.valid,children:"Przejd\u017a do zam\xf3wienia"})}),!S.length>0&&Object(o.jsx)(s.b,{to:"/",children:Object(o.jsx)(C,{children:"Przejd\u017a do sklepu"})})]})]})},de=(a(57),a(20)),je=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=(t[0],t[1],Object(n.useState)(!1)),c=Object(u.a)(a,2),i=(c[0],c[1],k()),s=i.isLoading,l=i.error,d=i.sendRequest,j=i.clearError,m=Object(n.useState)(!1),O=Object(u.a)(m,2),h=(O[0],O[1],Object(n.useContext)(ee)),v=h.cartItems,x=(h.itemCount,h.removeProduct,h.increase,h.decrease,h.total,Object(de.useStripe)()),g=_({street:{value:"",isValid:!1},local:{value:"",isValid:!1},apartament:{value:null,isValid:!0},zipCode_start:{value:"",isValid:!1},zipCode_end:{value:"",isValid:!1},city:{value:"",isValid:!1},email:{value:"",isValid:!1},phoneNumber:{value:"",isValid:!1}},!1),N=Object(u.a)(g,2),I=N[0],z=N[1],E=function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=v.map((function(e){return{quantity:e.quantity,price_data:{currency:"pln",unit_amount:100*e.price,product_data:{name:e.name,description:e.description}}}})),e.prev=2,e.next=5,d("".concat("https://niepospolita-restauracja.herokuapp.com","/api/checkout/"),"POST",JSON.stringify({line_items:a,customer_email:I.inputs.email.value}),{"Content-Type":"application/json"});case 5:return n=e.sent,r=n.sessionId,e.next=9,x.redirectToCheckout({sessionId:r});case 9:e.next=13;break;case 11:e.prev=11,e.t0=e.catch(2);case 13:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(o.jsxs)(r.a.Fragment,{children:[s&&Object(o.jsx)(w,{asOverlay:!0}),Object(o.jsx)(W,{error:l,onClear:j}),Object(o.jsxs)("div",{className:"order",style:{backgroundImage:'url("'.concat("https://niepospolita-restauracja.herokuapp.com",'/uploads/images/10.jpg")')},children:[Object(o.jsx)("h1",{onClick:function(){return console.log(I.inputs)},children:"Uzupe\u0142nij dane do zam\xf3wienia"}),Object(o.jsx)(ce,{children:Object(o.jsxs)("form",{onSubmit:E,children:[Object(o.jsxs)("div",{className:"address-street",children:[Object(o.jsx)(S,{id:"street",element:"input",type:"text",label:"Ulica",validators:[f()],errorText:"Wprowad\u017a poprawn\u0105 nazw\u0119 ulicy.",onInput:z}),Object(o.jsx)(S,{id:"local",element:"input",type:"text",label:"Nr lokalu",validators:[f()],errorText:"Podaj poprawny nr lokalu.",onInput:z}),Object(o.jsx)(S,{id:"apartament",element:"input",type:"number",label:"Nr mieszkania",validators:null,initialValid:!0,onInput:z})]}),Object(o.jsxs)("div",{className:"address-city",children:[Object(o.jsxs)("div",{className:"address-city__zip",children:[Object(o.jsx)("div",{className:"address-city__zip-label",children:Object(o.jsx)("label",{children:"Kod pocztowy"})}),Object(o.jsxs)("div",{className:"address-city__zip-input",children:[Object(o.jsx)(S,{id:"zipCode_start",element:"input",type:"text",validators:[f()],errorText:"Podaj poprawny kod pocztowy.",onInput:z}),Object(o.jsx)("span",{children:"-"}),Object(o.jsx)(S,{id:"zipCode_end",element:"input",type:"text",validators:[f()],errorText:"Podaj poprawny kod pocztowy.",onInput:z})]})]}),Object(o.jsx)("div",{className:"address-city__city",children:Object(o.jsx)(S,{id:"city",element:"input",type:"text",label:"Miasto",validators:[f()],errorText:"Podaj poprawn\u0105 nazw\u0119 miasta.",onInput:z})})]}),Object(o.jsx)(S,{id:"email",element:"input",type:"email",label:"Email",validators:[f(),y],errorText:"Podaj poprawny email.",onInput:z}),Object(o.jsx)(S,{id:"phoneNumber",element:"input",type:"text",label:"Numer telefonu",validators:[f()],errorText:"Podaj nr telefonu.",onInput:z}),Object(o.jsx)(C,{type:"submit",disabled:!I.isValid,children:"P\u0141ATNO\u015a\u0106 PRZY ODBIORZE"}),Object(o.jsx)(C,{type:"submit",disabled:!I.isValid,children:"P\u0141ATNO\u015a\u0106 ONLINE"})]})})]})]})};var pe=function(){var e=Object(o.jsxs)(B.d,{children:[Object(o.jsxs)(B.b,{path:"/",exact:!0,children:[Object(o.jsx)(Y,{}),Object(o.jsx)(se,{})]}),Object(o.jsxs)(B.b,{path:"/koszyk",children:[Object(o.jsx)(Y,{}),Object(o.jsx)(ue,{})]}),Object(o.jsxs)(B.b,{path:"/zamowienie",children:[Object(o.jsx)(Y,{}),Object(o.jsx)(je,{})]}),Object(o.jsxs)(B.b,{path:"/admin",children:[Object(o.jsx)(l,{}),Object(o.jsx)(F,{})]}),Object(o.jsx)(B.a,{to:"/"})]});return Object(o.jsx)(s.a,{children:Object(o.jsx)(ae,{children:Object(o.jsxs)("div",{className:"App",children:[e,Object(o.jsx)(Q,{})]})})})},be=a(29),me=Object(be.a)("pk_test_51Jk4GMGWZ0HDywolv51jh7mQBSVrctzUKZlYBSjhYt3lI0TIXWjHx8RPl81hLrJtJ7huVWf6LHMNmfl4j5IOy0OF002KakNzGT");i.a.render(Object(o.jsx)(r.a.StrictMode,{children:Object(o.jsx)(de.Elements,{stripe:me,children:Object(o.jsx)(pe,{})})}),document.getElementById("root"))}},[[58,1,2]]]);
//# sourceMappingURL=main.65eab4ee.chunk.js.map