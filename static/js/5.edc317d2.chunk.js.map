{"version":3,"sources":["Components/Body/Cart.js","../node_modules/react-geocode/lib/index.js"],"names":["Cart","useState","valid","message","orderValid","setOrderValid","useHttpClient","isLoading","error","sendRequest","clearError","minOrderValue","setMinOrderValue","deliveryHours","setDeliveryHours","deliveryPrice","setDeliveryPrice","minBonusDeliveryPrice","setMinBonusDeliveryPrice","minBonusItemsPrice","setMinBonusItemsPrice","bonusItemCheckedId","setBonusItemCheckedId","bonusItems","setBonusItems","useContext","CartContext","cartItems","removeProduct","increase","decrease","total","addBonusItem","bonusItem","useDate","today","dayId","currentHour","currentMinute","useEffect","window","scrollTo","getMinOrderValue","a","process","responseData","value","getDeliveryHours","time","getDeliveryPrice","delivery_price","getBonusItems","getBonusItemsPrice","bonus_items_price","getBonusDeliveryPrice","bonus_delivery_price","orderValidation","currentDay","find","_id","endHour","end","hour","endMinute","minute","available","changeBonusItem","e","target","id","showCartItems","map","item","product","name","price","image","description","quantity","className","src","alt","class","onClick","checkProductQuantity","Geocode","setApiKey","fromAddress","then","response","results","geometry","location","lat","lng","console","toFixed","showBonusItems","type","onChange","checked","style","display","margin","marginTop","Fragment","asOverlay","onClear","length","color","marginLeft","fontSize","marginRight","to","disabled","require","asyncGeneratorStep","r","n","t","o","c","s","u","done","Promise","resolve","_asyncToGenerator","this","arguments","apply","Object","defineProperty","exports","default","DEBUG","API_KEY","LANGUAGE","REGION","LOCATION_TYPE","GOOGLE_API","log","warn","handleUrl","_handleUrl","mark","wrap","prev","next","fetch","catch","reject","Error","sent","json","status","abrupt","concat","error_message","stop","_default","apiKey","setLanguage","language","setRegion","region","setLocationType","locationType","enableDebug","fromLatLng","encodeURIComponent","address"],"mappings":"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","file":"static/js/5.edc317d2.chunk.js","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport \"./Cart.css\"\r\nimport Button from '../FormElements/Button'\r\nimport LoadingSpinner from \"../UIElements/LoadingSpinner\"\r\nimport { useHttpClient } from '../hooks/http-hook';\r\nimport { useDate } from '../hooks/date-hook';\r\nimport ErrorModal from \"../UIElements/ErrorModal\";\r\nimport { CartContext } from '../../context/cart-context';\r\nimport Card from '../UIElements/Card';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport Geocode from \"react-geocode\";\r\n\r\nconst Cart = () => {\r\n\r\n    const [orderValid, setOrderValid] = useState({valid: false, message: ''})\r\n    const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n    const [minOrderValue, setMinOrderValue] = useState(false);\r\n    const [deliveryHours, setDeliveryHours] = useState(false);\r\n    const [deliveryPrice, setDeliveryPrice] = useState(false);\r\n    const [minBonusDeliveryPrice, setMinBonusDeliveryPrice] = useState(false);\r\n    const [minBonusItemsPrice, setMinBonusItemsPrice] = useState(false);\r\n    const [bonusItemCheckedId, setBonusItemCheckedId] = useState(false);\r\n    const [bonusItems, setBonusItems] = useState([]);\r\n    const { cartItems, removeProduct, increase, decrease, total, addBonusItem, bonusItem } = useContext(CartContext);\r\n    const { today, dayId, currentHour, currentMinute } = useDate();\r\n\r\n    useEffect(() => {\r\n        window.scrollTo(0, 0)\r\n            const getMinOrderValue = async () => {\r\n                try {\r\n                    const responseData = await sendRequest(\r\n                    `${process.env.REACT_APP_BACKEND_URL}/api/value/${process.env.REACT_APP_MIN_VALUE_ID}`\r\n                  );\r\n                \r\n                setMinOrderValue(responseData.value)\r\n                } catch (err) {}\r\n            }\r\n            const getDeliveryHours = async () => {\r\n                \r\n                try {\r\n                    const responseData = await sendRequest(\r\n                    `${process.env.REACT_APP_BACKEND_URL}/api/time/`\r\n                  );\r\n                \r\n                  setDeliveryHours(responseData.time)\r\n                } catch (err) {}\r\n            } \r\n            const getDeliveryPrice = async () => {\r\n                \r\n                try {\r\n                    const responseData = await sendRequest(\r\n                        `${process.env.REACT_APP_BACKEND_URL}/api/delivery/${process.env.REACT_APP_DELIVERY_PRICE_ID}`\r\n                      );\r\n                      setDeliveryPrice(responseData.delivery_price.value);\r\n                } catch (err) {}\r\n            }\r\n            const getBonusItems = async () => {\r\n                \r\n                try {\r\n                    const responseData = await sendRequest(\r\n                        `${process.env.REACT_APP_BACKEND_URL}/api/bonus/`\r\n                      );\r\n                      setBonusItems(responseData.bonusItems);\r\n                } catch (err) {}\r\n            }\r\n            const getBonusItemsPrice = async () => {\r\n                \r\n                try {\r\n                    const responseData = await sendRequest(\r\n                        `${process.env.REACT_APP_BACKEND_URL}/api/bonus-items/${process.env.REACT_APP_BONUS_ITEMS_PRICE_ID}`\r\n                      );\r\n                      setMinBonusItemsPrice(responseData.bonus_items_price.value);\r\n                } catch (err) {}\r\n            }\r\n            const getBonusDeliveryPrice = async () => {\r\n                \r\n                try {\r\n                    const responseData = await sendRequest(\r\n                        `${process.env.REACT_APP_BACKEND_URL}/api/bonus-delivery/${process.env.REACT_APP_BONUS_DELIVERY_PRICE_ID}`\r\n                      );\r\n                      setMinBonusDeliveryPrice(responseData.bonus_delivery_price.value);\r\n                } catch (err) {}\r\n            }\r\n            getMinOrderValue()\r\n            getDeliveryHours()\r\n            getDeliveryPrice()\r\n            getBonusItems()\r\n            getBonusItemsPrice()\r\n            getBonusDeliveryPrice()\r\n    }, [sendRequest])\r\n\r\n    useEffect(() => {\r\n        const orderValidation = {valid: false, message: ''}\r\n        if(cartItems && deliveryHours && today && dayId && currentHour && currentMinute) {\r\n            const currentDay = deliveryHours.find(time => time._id === dayId)\r\n            const endHour = currentDay.time.end.hour\r\n            const endMinute = currentDay.time.end.minute\r\n            \r\n                if (!currentDay.available) {\r\n                    orderValidation.valid = false\r\n                    orderValidation.message = 'W dzisiejszym dniu nie dowozimy'\r\n                } else if (total < minOrderValue.value) {\r\n                    orderValidation.valid = false\r\n                    orderValidation.message = `Minimalna kwota zamówienia to ${minOrderValue.value} zł`\r\n                }\r\n                else if (endHour < currentHour || (endHour === currentHour && endMinute <= currentMinute)) {\r\n                    orderValidation.valid = false\r\n                    orderValidation.message = `W dzisiejszym dniu już nie dowozimy. Zapraszamy ponownie.`\r\n                    }\r\n                else {\r\n                    orderValidation.valid = true\r\n                    orderValidation.message = ''\r\n            }\r\n        }\r\n        return (\r\n            setOrderValid(orderValidation)\r\n            )\r\n    }, [cartItems, deliveryHours, today, dayId, currentHour, currentMinute, total, minOrderValue])\r\n\r\n    const getCoordinates = () => {\r\n        Geocode.setApiKey('AIzaSyCC2-7o0QiPK0-IoueeS0VgFOgUbWNE_Gw')\r\n        Geocode.fromAddress(\"Eiffel Tower\").then(\r\n        (response) => {\r\n          const { lat, lng } = response.results[0].geometry.location;\r\n        },\r\n        (error) => {\r\n          console.error(error);\r\n        }\r\n      );\r\n    }\r\n\r\n    const checkProductQuantity = (quantity, product) => {\r\n        if(quantity <= 0) removeProduct(product)\r\n    }\r\n\r\n    const changeBonusItem = (e) => {\r\n        setBonusItemCheckedId(e.target.id)\r\n    }\r\n\r\n    const showCartItems = cartItems.map(item => {\r\n        const product = { id: item.id, name: item.name, price: item.price, image: item.image, description: item.description };\r\n        const price = item.price * item.quantity\r\n        return (\r\n        <li className=\"item-card\" key={item.id}>\r\n            <img src={`${process.env.REACT_APP_AWS_URL}/${item.image}`} alt={item.name}></img>\r\n            <span className=\"item-name\">{item.name}</span>\r\n            <span class=\"fas fa-minus item-quantity__handler\" onClick={() => {\r\n                decrease(product)\r\n                checkProductQuantity(item.quantity, product)\r\n                }}></span>\r\n            <span class=\"item-quantity\" onClick={() => {getCoordinates()}}>{item.quantity}</span>\r\n            <span class=\"fas fa-plus item-quantity__handler\" onClick={() => {increase(product)}}></span>\r\n            <span class=\"item-price\">{price.toFixed(2)} zł</span>\r\n            <span class=\"fas fa-times item-remove\" onClick={() => {removeProduct(product)}}></span>\r\n        </li>\r\n            )\r\n    })\r\n\r\n    const showBonusItems = bonusItems.map(item => {\r\n        return <li className=\"item-card bonus-item\" key={item._id}>\r\n            <img src={`${process.env.REACT_APP_AWS_URL}/${item.image}`} alt={item.image}></img>\r\n            <div>\r\n                <span>{item.name}</span>\r\n                <input id={item._id} type='checkbox' \r\n                onChange={changeBonusItem}\r\n                onClick={() => addBonusItem(item)}\r\n                checked={item._id === (bonusItemCheckedId || (bonusItem && bonusItem.id))} \r\n                style={{display: 'block', margin: 'auto', marginTop: '1em'}} />\r\n            </div>\r\n            \r\n        </li>\r\n    })\r\n\r\n    return (\r\n        <React.Fragment>\r\n        {isLoading && <LoadingSpinner asOverlay />}\r\n        <ErrorModal error={error} onClear={clearError} />\r\n        <div className=\"cart\">\r\n                <h1>Twój koszyk</h1>\r\n                {cartItems.length > 0 &&<div className=\"cart-info\">\r\n                    <p>Koszt dowozu: <b>{deliveryPrice && deliveryPrice} zł</b>, w przypadku dowozu poza Lublin koszt obliczany wg odległości.</p>\r\n                    {minBonusDeliveryPrice && <p>Zamówienie powyżej {minBonusDeliveryPrice} zł <b style={{color: \"lightgreen\"}}>dostawa gratis!</b></p>}\r\n                    {bonusItems.length > 0 && minBonusItemsPrice && <p >Zamówienie powyżej {minBonusItemsPrice} zł <b style={{color: \"lightgreen\"}}>produkt gratis!</b></p>}\r\n                </div>}\r\n                {cartItems.length > 0 && <Card>\r\n            <div className=\"cart-products\">\r\n            <li className=\"item-card titles\">\r\n                    <span className='item-name'>Produkt</span>\r\n                    <span className='item-quantity-title'>Ilość</span>\r\n                    <span className='item-price-title'>Cena</span>\r\n            </li>\r\n                {showCartItems}\r\n            <li className=\"item-card summary \">\r\n                    <span className='item-name'></span>\r\n                    <span className='total'>SUMA:  <b style={{marginLeft: \"5px\", color: \"white\"}}>{total.toFixed(2)} zł</b> \r\n                    {total.toFixed(2) <= minBonusDeliveryPrice ? <b> + ({deliveryPrice} zł dostawa)</b> : <span style={{fontSize: \"0.7em\", color: \"lightgreen\"}}>(powyżej {minBonusDeliveryPrice} zł dostawa gratis)</span>} </span>\r\n            </li>\r\n            <li className=\"item-card__alert\">\r\n                    <span>{!orderValid.valid && minOrderValue && <p style={{marginRight: '1em'}}>{orderValid.message}</p>}</span>\r\n            </li>\r\n            {total.toFixed(2) > minBonusItemsPrice && <div>\r\n                <h3>Wybierz produkt gratis</h3>\r\n                <div className=\"bonus\">\r\n                {showBonusItems}\r\n                </div>\r\n            </div>}\r\n            </div>\r\n            \r\n            </Card>}\r\n            {!cartItems.length > 0 && <h3 style={{color: \"white\"}}>Brak produktów w koszyku</h3>}\r\n            {cartItems.length > 0 && <Link to=\"/zamowienie\"><Button disabled={!orderValid.valid}>Przejdź do zamówienia</Button></Link>}\r\n            {!cartItems.length > 0 && <Link to=\"/\"><Button>Przejdź do sklepu</Button></Link>}\r\n        </div>\r\n        </React.Fragment>\r\n        \r\n    )\r\n}\r\n\r\nexport default Cart\r\n","\"use strict\";var regeneratorRuntime = require(\"regenerator-runtime\");function asyncGeneratorStep(e,r,n,t,o,a,c){try{var s=e[a](c),u=s.value}catch(e){return void n(e)}s.done?r(u):Promise.resolve(u).then(t,o)}function _asyncToGenerator(e){return function(){var r=this,n=arguments;return new Promise(function(t,o){var a=e.apply(r,n);function c(e){asyncGeneratorStep(a,t,o,c,s,\"next\",e)}function s(e){asyncGeneratorStep(a,t,o,c,s,\"throw\",e)}c(void 0)})}}Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var DEBUG=!1,API_KEY=null,LANGUAGE=\"en\",REGION=null,LOCATION_TYPE=null,GOOGLE_API=\"https://maps.googleapis.com/maps/api/geocode/json\";function log(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];DEBUG&&(r?console.warn(e):console.log(e))}function handleUrl(e){return _handleUrl.apply(this,arguments)}function _handleUrl(){return(_handleUrl=_asyncToGenerator(regeneratorRuntime.mark(function e(r){var n,t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(r).catch(function(){return Promise.reject(new Error(\"Error fetching data\"))});case 2:return n=e.sent,e.next=5,n.json().catch(function(){return log(\"Error parsing server response\"),Promise.reject(new Error(\"Error parsing server response\"))});case 5:if(\"OK\"!==(t=e.sent).status){e.next=9;break}return log(t),e.abrupt(\"return\",t);case 9:return log(\"\".concat(t.error_message,\".\\nServer returned status code \").concat(t.status),!0),e.abrupt(\"return\",Promise.reject(new Error(\"\".concat(t.error_message,\".\\nServer returned status code \").concat(t.status))));case 11:case\"end\":return e.stop()}},e)}))).apply(this,arguments)}var _default={setApiKey:function(apiKey){API_KEY=apiKey},setLanguage:function(language){LANGUAGE=language},setRegion:function(region){REGION=region},setLocationType:function(locationType){LOCATION_TYPE=locationType},enableDebug:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];DEBUG=e},fromLatLng:function(lat,lng,apiKey,language,region,locationType){return _asyncToGenerator(regeneratorRuntime.mark(function a(){var c,s;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(lat&&lng){a.next=3;break}return log(\"Provided coordinates are invalid\",!0),a.abrupt(\"return\",Promise.reject(new Error(\"Provided coordinates are invalid\")));case 3:return c=\"\".concat(lat,\",\").concat(lng),s=\"\".concat(GOOGLE_API,\"?latlng=\").concat(encodeURIComponent(c)),(apiKey||API_KEY)&&(s+=\"&key=\".concat(API_KEY=apiKey||API_KEY)),(language||LANGUAGE)&&(s+=\"&language=\".concat(LANGUAGE=language||LANGUAGE)),(region||REGION)&&(REGION=region||REGION,s+=\"&region=\".concat(encodeURIComponent(REGION))),(locationType||LOCATION_TYPE)&&(LOCATION_TYPE=locationType||LOCATION_TYPE,s+=\"&location_type=\".concat(encodeURIComponent(LOCATION_TYPE))),a.abrupt(\"return\",handleUrl(s));case 9:case\"end\":return a.stop()}},a)}))()},fromAddress:function(address,apiKey,language,region){return _asyncToGenerator(regeneratorRuntime.mark(function o(){var a;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(address){o.next=3;break}return log(\"Provided address is invalid\",!0),o.abrupt(\"return\",Promise.reject(new Error(\"Provided address is invalid\")));case 3:return a=\"\".concat(GOOGLE_API,\"?address=\").concat(encodeURIComponent(address)),(apiKey||API_KEY)&&(a+=\"&key=\".concat(API_KEY=apiKey||API_KEY)),(language||LANGUAGE)&&(a+=\"&language=\".concat(LANGUAGE=language||LANGUAGE)),(region||REGION)&&(REGION=region||REGION,a+=\"&region=\".concat(encodeURIComponent(REGION))),o.abrupt(\"return\",handleUrl(a));case 8:case\"end\":return o.stop()}},o)}))()}};exports.default=_default;"],"sourceRoot":""}